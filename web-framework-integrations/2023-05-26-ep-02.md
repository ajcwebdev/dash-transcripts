Anthony Campolo demonstrates how to build a web application that interacts with the Dash blockchain using the Dash SDK and various web frameworks.

tl;dr: In this episode, Anthony Campolo walks through the process of building a web application that interacts with the Dash blockchain using the Dash SDK. He starts by setting up the environment and creating a wallet, then moves on to registering an identity and a name on the Dash network. Anthony demonstrates how to fetch data from the blockchain and display it in a React application. He also shows how the same functionality can be implemented in other web frameworks like Vue, highlighting the flexibility of the approach. The episode provides a step-by-step guide for developers looking to integrate Dash into their web applications.

00:00 - 03:47 - Introduction and Overview
Anthony introduces the topic of web framework integration with Dash and recaps the previous episode.

03:55 - 13:51 - Setting Up the Environment and Creating a Wallet
Anthony sets up the project structure, installs dependencies, and creates a wallet using the Dash SDK.

13:58 - 22:15 - Registering an Identity and a Name
Anthony registers an identity and a name on the Dash network using the SDK and explains the process.

22:39 - 32:42 - Fetching Data from the Blockchain
Anthony demonstrates how to fetch data from the Dash blockchain using the SDK and display it in the console.

33:34 - 48:05 - Building a React Application
Anthony builds a React application that fetches data from the Dash blockchain and displays it on the page.

48:59 - 53:48 - Implementing the Same Functionality in Vue
Anthony shows how the same functionality can be implemented in a Vue application, highlighting the flexibility of the approach.

---

[00:00] All right, hello, everyone. My name is Anthony Campolo, and this is episode two of what's this thing called?
[00:13] Web framework integration, I think. Yeah, if you saw my stream last week, I started building out some JavaScript stuff with Dash,
[00:28] and we're going to be continuing that today. Yeah, it was -- I learned a lot in a short amount of time about this Dash SDK and the
[00:39] kind of structure of the docs last time. Wrote a bunch of Node scripts that do -- hello, hello, thanks for joining.
[00:50] So we wrote a bunch of Node scripts that can do creating and retrieving an identity, which is basically like a domain, like a Dash domain, so it was ajcwebdevtest.dash.
[01:07] So we created that, and then creating a frontend to basically interact with that data on the blockchain.
[01:17] Hello, hello. It's like we got people watching on YouTube and Twitch right now.
[01:23] Cool. Cool.
[01:25] All righty. Yeah, and through the magic of chat GPT, I already have a million frontends for this
[01:34] thing. It was great, because it's -- something I always say is that Web 3 is JAMstack by default,
[01:46] which basically means that you're always, because of the nature of Web 3 applications, you're always going to have a fairly clear separation between your frontend and your
[01:55] backend, because there's like the blockchain and then not the blockchain. In this sense, the blockchain is the backend.
[02:02] But once you have kind of decoupled that, and you're just calling an API, in the sense of the API being the blockchain, all you have to really do then is figure out how to map
[02:15] that fetch call to each different frontend framework. So I start with React, usually, because I'm a React kid, and then I was just like, chat
[02:26] GPT, take this React component, turn it into a Vue component, and then just write it again in Vue.
[02:32] And I said do it again in Svelte, do it again in Solid, in Lit, in Angular, in Alpine, and then it can do Qwik, if I gave it some code examples, it probably could figure it out.
[02:48] And then Vanilla, Vanilla JavaScript also. And then the backend is just like an express server.
[02:56] So why don't I share my code so we can start looking at what's happening here. Let's see, is my screen all clear?
[03:11] Looks pretty good. I hope people are excited for the weekend.
[03:19] Happy Friday, everybody. If you got something fun you're going to be doing, let me know in the chat what you're
[03:30] going to be up to. Okay.
[03:32] That looks good. So we're going to move that here.
[03:41] Okay. Cool.
[03:47] Cool. All right.
[03:55] So I'm also kind of working on, I always do these blog posts called a first look at something new.
[04:04] So I've got a whole lot of these blog posts, and I find that for me it's a really good way of kind of organizing my thoughts around a subject.
[04:14] So I'll explain kind of what it is. This intro has also got a little help from chat GPT.
[04:22] So I talk about a little bit of the history of the project, and then the Dash platform, some of the different libraries we have.
[04:33] Let's do this. So digital currency launched in 2014, pretty lengthy time for a blockchain project to be
[04:44] around that long. It actually means it kind of came out around the same time as when Ethereum came out.
[04:50] EvoNet, I feel like that's why I kept seeing something that looked like that in the library name.
[05:00] Anyway, cool. So we learned last time that the JSON RPC is probably going to be deprecated at some
[05:12] point. So these examples are not as useful as I thought they were going to be.
[05:22] But let's kind of start totally from scratch here and build up this project again. All right, so first dependencies is we have this Dash SDK, and then .emv for our environment
[05:56] variables. And what I did in this readme is I start by kind of adding in all of these scripts here.
[06:11] So last time this is mostly what we were looking at is on the Dash documentation, which is at dash.org.
[06:21] Go to the platform, guys, documentation. And mostly it was the create and fund a wallet and then identities and names.
[06:35] This set of stuff is what we got now. And I modified the scripts just a little bit to make them basically output your environment
[06:49] variables for you. So I'll show you that in a second.
[06:54] Let me just grab this whole thing here. Okay, so
[07:30] the scripts that we're going to be focusing on are going to be create wallet, create identity, and register name.
[07:43] We can also update our identity and this is some other ones here about just checking verifying information on the blockchain.
[08:04] And then here serve, this is what serves the backend. So let's go a little ahead.
[08:18] And then the way I'm going to break up this project is it's going to be kind of interesting. It's going to be the scripts folder, which will be all of these just node scripts.
[08:31] And these will be I usually think of this as kind of like the base implementation because it's just JavaScript code.
[08:37] And ideally you can port that to wherever you need to. Well, I tried to deploy the backend on some different serverless function providers and
[08:50] some weird stuff happened. So right now we're going to be writing this in an express server.
[08:56] It'll be the scripts folder, which is going to be all the node scripts. Then there'll be an API folder where I'm going to run the express server.
[09:06] And that's also where I'm going to put like serverless function attempts and things of that nature.
[09:12] And then each different frontend will have its own directory. It'll be a React directory, a Vue directory, a Svelte directory.
[09:19] And then ideally there will be a root package.json, which will be used to run any of the scripts or the API.
[09:32] And then a second directory that will run one of the subdirectories. So then you'll have two things running at once.
[09:39] So that doesn't make any sense at all. You will see very quickly what I'm talking about.
[09:46] Okay. Let's do that, that, this.
[09:52] And let me actually get that in there. Yeah.
[10:16] Okay. Cool, cool.
[10:25] Okay. So we're at the -- okay.
[10:32] This is -- so then in the scripts folder, there'll be a single file client where we're importing the dash object and our .env configuration.
[10:44] And this is where we're going to configure R, the thing that actually talks to the Dash blockchain itself.
[10:55] And I'm going to be abstracting lots of environment variables in the project. So right now we're setting the network to testnet.
[11:11] You see that in this example here. And the examples in the documentation, a couple important changes that I'm making, which is
[11:24] they always include the client and the client configuration at the top with the script below it.
[11:34] Whereas I have my own file, and that way we're not going to get confused about how many client objects there are or what they're doing.
[11:41] So I think that's pretty important. And then we're setting network.
[11:50] I'm also using ESM here instead of require. Okay.
[11:54] So that seems to be pretty good. Okay.
[12:07] So now these first couple of scripts, let's go through these quickly, R for just reading data on the blockchain.
[12:18] So this will be get best block hash, working great. So that is running client dot get dappy client, and then you run dot core dot get best block
[12:41] hash. And then we do a little error handling here, and then we console log the data like so.
[12:50] So that's pretty standard. And then we got get block hash over here.
[13:02] And for this you're specifying, I think it's called like height, or actually no, the next one is, yeah, get block by height.
[13:36] Then this one is, it's a buffer, so you got to make sure to handle that correctly. Okay.
[13:51] So now, now the interesting stuff starts to happen. So we're going to update our client.
[13:58] Now we're, in addition to the test network, we are adding in a wallet. And the first time we do this, there is no mnemonic because we don't have a wallet yet.
[14:10] We want to create a wallet from scratch. That's why we need the create wallet script.
[14:19] You'll see here now I'm going to be console logging out the exact things we're going to need to copy paste into our .env file, and makes it pretty clean and easy to deal with.
[14:35] So this is going to create this new wallet, which has a wallet address and a new money. And having access to this gives you access to the whole wallet and everything on it.
[14:50] So obviously you do not want to share it with the world on a stream, but this is all just on testnet, so no harm, no foul.
[15:00] Okay. So I copy paste that into .env and then they have this testnet faucet.
[15:12] Go ahead and give myself some dash, not a robot. Let's see if that works.
[15:30] By the way, this is not secure, not good, not good. Success.
[15:39] Okay. So if you want to check out the Explorer, so this is where you can see what is happening
[15:51] on the chain of blocks that is the blockchain, and then since we just did that unconfirmed transaction, you need to put that transaction on a block and verify the block on a bunch
[16:04] of nodes. So we just, we pop this open, you can see more information.
[16:11] Yeah, so this is the wallet address and then this is the transaction itself. We will let that sit for a second and okay.
[16:30] So now that we have a wallet, we are able to use that wallet to register an identity. So an identity is what's going to be basically our domain, so this is back under script.
[16:50] So now we're layering on a couple of other things. We have the mnemonic we're grabbing from our environment variable, and this is for letting
[17:02] you work with the blockchain without always having to sync the whole history and state of it, just a little bit, that just being because when you have a blockchain that is
[17:16] append only, then you end up with this logger and logger basically database of information that gets bigger and bigger and more unmanageable as the years go on.
[17:27] So what this does, it says like, hey, ignore block this through that because ideally it should never change anyway.
[17:36] So once you run it once, you should be able to kind of cache it. Now let's do the create identity, okay, so now this is where it starts getting interesting.
[17:51] So I am going to do here is the identity is going to have an ID associated with it, and then we're able to use that ID to retrieve the identity or retrieve the identity ID itself.
[18:13] Okay, so let's just do that first. And so this is going to do the same thing where it's going to basically console log
[18:35] us out exactly what we need here. Okay, taking its sweet time.
[19:10] So this is what I was saying about why you want to sync the not have to sync the whole chain.
[19:18] So I think that is why it's taking some time. When Evo, that's a good question.
[19:25] What is Evo truly though? Okay, let's just kind of go ahead here while this is thinking.
[19:40] Something wrong here. Interesting.
[19:49] Oh, there it goes. Sweet.
[20:10] Okay, so this is now our identity ID. And you can use that to retrieve the ID or the identity.
[20:31] That's good, that's good. AJ says the dash incubator will be the main driver for dash adoption.
[20:40] What are you guys working on? Yeah, dash incubator seems pretty sweet.
[20:47] That's kind of what is funding and organizing my work. And I am working on the dash platform.
[20:57] Okay, should be all good. So now we're taking the identity ID and feeding it in and then running platform.identities.get.
[21:12] And then console logging out the data and we see we get this thing here. It looks similar to this here.
[21:29] So it tells us the protocol version, it gives us the ID and then we have some public keys. Let me include the one, this one.
[21:51] All right, now we got these two public keys here. If we go back and look here, we should see that we start to have some confirmed transactions.
[22:08] So that's cool. We got some dash in this wallet now.
[22:15] Okay, so this now will retrieve the identity ID specifically. That's going to print us out an array with each of the IDs we saw.
[22:39] Here we had two public keys, each with an ID and then top up identity. This is, there's something called credits.
[22:59] I'm not super clear on, I think they might be like gas. That's kind of the first thing I thought when I saw it.
[23:12] Gas being how Ethereum kind of moderates demand. People can pay more gas to speed up a transaction.
[23:27] But that might not actually be the best example or comparison. Then there's something called depths.
[23:40] Yeah, so someone will have to ask Rion about more. So cool, cool, great.
[23:49] So there, actually we just have the one because, yeah, the ID is grabbing. Okay, so I'm going to skip a couple of these, I'm going to skip top up identity and go right
[24:09] to register name. So I'm going to create a new name now.
[24:32] So yeah, this is what I want to change. Okay, so yeah, label, that's what it was.
[25:25] I'm just second guessing myself because I had done some work yesterday that I'm not seeing now.
[25:40] But anyway, I had abstracted this out to its own environment variable called label, but not really that important.
[25:47] Let's change this to dash stream test. Yeah, a little wordy, but it should be fine.
[26:03] Okay, and we're already feeding it our identity ID, so that's all good. And then it should output our name back to us all according to plan.
[26:24] So this is feeding in the identity ID and then running get ID and then feeding in both of those things along with your new name to platform.names.register.
[26:44] And then we run the function and console.devs are the same as Satoshi's and BTC, they're the base.
[26:53] Ah, okay, so that makes sense. Still confused then what credits are and how credits have to do with all this stuff.
[27:04] Because that's simple, that's just cents versus dollars, you know. Yeah, so right now we're using the dash platform name service.
[27:29] Cool, looks like it worked. So now we got this dash name, which is dash stream test and retrieve name, it's called
[27:43] duff, goes to honor the creator of dash, Evan Duffield, huh, cool, whenever I hear duff, I just think of Duffman.
[27:57] So duff is a beer, fictional beer in the Simpsons. Okay, retrieve name, all right, so this object here is your dash name.
[28:29] Okay, that didn't, that did not exactly work. This is not retrieving what I want to retrieve right now and that's because, duh, it's resolving
[29:13] to this right here, dash stream test, there we go. So this actually, I know what's wrong, I want that and this and that.
[29:42] That should do that now, okay, okay, not quite. Oh, okay, I think that's where I messed up, boom, now we're talking, okay.
[30:33] So yes, yes, yes, yes, yes, yes. Okay, so now I see this is what we just created, dash stream test, cool, cool, cool, cool,
[31:15] cool, so you can kind of differentiate between these two if you want, this is the label and this is the domain and then this is the dash name, it's when you put the two of them together.
[31:31] Sorry, I'm going to just grab some water very quickly, I'll be right back. Okay.
[31:49] All right, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool,
[32:42] cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool,
[33:34] cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool,
[34:29] cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool,
[35:21] cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool,
[36:03] cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool,
[36:52] cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool,
[37:45] cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool,
[38:38] cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool,
[39:25] cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool,
[40:17] cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, cool, [silence]
[40:55] Okay. [humming]
[41:10] For me. Okay.
[41:25] [silence] And I could do this with the beat template, but I kind of like walk through the steps of actually building it piece by piece.
[42:02] And so it's a useful mental exercise. Okay, so we got our beat config using the React plugin.
[42:16] Just hold up, hold up. Actually, no, because I'm already in there.
[42:40] Okay, so this scaffolds out the main things we need. We're going to have an index.html, which is an import from main.jsx. Main.jsx, importing our app component.
[42:59] And come back to a second. Come back to that in a second. Let's grab all of this.
[43:14] Okay. So this is going to create a piece of state and set it in a variable called blockchain_data.
[43:29] Could probably give that a better name, kind of representing the fact that it's hitting this name here. Let's go ahead and change that to -stream_test.
[43:44] And this should still be running over here, so we know that this is still chilling. That's good, that's good.
[43:53] And this is the thing that I had chatGBT write in a whole bunch of different frameworks. So this should be client or dev.
[44:10] All right. Yep, okay.
[44:22] Okay, moment of truth. Bam.
[44:27] So that's how you know it worked. That's why they pay me the big bucks.
[44:32] So if we look in the network over here, we can see that we have these fetches happening right here. So that's fetching from here, and then it's displaying out this data like so.
[44:48] That's -stream_test. And if we wanted to, we could just change the name of this to ajcwebdev_test.
[45:04] And then we'll get different data back here. So the React boilerplate is basically the Vite starter template.
[45:25] Oh, I spelled this wrong. There we go.
[45:35] So it's very similar to create React app, but it's using Vite instead of Webpack. And this is pretty much the recommended way of doing this these days.
[45:48] I am a heretic, and I'm using JavaScript and not TypeScript right now. But if you want to check out, here is basically what I'm working with here.
[46:13] Okay, so I'm going to encrypt it with the same name. What do you mean?
[46:32] Okay, now to kind of abstract this out a little bit into more composable functionality, I want to have a button that will allow me to actually trigger this fetch,
[46:47] because right now it just happens as soon as you open the page, the use effect runs, and it just gives it to you, bam.
[46:55] But I want to have a little more control over that. Let's keep it consistent.
[47:15] So with this now, I'm going to have a fetch data function as being put in the use effect, and then we have an onClick handler that will trigger the fetch.
[47:36] Now we have a separate piece of state that will hold whether we have triggered the fetch or not. And then we have another piece of state to display a little loader while it's loading.
[47:49] So that looks like it will be all good. All right, awesome.
[48:05] So we saw there how for a brief second it says loading, and then it gives us the data. So that's kind of like what I'm thinking of how to create an MVP, minimum viable product.
[48:22] This is what I like to do, where I want to have an end-to-end experience. There needs to be an app, it needs to be connected to a thing.
[48:33] What is the simplest possible thing I can get it to do that shows that the thing is connected to the other thing. So this is the thing, React, connected to the other thing, Express, connected to the dash, and great.
[48:50] So let's look ahead now. So I'm not going to deploy this because that part is what was breaking.
[48:59] But just to give you a little taste of what's to come, let's take a look at one of these other examples. So I already had some examples.
[49:32] There we go. I'm going to pull in view.
[49:52] Great, great, great. And then after I show how I do this, I'm going to log off because I'm taking the weekend off.
[50:05] Going to a nice little place about two hours away with my partner. And so we want to leave in like an hour or two for that.
[50:16] Okay, so this is now going to view. So I got here, this is again another Vite app, and this is why Vite is super sweet because that's what's kind of managing each of these different front-end frameworks.
[50:32] And probably want to change these to what the other ones were. So again, we have index.html, and now we have a -- instead of having a main.jsx, it's just a main.js, which is importing our view app.
[50:59] So this is like the app.jsx, but it's app.view. Right here.
[51:27] Okay. So now we have that going.
[51:34] We can actually run it. See if that all went according to plan.
[51:54] So now notice how we got the view there. Great, okay, so still some things to work out with that null that it's showing in the beginning.
[52:06] Don't want that. But I need to have a loading.
[52:11] Yeah, I have a loader already. Great.
[52:13] Cool, so this is now where we can kind of see where the abstraction line happens. So we have this express server running here, and then we can create as many friends as we want that hit that endpoint, which is managing the connection to the blockchain itself.
[52:32] So there are going to be a whole bunch of different front-end frameworks that are going to be doing this. So I've already got Svelte working along with React and Vue and Angular via analog.js metaframework.
[52:53] And, yeah, and then I already have -- ChatGPT wrote me the code already for Alpine and Lit. And I've never really used any of those frameworks, so that will take a little time for me to just get that set up.
[53:05] But, yeah, so I'm probably going to -- there's going to eventually be some sort of repo that's going to live somewhere. I was going to have all these examples in them, and I'll talk to Rion about what's going to be the best way to manage that.
[53:17] But, yeah, thank you, everyone, who was hanging out and watching. This was super fun.
[53:26] I'm going to aim to do this once a week, so hopefully next week. It might be earlier in the week.
[53:34] I'm still kind of working out the day. It might be Wednesday, but keep an eye on the Dash Incubator YouTube and Twitch.
[53:42] And I am, of course, AJCwebdev on the internet. And, yeah, this will about close down for me.
[53:48] So have a good weekend, everybody. 
