---
showLink: "https://www.youtube.com/watch?v=_a1Nsu0srD4"
channel: "Dash Incubator"
channelURL: "https://www.youtube.com/@dashincubator"
title: "Code Hangout: Next-Gen DASH Tools #17: Dash HD: Docs & API Updates"
publishDate: "2023-02-15"
coverImage: "https://i.ytimg.com/vi/_a1Nsu0srD4/maxresdefault.jpg"
---

## Episode Description

The developer spends 5 hours refining and documenting a Dash HD wallet library, focusing on API design, error handling, and creating clear examples.

## Episode Summary

In this extended coding session, the developer works on improving the Dash HD wallet library, with a primary focus on documentation and API design. They start by restructuring the README file and API documentation, aiming to make it more accessible and understandable. A significant portion of the stream is dedicated to discussing and implementing proper error handling for rare edge cases in key derivation. The developer emphasizes the importance of explicit error reporting over silent failure to prevent subtle bugs. Throughout the session, they iteratively refine code examples, experiment with different documentation formats, and discuss the rationale behind various design decisions. The work also touches on cross-library compatibility, the challenges of working with cryptocurrency standards, and the broader implications of their design choices for the Dash ecosystem.

## Chapters

00:00 - Initial Documentation Structure and API Design

The developer begins by organizing the structure of the README file and API documentation for the Dash HD wallet library. They create sections for installation instructions, quick start guide, and detailed API documentation. There's a focus on making the information easily accessible and understandable for other developers.

52:31 - Addressing Key Derivation Edge Cases

A significant portion of the stream is dedicated to discussing an important edge case in HD wallet key derivation. The developer explains how, in extremely rare cases, key derivation might fail due to mathematical constraints of elliptic curve cryptography. They emphasize the importance of documenting this possibility and propose strategies for handling such cases, arguing for explicit failure over silent handling to prevent subtle bugs.

1:36:42 - Refining API Examples and Syntax Highlighting

The developer works on improving the presentation of API examples in the documentation. They experiment with different methods to provide syntax highlighting without disrupting the overall document structure, aiming to make the examples more readable and easier to understand at a glance.

2:45:00 - Cross-Library Compatibility and Standards Discussion

This section involves a discussion about how the library interacts with other parts of the Dash ecosystem. The developer considers the implications of their design choices on cross-library compatibility and reflects on the challenges of working with established cryptocurrency standards.

3:30:00 - Implementation of Error Handling and Edge Cases

Building on the earlier discussion about edge cases, the developer implements and documents the agreed-upon approach for handling rare derivation failures. This includes updating the API to properly communicate these potential issues to users of the library.

4:15:00 - Final Polishing of Documentation and Examples

In the last portion of the stream, the developer focuses on polishing the overall structure and content of the documentation. They work on creating concise yet informative descriptions for each function in the API, ensuring that the most important information is easily accessible. The session concludes with a discussion on the importance of clear, thorough documentation in open-source projects and its potential impact on adoption within the Dash developer community.

## Transcript

[00:00] you
[00:02] you
[00:04] you
[00:06] you
[00:08] you
[00:10] you
[00:12] you
[00:14] you
[00:16] you
[00:18] you
[00:20] you
[00:22] you
[00:24] you
[00:26] you
[00:28] you
[00:30] you
[00:32] you
[00:35] you
[00:37] you
[00:39] you
[00:41] you
[00:43] you
[00:45] you
[00:47] you
[00:49] you
[00:51] you
[00:53] you
[00:55] you
[00:57] you
[00:59] you
[01:01] you
[01:03] you
[01:05] you
[01:07] you
[01:10] you
[01:12] you
[01:14] you
[01:16] you
[01:18] you
[01:20] you
[01:22] you
[01:24] you
[01:26] you
[01:28] you
[01:30] you
[01:32] you
[01:34] you
[01:36] you
[01:38] you
[01:40] you
[01:43] you
[01:45] you
[01:47] you
[01:49] you
[01:51] you
[01:53] you
[01:55] you
[01:57] you
[01:59] you
[02:01] you
[02:03] you
[02:05] wow hello hello and welcome back no logo roll i still need a button for that i'm gonna
[02:33] have to get a bigger stream deck with more buttons on it or maybe just clear off some of the buttons i
[02:38] don't use that's probably the smarter thing to do you know so and and there is a twitch button i
[02:45] have that doesn't mark but i don't i don't really know i don't really know how that works there's a
[02:51] couple other buttons i don't know what they do anyway so uh moving right along we're going to
[02:57] continue where we left off a little bit earlier except except that now we're ready for getting
[03:01] real work done because we've got a mr mountain dew so pop it up my friends and open focus
[03:09] nom nom excellent okay so i updated the documentation i was kind of going around
[03:23] in the the api and just starting to feel a little bit lost and unsure and so i went back to the
[03:30] documentation and i feel like i've now got things in a good place where i know what i need to do
[03:39] next and i know how i'm going to need to test this with my wallet uh the one that i've already
[03:45] i've already built and the test is basically going to be the big test is going to be when i
[03:58] swap this out can i delete the cash on my wallet and have everything update
[04:03] and be the same that's kind of the how do we know that it worked for sure
[04:09] i might what i might do is just create a test wallet and make a bunch of test payments of
[04:14] say um you know a deca dash or a or a mila dash or something no not deca dash what's the
[04:23] centidash a centidash a centidash deca dash is 10 dash centidash would be a tenth of a dash anyway
[04:32] so that's where we're gonna we're gonna start back from also i'll need to test against just
[04:38] these and make sure that these are still right thankfully i do have you know there is an
[04:44] implementation that that i forked this from that i can use to make sure that i haven't changed
[04:49] anything as we go here okay so let's see we are going to go back into dash hd and i'm just going
[05:02] to make sure that these things are available so where was main net i had this main net variable
[05:09] i'm also going to do receive which is going to be um use zero
[05:19] use zero and this will be
[05:27] use one so i guess this was supposed to be external this is supposed to be internal is that
[05:37] am i using those terms correctly i'll have to double check on that and i spell receive correctly
[05:43] you know i before e except in all of the words that you actually use it in right
[05:48] receive receive receive i think receive is one of the exceptions yeah it's kind of weird because
[05:59] it seems like there's that rule i before e except every c and then all the words that you commonly
[06:05] use every day like there and receive and several science that science is the anti-rule
[06:18] i think there was another one okay so we're gonna do that and oh whoops this is going to
[06:32] be not in hd versions but this is going to be a number whoops number with an n not umber
[06:49] i don't remember what this comm comment was for
[06:55] uh the one with a receive equals zero and change equals one uh use types
[07:15] whoops change needs to be one duh
[07:24] okay cool
[07:25] and then where was that there was another equal zero i had somewhere
[07:30] that needs to be changed to i think this should be changed to use that's what i'm going to call it
[07:36] dash hd dot receive
[07:51] i'm so happy and surprised that use is not a keyword
[07:59] okay so let me go back to the documentation here and we're just going to walk through the
[08:08] documentation that i created and basically create the same thing so we should have a
[08:12] derive wallet at the top level derive wallet there we go so and we need to document the purpose and
[08:21] the coin type and i think uh do i want yeah yeah we'll go we'll keep it with coin type i think
[08:29] derive wallet hd from seed and this is going to be so we are going to have a number
[08:42] purpose 44 by default
[08:59] and then we're going to have a number a number that is
[09:02] uh coin type
[09:04] and then we're going to say five dash
[09:11] bit 44
[09:14] and so you don't have to supply these
[09:24] main net by defaults
[09:26] priv xpub
[09:33] okay
[09:54] all right so the top level things that we need to be worried about let's see from dash hd
[10:00] receive okay i think that we're actually going to turn this into this is going to
[10:08] become dash keys so let me go fix that real quick
[10:15] so
[10:24] okay
[10:38] so
[10:47] see what am i using dash keys for
[10:49] mainly encoding and decoding it looks like
[11:01] the decoding is the one i need to think about a little bit
[11:05] so
[11:14] because i think i want dash keys to kind of just be the base 58 stuff and not even put that in here
[11:19] yeah that keeps this a little bit simpler
[11:29] so
[11:37] hmm interesting
[11:56] ah okay there we go there's the serialize right okay
[12:02] so i think that i will actually get rid of that
[12:07] that's fine we'll keep it as is for now
[12:25] but i think the final version of this in order for the test to run
[12:29] they are going to need to have the serialization format included
[12:34] uh just because we need you know we need to serialize things things that we can
[12:41] we can make testable we need to serialize in a different way we could just do hex i mean that
[12:45] that wouldn't that wouldn't uh you know do me any harm here
[12:51] let's see ripe md so there's a few things that we're using from dash keys
[13:03] yeah maybe okay so actually you know what i think for the purposes of this i think i will keep
[13:11] the 2x priv 2x pub on the outside here well i'll have to think about it but that's not the thing i
[13:19] need to worry about right now that's not the thing that's most important to uh to bike shed with
[13:25] myself about yet okay that layer of abstraction may be the right layer of abstraction leave it
[13:41] leave as is okay uh
[13:50] okay so let's go back to here so we're looking at 2x priv and then we give it an x key
[14:04] so
[14:06] and this looks like this is gonna be right so okay
[14:20] so i think i want to add some tests in here
[14:34] we're going to make sure that
[14:37] uh let's see i don't want to use the existing test
[14:44] probably i'm not going to do that yet i'm just going to focus on finishing
[14:52] finishing out the api okay so we've got derived wallet
[15:00] and then maybe we could have it be seed and then options
[15:04] no don't need to worry about that yet but okay move along derive account okay so
[15:15] a wallet needs to be able to derive an account agreed
[15:22] so
[15:30] so
[15:43] and then what do we need to be able to do with an account
[15:57] agreed we need to be able to derive an x priv
[16:06] and derive an x pub
[16:10] and
[16:25] so we need to be able to get
[16:31] keys
[16:37] okay
[16:47] so we don't need to get
[16:53] the derive is fine we don't need to get because we've already got i think that i did the right
[16:59] thing in terms of serialization and deserialization take place at the top level they're not really
[17:05] because they have nothing to do with the instance itself it's you give the data you put the data in
[17:11] you don't need to create an instance to put the data in
[17:13] some of this stuff derivation it's it is more reliant on the state
[17:20] of the thing whereas the going back and forth between the formats is not
[17:26] reliant on the state of the thing so we can derive an x priv and we can drive an x pub
[17:32] that's all good all right cool i don't mind that
[17:49] and then this is pretty simple this is not uh it's not too complicated
[17:53] let's see here
[17:57] i kind of do want to pull this out though
[18:08] so
[18:17] so
[18:26] hmm
[18:40] i don't know it seems like that's small enough we might not need
[18:47] to take it down any further
[18:49] and then get keys
[19:12] get keys
[19:17] so that's that's the one thing
[19:22] that i'm not so sure about
[19:40] oh and this would actually just be derive x key
[19:41] because this is the whole thing
[19:46] okay
[20:04] all right because from the x key
[20:21] we can derive whatever else
[20:23] just hardened is false at that point
[20:29] um
[20:38] i think i want
[20:57] hardened equals true const softened equals false maybe
[21:20] so
[21:27] oh whoops this would be softened
[21:31] softened
[21:41] cool
[21:48] so
[21:59] there we go make that hardened by default
[22:16] okay
[22:25] so this would then be i guess just x key i think
[22:46] so
[22:54] and then there's going to be one more layer here
[22:58] and that is going to be drive keys
[23:04] well we don't need to drive keys we just need
[23:13] drive index maybe is that is that what it would be
[23:16] so we just take the same thing again
[23:19] and then just say
[23:22] i guess it would be derived key
[23:36] so
[23:43] this would be index index and x key right
[23:57] so
[24:01] if index
[24:22] cannot produce a valid public key okay
[24:29] so
[24:33] from x key
[24:55] so
[24:57] let's see so we're going to create an x key
[25:11] and we're going to
[25:15] i think maybe do it this way so we're going to pass in an hd key well we could call it an xd
[25:23] and x key
[25:33] let's call that an x key and this is an x key okay
[25:47] duplicate identifier x key all right let's talk about that
[25:53] where's duplicate identifier x key
[25:55] so this is going to be x key string
[26:01] so we can go with hd key here sure
[26:18] okay create x key and it's going to have
[26:25] i don't know if we're going to have options for that or not
[26:30] okay so derive account we got account key i'm going to derive x key
[26:45] and then derive x key is just going to whoops it's just going to return
[26:49] just say let x key equals dash hd dot create now
[26:57] and then
[27:12] create x key x key
[27:19] okay so then
[27:38] derive key and that's going to have a private key and a public key
[27:41] okay
[27:48] so
[27:54] um
[28:08] so
[28:15] um
[28:41] hmm
[28:46] oh i forgot to turn the music on we need a little bit of that don't we
[29:00] there we go a little background for us
[29:05] so
[29:15] so
[29:21] okay get keys this is going to be derived key
[29:42] let's see about these
[29:48] whoops yeah create x key there we are and this one is going to take in
[30:11] an hd key type which we're going to call x key and that's going to return an hdx key right
[30:17] and we're going to need
[30:34] this
[30:40] okay so i'm rethinking this
[30:55] so
[31:03] do we have a type def on hd key no we do not
[31:20] why not
[31:26] oh because the library used to be called hd key that's why
[31:33] okay so there this is the generic hd key
[31:40] in essence and it's and this this in its default state is essentially the wallet
[31:49] okay a little bit of stuff's going to need to be renamed here
[32:04] all right let's come up with an example
[32:13] so
[32:19] i'm just going to call this derived.js for lack of a better name hey everybody how's it going
[32:30] welcome to dash incubator live code
[32:37] i love know what brings you here today
[32:47] all right let me go ahead and just grab from the node example here
[32:58] so we'll need to put this in a main function
[33:15] so
[33:17] oh oopsies did i just have that thing mess up my package.json quite possibly
[33:41] fumped version uh yeah just a little bit
[33:45] i was going to take a three hour break how long did i say i don't know how long of a
[33:57] break i was going to take sometimes i take a two or three hour break
[34:07] i'm gonna say lol i'm and then something but i don't see the rest of it
[34:11] i'm woodworking and i'm and and you are keeping me company okay great yeah let's do it
[34:24] woodwork away woodworking's great
[34:27] i think everybody everybody should know that woodworking is wonderful
[34:34] okay
[34:35] oh i don't want to do that one yet do i yes i do
[34:48] can't type here yeah that's problem woodworkers fat fingers
[34:55] you got to have extra big fingers because you cut off little pieces now and then
[35:00] i know i know my dad's missing you know a couple of half fingernails so i get it
[35:12] it's the way of the machinist
[35:27] all right where's this thing
[35:34] so this is going to return an x key and it doesn't need anything else
[35:42] i guess it actually is just going to return a key it doesn't need anything else
[35:47] so we we might need to say that there's a drive wallet
[35:54] we might need to separate these somehow
[36:04] drive wallet it's going to return an hd wallet
[36:16] and that is going to have
[36:21] uh
[36:23] uncle chopped off the tip of his finger well please just don't you chop off the tip of your
[36:29] finger today because that'll gross me out and make me faint yeah
[36:37] 81 that's not a bad time to be chopping off just the tip of your finger i don't know
[36:49] i i mean i think most people by the time they're in their 40s if they're doing machine work they've
[36:54] they've lost at least the tip of a finger
[37:16] so we're saying wait did we have a hd create no what were we doing
[37:24] we had a drive wallet what was that called hd from seed okay so let's not do this one
[37:44] okay oh and all of these need to have a promise and i'm dagging nabbit do they all have promises
[37:49] derive key
[37:54] hmm so now i've got two so
[38:08] now i need
[38:08] so now now i need another word for this because we actually we have
[38:16] basically the common base of the hd key and then we have the leaf node hd key
[38:20] i can't just call it hdx key because there's specifically the xd key
[38:32] is basically right above the key in the hierarchy so we have a wallet account a key
[38:41] so
[39:08] oh whoops let me go back up to types
[39:10] not too far up here right type definitions okay so right here
[39:21] i guess the hd key doesn't have any special functions so it is actually
[39:35] where i put hd key i could put hd key with no caps and now that we've changed the way the library
[39:44] works i actually wish that i could go back earlier and swap out all of those
[39:49] lowercase hd keys for uppercase hd keys which it could but it would take a while
[39:54] and it's not probably not worth doing i might try it just to see
[40:01] might not it might not be horrendously bad to do it but yeah the little hd key
[40:07] we could turn into uppercase hd key all right so i need to go back to hd wallet
[40:19] we need to we need to define an hd wallet
[40:28] and we're gonna have a hd wallet partial of course
[40:31] and that's going to have the derive account on it
[40:38] let's go to hd derive account takes number returns an hd account hd account
[40:56] account partial why is it upset about this so this actually needs derive x key
[41:03] and we're going to get rid of those gits and that's all this is going to have on it it's just
[41:12] derive x key
[41:23] so in the function definitions you got a drive child drive key
[41:35] derive helper i kind of want to put the derive helper with the derive wherever that went maybe not
[41:42] hijk
[41:56] definitely keeping derive helper ops together
[42:03] so i don't want to lose the ability for this to work with bit 32
[42:12] but hey welcome back i want this primarily to work with bit 44
[42:17] so
[42:45] okay and this is going to return an hdx key
[42:49] all right
[42:52] so let me try to flatten this out a touch if i can
[43:00] and i might change these derives to git just so that it's a little bit cleaner
[43:14] i mean derive is the right word but git is not necessarily the wrong word
[43:18] especially from i it just i think it'd be a little bit better to have a cleaner
[43:28] there's derived path there's derived child and then there's git wallet git account git x key
[43:37] git key so that there's a a cleaner separation of if you're choosing this route you're going
[43:45] to use these methods if you're choosing this route you're going to use these methods
[43:49] and never the twain shall meet you're either going you're either using one set of methods
[43:54] or the other just just to be so so it's clear and it's not confusing but i do think
[44:02] that i actually do need to have a method that is create account here that's going to take
[44:10] account key
[44:26] account key equals dash hd.create account i need to make sure i've
[44:34] got the awaits on all of these as well that's going to kill me
[44:45] so
[44:51] maybe instead of create make
[45:11] so
[45:17] what do we call it when we do course
[45:31] because the main thing that i'm doing with this is that it's going to take a
[45:37] a simpler type and it's going to return
[45:40] a more complex type that's that's essentially what's going on here
[45:47] i mean we could also have this be derive account like this and it's private so it doesn't really
[46:03] matter and we could spell out purpose coin type account you know so we could do it that way
[46:10] we have some we have some freedom
[46:29] so
[46:39] so
[46:50] so
[47:00] so
[47:11] okay so now create account
[47:29] so
[47:40] so
[48:09] now i could be wrong but i think that even the concept of a constant
[48:15] i'm pretty sure that that only exists at compile time once something is compiled if you can access
[48:23] the address at which a thing lives you can swap it out for something else i'm pretty sure
[48:31] i don't think that there's any way to for the binary to know about that if somebody else listening
[48:39] in right now has a thought on that let me know i was just thinking i was thinking kind of
[48:43] tangentially but i just had some thoughts running through my head and i was wondering
[48:46] does does constant actually mean anything outside of compile time
[48:55] for well particularly for compiled languages for scripting languages it i guess it can
[49:01] mean something outside of compile time because it can be it can be logically enforced
[49:06] okay
[49:15] okay hd create account
[49:24] i almost want to call this cast maybe
[49:26] i think i i think that's the better name for it
[49:42] so
[49:50] and technically
[49:58] it is possible
[50:04] at the account level as well
[50:08] so
[50:38] oops missing a bunch of promise returns here let's go fill those in no wait in this case
[50:47] yes this these do not these the creates they are simply returning the derives are not simply
[50:54] returning
[51:04] so
[51:13] so
[51:23] so
[51:43] so
[52:04] let's see drive key
[52:19] so it's highly unlikely
[52:27] but there actually is the case
[52:33] that you go to select i mean this would be astronomically unlikely i think
[52:41] but
[52:45] there is a case that you would not be able to produce
[52:59] a valid public key
[53:02] for a given interesting
[53:09] thinking on this
[53:17] so there there will be certain there will be certain accounts that are not valid either
[53:28] because the account can't produce a public key or because the the receiver change address can't
[53:34] produce a public key and i don't know what way that should be solved but i'm pretty darn sure
[53:44] that it's not the way that was in this code originally we shouldn't just say well advance
[53:48] to the next one and call it good because we have to signal back up the chain hey that index was no
[53:54] good try again but i think that i'd want to see it actually happen
[54:04] before i go putting a bunch of error handling in my code because i have a suspicion that it's
[54:14] so astronomically rare that it just i it would be interesting to see if anybody's ever encountered
[54:20] this error someone must have at some point i mean i guess if you just generate over and over and over
[54:27] and over and over and over and over again eventually that's going to happen but i think
[54:31] at that point you should just pick a new seed just you know so so when we when we create a wallet
[54:38] what we should do is probably walk the first 20 addresses the first 20 accounts in the first 20
[54:44] addresses so that'd be a total of 400 and just see if there's any problems there and
[54:58] if there's a problem within the first 20 accounts and 20 addresses then just give up
[55:08] and pick pick something different instead say these this seed isn't a great seed
[55:12] it happens to be a unicorn seed because if it's anything beyond that it's all index values
[55:20] so if you you know if an account if a single account value is no good whatever doesn't matter
[55:27] i don't know i i don't i don't know that it's even worth worrying about
[55:32] i i think that it's astronomically rare but i think it i think it'd be worth worrying about
[55:41] at the top level just just creating a wallet and doing a basic check that it can derive all
[55:45] the way down and if it can't derive all the way down then then just pick a different pass a word
[55:53] phrase okay derive account
[56:03] indeed i did all right let's see what the types are complaining about now
[56:20] indeed i did
[56:21] cool so let me go back and look at the documentation then
[56:49] oops that's not that's not how we spell derive
[56:52] how did i get off on that tangent anyway i mean
[57:03] was it i was looking to do something like this i guess
[57:17] so
[57:29] so
[57:41] okay
[57:56] so i want to derive account zero from this wallet
[58:06] and then i want to get x key
[58:20] and
[58:30] so
[58:59] i want to say let
[59:04] all right what am i going to do i'm going to let x key
[59:18] oops
[59:35] all right so key is all the way down here and then i can say dash keys dot
[59:45] two f key dot private key
[60:00] so
[60:10] okay
[60:29] is this it
[60:29] it'll be a miracle if this works on the first try if i didn't make some bug in the code somewhere
[60:39] okay dash hd so this is actually just going to
[60:53] pretty simple we're just going to require up one
[61:01] what did i do
[61:16] okay dash phrase npm install save dev dash phrase
[61:22] okay dash keys to whiff is not a function
[61:34] now why is that it's probably because dash keys dot encode is the function that's my guess
[61:45] i should probably alias that because i think it actually it makes it's clearer intent
[61:52] but let's take a look and see
[62:00] dot encode dot decode yeah
[62:16] all right i'm gonna put this in here for now and this is why i got to do this as an ecosystem thing
[62:27] because for how each of these things is going to interact so that we can make sure that we provide
[62:34] the methods that need to be there oh whoops this should be a wait
[62:41] oh wait wait wait wait wait wait that's so annoying to have to put a weight on everything
[62:52] just want it to be the default you know
[62:56] so
[63:03] so
[63:15] all right
[63:30] so
[63:37] oh whoops wrong way
[63:51] so
[63:59] okay
[64:13] so
[64:38] and then we would check size for key and we do the same thing here check size for pub
[64:48] key hash i think we actually do have a two address
[64:58] on that
[65:10] so
[65:19] i think they're actually the same size
[65:34] so
[65:41] okay
[66:01] so we might already have the two adder on there
[66:07] dash keys that encode is not a function is that true
[66:31] encode key
[66:37] so
[66:50] okay so let's go fix this in both places
[67:07] oh no only needs to be fixed in the one place
[67:16] ah this reminds me so this one we still have detect x priv by zero bytes
[67:35] x pub by zero oh two or zero oh three bytes
[67:42] that's something we still have to put in there that's not in there right now
[68:04] all righty
[68:05] so just me what are you woodworking on
[68:11] so
[68:22] um
[68:51] encode priv key
[68:52] ah oops
[69:13] so
[69:23] hmm
[69:38] ah interesting so this needs to be
[69:43] actually do need to
[69:56] so
[70:05] kitchen island cool well when you're done with that
[70:13] actually we don't need a kitchen island i was going to say we need a kitchen island
[70:21] but that we needed a kitchen island a year ago when we lived in our old place
[70:26] all right carry on
[70:29] that's awesome
[70:37] getting the kids some kitchen island space
[70:43] okay so encode key
[70:51] i'm a little bit confused here
[70:55] hmm ah yes okay so there is a bug here
[71:15] um and the bug is that
[71:20] and these basically be if not ops ops well so basically we need to do this
[71:33] so ops needs to have some default and if not ops dot version
[71:43] ops dot version equals
[71:44] dash priv key
[71:50] and we need to have another one
[72:04] and this one should be pub
[72:12] so
[72:19] and then we should also have
[72:24] uh let's pkh bytes equals
[72:33] and then what would this be
[72:39] pub key to pkh
[72:49] key bytes
[73:08] okay so this one right here
[73:17] so dash keys dash keys encode key
[73:32] key
[73:39] so
[73:47] okay i need to make this optional for a couple of these
[74:05] so
[74:12] there we go and i think jojo bike came across this
[74:35] and needed that fixed
[74:36] but i don't remember seeing anything coming from him so i i don't think he pr'd it
[74:46] okay the main thing that we that we just did here is this shouldn't
[74:57] this should be able to encode a public key or a pkh or a private key
[75:05] that's that's basically what i'm what i'm arriving at
[75:08] let me undo this here
[75:18] okay that makes sense
[75:26] okay you need to learn to code lol there's no laughing about code code is a serious matter
[75:32] i'm wanting to create a free marketplace on dash platform since evo first envisioned
[75:37] well tell me more about what you want to do that actually would be really important
[75:42] to me while i'm developing this because unfortunately in a way i'm developing
[75:47] this in a vacuum because i actually don't believe in any of the evo stuff personally
[75:53] or at least let's see how to put this i don't i've watched a couple of the talks on it
[76:01] and i don't think that it has the tools that solves the problems i think that we can develop
[76:10] simpler tools that solve the problems also there are some problems that may exist that i don't have
[76:19] but um dang it i said um again let me think about this for a second
[76:27] there is one edward snowden there might be 10 edward snowden's there need to be
[76:43] tools for the 10 edward snowden's they need to exist
[76:48] but that is a different tool than what a free marketplace needs so to have
[76:57] what a free marketplace needs is it needs an efficient method of communicating value it doesn't
[77:07] need a uh what's the word again with the verbal stutter i've been doing a lot of us lately
[77:17] at least they're not full on ums what's the word
[77:31] paranoid very few people are paranoid most people are more worried about their money being lost
[77:40] than their money being stolen for example especially when you're dealing with a
[77:44] cryptocurrency the likelihood of someone stealing your cryptocurrency wallet is relatively low the
[77:50] likelihood of you forgetting the passphrase that unlocks your cryptocurrency wallet or misplacing
[77:56] your paper printout with your backup is relatively high so there's a lot of things where in a purest
[78:06] mathematical sense you could say there needs to exist this ability to do this mathematical
[78:13] operation with these constraints but in a practical pragmatic world where most people
[78:19] are not edward snowden most people need the pragmatic bit right for edward snowden he's
[78:29] personally more concerned that he just has the thing in his head and nowhere else right but most
[78:35] people aren't that way for most of us it would be better to risk having five hundred dollars stolen
[78:43] and the risk is one out of a thousand than to have five hundred dollars lost where the risk is
[78:50] one out of ten and so what i've seen of cryptocurrencies in general is that they
[78:58] focus on unrealistic scenarios that don't serve a growing user base and with platform
[79:08] i was i i asked the question via a text message in one of the ask me anythings
[79:15] or i don't know if it was an ask me anything or one of the open forum discussions
[79:19] what is the primary use case of i don't remember what the technology was but i i picked a couple
[79:29] of things and said okay what's the primary use case and i didn't get back an answer and i found
[79:33] that to be very it it it could come across as disingenuous it might not be it might be that
[79:42] the answer was something that was very personal or very technical or for some reason didn't need
[79:48] didn't didn't deserve explanation at that time but it just it just seemed to me that nobody knows
[79:56] what problem it solves and that's a great concern to me but i think that we've got some other tools
[80:02] that if we focus on existing technologies and the way that people already do stuff like how
[80:08] venmo works for example with venmo you just scan qr codes and that's a big part of what this is
[80:14] about with the wallet that i'm working on is that you could just scan a qr code that has the x pub
[80:20] in it right so just like with venmo you either send the qr code via text message or and and yes
[80:29] that's insecure you know google's gonna read your text messages apple's gonna read your text messages
[80:34] the data center here in bluffdale utah that the nsa operates all your text messages from verizon
[80:40] from sprint from all the other carriers they go through that data center right so from that
[80:45] perspective yeah if you send your x pub key over a text message you need to know that it's not secure
[80:52] but if you scan it in person that's secure right but for most people most people aren't paranoid
[81:03] and if you find that you are paranoid you can always you know double cross you could send
[81:07] one x pub over and it wouldn't be called an x pub in the interface it would be called something like
[81:12] a friend uh a a drop wallet or a drop box or drop box is kind of the term what do we call it if you
[81:21] if it's a coin that you drop you drop things you drop coins in the box so it's a donation box but
[81:28] it's not a donation because it's specific to a friend anyway so that's what the qr code would
[81:33] be called it wouldn't be called x pub the qr code would be called something like like personal drop
[81:38] box or or friend friend drop box or contact drop box or whatever but you know you could always do
[81:44] the double blind where you send them an x pub send them a token payment over it just so that it looks
[81:49] like you use that but then in reality you mark that one is you know do not use and you send them
[81:55] the you know the real one you do via via scanning in person or whatever but you can get that linked
[82:01] up just by qr code you don't need a special hyper network you certainly don't need one that's
[82:08] unencrypted i think the platform is working towards getting encryption but the fact that it's kind of
[82:14] launched without encryption i mean that's one of the core tenants right i don't want to be
[82:19] broadcasting my entire contact list over a network so there's some things that i technically
[82:26] seriously challenge and i i have real real concerns about not understanding the use case
[82:34] not not supplying the basic primitives for the known use cases things that that really need to
[82:39] be done and we also can talk about the scalability issue you can't build a database and say we'll
[82:47] figure out how to make it scale later you can you can build a database and say we'll figure
[82:51] out how to make it scale later but realistically you can't that's so much effort and work to figure
[82:58] out how to backwards make a database scale across multiple nodes then if you design with the idea
[83:08] that we are building a database we want to scale across multiple nodes there's this whole issue of
[83:13] key sharding and and if you i mean just imagine everybody has to upgrade everything at the same
[83:18] time and you're going to have to upgrade and then all of the keys for everything that's ever been
[83:22] done are going to have to be regenerated so that they can be sharded so they can put across different
[83:26] buckets and i know this is all extremely technical but there's actually the term sharding comes from
[83:32] let me pull up the ars technica war stories this is absolutely something that everybody
[83:39] who's interested in databases should watch uh sharding i it was i think it was for
[83:46] some sort i don't remember what the game was it wasn't diablo
[83:51] it was i'll recognize the name of it once i see it let me go to the
[83:57] playlist and see if i notice it in the playlist here
[84:00] ultima i think it was ultima i think this is the one and there are let me see if i can find the
[84:08] transcripts
[84:12] or maybe if i just go to ars technica war stories there we go if i go here and i look for ultima
[84:30] and then this shouldn't take me to youtube this is going to take me
[84:35] to the transcript and the transcript should have something shards there we go this is the one
[84:40] okay so i don't know why this can't be viewed but i'm going to link to both so this is transcripts
[84:48] uh and this is dang it i said uh again i just gotta stop with the verbal stutters
[84:57] i don't know why i don't know why they came back or maybe they were there and i just
[85:00] i never really truly got rid of them ars technica war stories uh ultima about sharding
[85:12] this this supposedly was the first database that was large enough that it had to be sharded anyway
[85:25] so i have concerns i have grave grave concerns and i am building not with the idea that
[85:34] platform is going to emerge as being this amazing thing that's going to solve a bunch of problems
[85:39] i'm building with the idea of we need smaller simpler tools that are less complicated
[85:43] and things that we can put together like lego blocks to solve a variety of problems as primitives
[85:51] the lego blocks not we need big massive tools to solve every problem but we don't know what
[85:56] problems they are so that's that's uh you know very pessimistic take but like i said before i
[86:05] think that most things are crap it is hard to impress me if if you get a hmm this doesn't
[86:11] look like it sucks that is extremely high praise in my book if i can look at something and say hmm
[86:18] this doesn't suck i'm not sure if it's good but it doesn't suck
[86:21] that is that is four out of five stars and five out of five stars is that
[86:28] i i'm i'm convinced that it's really that it that it it fills a niche of some sort
[86:41] so anyway that all said i do need let me just go ahead and check these so if
[86:50] priv bytes dot length let's see here
[87:00] so
[87:04] expected a private key
[87:18] size 32
[87:20] so
[87:40] what private private
[87:55] all right so let's try this now
[88:07] what
[88:15] okay this could also be wrong
[88:29] so
[88:32] oh whoops
[88:46] encode pkh there we go
[88:55] i need to uh fix that in my little ad hoc patch over here as well
[89:08] all right it's coming together folks it's coming together
[89:17] woohoo all right now let's compare this is the the scary part this is where i
[89:22] um
[89:31] so
[89:57] it's working okay
[90:00] cool beans
[90:07] who could have expected it would work not me
[90:15] but there we go got the right outputs or so it would seem
[90:23] so
[90:52] all right so
[91:01] so that's good let's go back into the readme and let's try this other one one one one one
[91:11] so if both of these work it's highly likely that everything works
[91:15] the reason why one would work in another wouldn't work is one is all the default values all the way
[91:20] down 0 0 0 0 0 no problem as long as we change any of these to the non-default values
[91:25] or to any non-default value we can suspect that any other non-default value will work
[91:45] okay
[91:55] all right so we're gonna go ahead and produce
[92:11] the other one
[92:40] oh whoops
[92:50] so
[92:59] i'm actually going to change all these logs to infos because
[93:15] they're not just debug logs they're valid output there we go
[93:21] okay whoops and i need to change
[93:35] let's go ahead and
[93:37] never hurts to use the real deal here
[93:43] there's the use there's the adder index i'll just call it address index because
[93:51] that's what it's called that's fine and then what was this uh account index
[94:06] oh good thing i logged it all out there huh so we need to change that to change there we go
[94:27] so
[94:36] hmm
[94:52] this was a triumph
[94:56] i'm making a note here huge success
[95:05] all righty
[95:05] so everything matches still i mean it should right but now i feel like
[95:13] the documentation the api everything's really coming together
[95:19] uh fixed a couple bugs in dash keys that we're still just hanging around
[95:24] um let's see i need to bump dash keys up a little bit i think i'm gonna take another bio break
[95:34] because i actually drank a lot during my lunch break and then i've got the mountain dew that i
[95:39] just took in um that should only be two or three minutes i'll be gone i just got to walk over to
[95:45] the house and dehydrate
[96:00] let me go ahead and say
[96:02] okay whip final api and i think that this this example is a good one i might want to
[96:17] change one more thing here
[96:21] and this is still a whip example because we got this stuff up at the top but basically what was
[96:29] in the readme is in here and i may want
[96:40] uh
[96:54] call this one get wallet keys
[96:55] and then i think we could make another one
[97:03] that is derive path
[97:09] let me do that real quick
[97:24] let me see what the what what that should be
[97:26] basically i think that should still be drive drive wallet but then just like we've got here
[97:49] oh and i also need to output the x the x pub for each account that's something that i need to do
[97:55] okay
[97:59] all right i'm gonna go i'm gonna go take a quick body break so here's the things that we need to do
[98:07] we need to derive x priv x pub for zero and one and then we need to derive by path and get the
[98:22] same results that's the goal here so we have two apis one is derive the whole thing out by the path
[98:29] the other one is use this more wallet api that corresponds to bit 44 and then
[98:36] and then we move back to dash keys to update a few more things in dash keys
[98:44] and i don't think we need to do any i'm not sure if we need to do anything in
[98:50] sec p256k1 we might so the direction that other libraries have gone and that sec p256k1 the the
[99:00] version the library that i'm using the noble version is going with its next version is to not
[99:07] pack the key in asn1 format now generally speaking asn1 format is going to be more
[99:16] compatible with more tools so i think that the asn1 format needs to be there but i also think
[99:22] that the default since we are dealing in javascript should probably be a javascript
[99:28] object of the component parts the r and s value not the asn1 encoded because it's very very easy
[99:36] to go from asn1 encoding to from rns to asn1 encoding and it's not difficult to go the other
[99:47] way but it's a little tedious so if we are in a situation where we need the raw rns values it's a
[99:54] lot easier to just have the raw rns values and across the ecosystem you can drop a lot of parsing
[100:01.00] code and time if you just use the raw rns values so i think that's something that we're going to do
[100:09.72] get raw r and s
[100:14.60] i think that's something that we're going to make a possibility so that it's future compatible with
[100:22.92] the next version the next version is actually going to drop about half the code if i'm not
[100:27.24] mistaken so he's moving a bunch of the code that is useful for certain types of cryptography but
[100:33.00] rarely used in wallets he's moving that code out into a separate library so that you can use
[100:41.08] secp256k1 and it's a smaller more focused library that just deals with basically the use case of of
[100:51.88] private and public with private keys and public addresses well he actually doesn't deal with
[101:01.24] public addresses public keys because public address is one layer further down okay and then
[101:07.64] with dash phrase i don't think there's anything we need to change about dash phrase i think that
[101:11.88] i think that with that with that cleanup we clean up the tests we clean up the readme we move on to
[101:19.72] dash keys we do a little bit of the bug fix that we found here i think we're ready to publish
[101:24.60] everything at release candidate status we go around the ecosystem of these four tools publish everything
[101:31.72] is as release candidate status and then the rest of today and tomorrow will be just focusing on
[101:41.16] the cli tools so that we can get those up to snuff for presenting and then we really really
[101:50.04] really need i'm going to continue to work on the wallet that i'm working on i but we really really
[101:59.32] really need to get larger community feedback about these tools problem is i don't think that we have
[102:06.76] very many developers that are doing this stuff right now part of the reason for that is because
[102:13.48] it's been so daggone complicated and it's hard to tell the end from the beginning we have the atomic
[102:19.48] part separated out into the four different pieces my hope is that's a little bit easier because it
[102:24.12] gives you a little bit of a segmentation to say okay there's this piece there's this piece there's
[102:28.60] there's four pieces if you learn the four pieces you know the primitives anyway so i'll be right
[102:34.12] back i'm just going to put up my uh my my bio break sign here so here's our brb
[102:42.20] and i'll put up the timer for five minutes shouldn't take me that long
[102:51.72] but just in case
[102:56.84] so
[103:04.60] so
[103:07.24] so
[103:17.64] so
[103:22.44] so
[103:32.04] so
[103:37.64] so
[103:47.24] so
[103:56.84] so
[104:06.44] so
[104:16.04] so
[104:25.64] so
[104:35.24] so
[104:44.84] so
[104:54.44] so
[105:04.04] so
[105:13.64] so
[105:23.24] so
[105:32.84] so
[105:42.44] so
[105:52.04] so
[106:01.64] so
[106:11.24] so
[106:20.84] so
[106:30.44] so
[106:40.04] so
[106:49.64] so
[106:59.24] so
[107:08.84] so
[107:18.44] so
[107:28.04] so
[107:37.64] so
[107:47.24] so
[107:56.84] so
[108:06.44] so
[108:16.04] so
[108:25.64] so
[108:52.44] now i did it on time oh no i left my whole timer well i made a drink as well
[109:01.32] because you know if you gotta dehydrate you gotta rehydrate so
[109:07.48] let's
[109:17.16] take away the timer and then take away the bio break there we go all right
[109:24.20] so these the anatomy of the ecosystem comes from bitcoin right and i think a lot of people
[109:40.92] have looked at it from the perspective of well those libraries are made so we don't need to
[109:46.12] make them but they were made 10 years ago and they were made by people who had no idea what they were
[109:50.28] doing as college students and stuff you know one of the guys probably was a math major just on the
[109:57.72] basis that they did come up with some come up with some seemingly novel and good uses of
[110:06.04] cryptographic algorithms but they didn't know what they were doing and and the people who ported
[110:13.48] this stuff they weren't software engineers they weren't versed in the languages that they were
[110:17.96] using they were novices and amateurs and so the the bulk of the code that dash is based off of
[110:29.64] is pretty daggone crufty rusty cruddy code right these libraries that i'm working on are either
[110:38.52] ones that i've rewritten from scratch or that i've pulled from hand selected from other libraries and
[110:45.16] then refactored to some degree so this is all code that is modern code that's written intentionally
[110:53.72] by a javascript developer for javascript and other javascript developers not ported from c++
[111:02.04] and not with the constraints of what they did have to deal with 15 years ago or 10 years ago
[111:10.04] or however long it was i think it was closer to 15 years ago all this stuff started isn't it
[111:14.84] so there are a lot of things that didn't exist and had to have the they had to have cruddy
[111:21.16] kludgy solutions because they had to there were not alternatives they didn't have it wasn't just
[111:28.04] their inexperience it wasn't just the the the you know personal uh lack of familiarity with the
[111:35.88] language it was that the primitives that were necessary at the language level didn't exist
[111:41.88] now we have good crypto libraries we have a good standard library that includes crypto primitives
[111:49.80] and by crypto i mean cryptographic the true meaning of the word crypto well i guess the
[111:54.68] true meaning of the word crypto is something akin to mysterious because
[112:01.56] cryptologists aren't they the ones that study bigfoot what is it
[112:08.44] people who study what cryptologists
[112:24.60] maybe
[112:25.10] bigfoot what i thought there was a word
[112:29.32] cryptozoologists okay cryptozoologist not cryptologist
[112:35.24] yes anyway i think the etymology crypto
[112:47.96] covert yeah so covert is i guess hidden mystery something like that all right so these are
[113:00.68] when you think about platform platform is
[113:06.52] in some ways creating something that's new and novel and in many ways recycling stuff that we
[113:15.16] already have so these libraries will be a better fit for working with platform than
[113:23.64] the current dash core is now whether or not dcg will want to accept these or start rebuilding
[113:32.52] with these that's a big question mark it's probably going to be a no because they probably
[113:38.04] won't see a lot of value in it it would probably take somebody who's a newer developer who's coming
[113:43.08] into this space from outside of this space not somebody who's been in it for six years
[113:48.28] to kind of have the appreciation that there's something here that's that's more valuable
[113:52.84] especially because a lot of these people are still c++ people they might be using javascript but
[113:57.24] they're c++ people and so they don't have the same concerns of oh yeah we really shouldn't
[114:02.68] have a two megabyte uh object in a browser we should we we can't expect you know when paypal
[114:11.80] when when you in it put the paypal widget on your website it doesn't take your website an
[114:16.84] additional 10 seconds to load right so there is this aspect of understanding web development
[114:25.72] that we do need better libraries if we're because it needs to be as simple as include a script tag
[114:31.48] and that's that's one of the things i'm driving towards you shouldn't have to be a react framework
[114:36.28] developer in order to use this stuff it's just not going to succeed in that way it needs to be
[114:43.24] something that if you're a wordpress developer you can use this stuff and if you're a react
[114:48.12] developer you can also use this stuff but there's more wordpress developers i hesitate with that i'm
[114:54.76] not quite sure what the current statistics are but in general there's more people who don't know what
[114:59.80] they're doing and aren't very sophisticated and just need things to work than there are people
[115:04.04] who are more sophisticated that can deal with all of these build build tools and build systems
[115:08.20] and everything so in my readme here you'll notice that i put okay here's how you do this with node
[115:15.24] bun and bundlers whoop here's how you do this in the browser whoop and in the browser i probably
[115:23.64] need to put the dash keys thing in there too huh yeah i do actually i need to put that as uh and
[115:29.56] both of these dash keys needs to go up there now but in the browser this is how the majority of
[115:35.08] people that are just farting around with websites are going to need to be able to use it you need
[115:40.60] something you just copy paste for a script tag and get going and so that's where i'm hoping that this
[115:50.28] has a greater impact because i i started a year ago building some merchant tools and it led me
[115:56.76] down rabbit hole after rabbit hole until i'm i'm rewriting the atomic particles that are necessary
[116:03.16] to create this stuff so i rambly and you know all that but that's kind of it that that's i hope that
[116:12.76] i don't know if that even answers the question so but they are so they are not part of dash core
[116:20.36] they are not part of dash evo they are not part of dash platform but they fill the function that
[116:29.80] is filled by dash core and they could be used by dash platform and they could be used by anybody
[116:40.12] who wants to build fun tools for dash especially if they want to build something that is
[116:50.12] lightweight and pluggable well i hope that it is i believe it could be very useful the question is
[117:02.60] does the audience exist because just of my my former complaint okay with this dash platform
[117:09.24] stuff where is this going who is the consumer who could use this what's the use case i personally
[117:15.64] have identified use cases for this otherwise i would not build it but as far as who is the consumer
[117:24.76] i don't know because the dash community is small the web3 community is mostly sales bros turned
[117:32.44] programmers that want to get rich quick which is not what i value dash has and i hope that that's
[117:38.92] hardly what anyone values dash as because if that's the case it's just not the right place for
[117:44.68] me i i don't want to be part of a community like that but i i get the sense that that dash is more
[117:51.88] og it's more okay what if we could develop an economy that's a new online system a dash nation
[117:59.48] that doesn't have the typical confines and borders of the physical world that has already been
[118:05.00] captured and that's kind of the succinct version of what draws me to dash is that i think there's
[118:12.28] some ethos there and if we can make the technology match the ethos maybe it has a shot
[118:17.64] yeah that's that's what i'm that's what i'm hoping for so let me get back to this real
[118:26.36] quick and see where i was at what did i need to do in this one uh derive oh i wanted to do
[118:32.84] the derive by path and the deriving of the x x priv and x pub so let me go back to this
[118:42.20] and let's take a look
[119:02.28] oh i need to get back to the x key okay so here's x key and we need to have x priv
[119:08.68] and basically this is just going to be dash hd.to x priv so we're going to make sure that this works
[119:18.44] and we're going to give it x key and then we're going to do the same thing with x pub
[119:24.76] to x pub and then at the end so this is at the account level as well
[119:33.88] so actually as far as use goes where was use
[119:38.76] ah yes okay so we need to put that here we need to put it there
[119:51.32] uh where was i here
[119:53.40] and then we need to overwrite this then i need to put here this is going to have
[120:08.12] use but it's not going to go all the way to
[120:13.96] all right so x priv x priv whoops i messed that one up and x pub x pub also i think that i don't
[120:33.40] know that this is where we're at now but i think that the the the cryptocurrency community at large
[120:39.32] is starved for simple tools because there's a lot of vc money and a lot of get rich quick
[120:45.48] in interoperability because basically the cryptocurrency market the way i see that it
[120:51.32] works is is like this there's a bunch of people who want to defraud other people to get rich and
[120:56.28] then they need to launder the money cryptocurrency provides an easy way to do this because there's a
[121:01.40] lot of different cryptocurrencies nobody understands what they are what their value is and so the idea
[121:06.04] of diversify makes a lot of sense you just diversify your assets because you need to
[121:11.24] diversify because who knows what it's worth or why it's worth or when it's worth or whatever
[121:16.60] so if you just take a bunch of money that you're laundering and you diversify it into a bunch of
[121:21.08] different stuff then you can you can kind of a lot of what you're diversifying into are things that
[121:27.64] you're either pumping so that you can dump or whatever but it's all in the name of diversifying
[121:32.84] so if you just look at it it's like oh well they diversified into dash so we can't make a claim
[121:37.32] that they're not diversifying because they happen to do this other thing that there seems to be a
[121:41.24] relationship with that they're just pumping stuff so they can scam somebody so they can dump it
[121:45.08] you know because they they diversify into everything so a lot of that there's there's
[121:53.40] people that are doing that they don't want access to these types of tools that doesn't help them
[121:59.16] they need things that are more complex that are that are difficult to understand that are difficult
[122:04.44] to find your way through and make sense of because that is how their business operates it is they are
[122:09.88] learning money laundering schemes but for people who are actually interested in the ethos of what
[122:17.40] i believe dash is interested in what i'm interested in these are the types of tools that we need no
[122:22.28] matter where you are so it may also fingers crossed create an opportunity to bring people
[122:27.88] into dash because if there are good well-documented tools that are simple and easy to understand
[122:34.20] as developers encounter these over and over again hypothetically may never happen but as they
[122:40.76] encounter these over and over again they might say wait a minute you know i kept on looking into
[122:45.32] bitcoin because i thought that bitcoin was going to be this thing but it's too complicated it's
[122:51.72] overwhelming but i keep on you know i'm searching for xpubs and i keep on coming across these dash
[122:57.88] resources i'm searching for blockchain transactions and i keep on coming across these dash resources
[123:04.92] and these things are actually pretty easy to understand maybe i ought to look into dash so
[123:09.56] that's kind of a side benefit that i think could happen i just don't know if there's enough
[123:15.56] developers that actually care about that in the wild for it to happen because i think most
[123:20.52] developers are wrapped up in the money schemes so it's just a peak beauty
[123:30.36] a big question mark
[123:34.68] all right so we're gonna repeat this over here and the hope is well first of all that it works at all
[123:47.16] hey it does
[123:47.96] all right i'm just kind of giving those a quick scan there
[123:59.80] so
[124:06.84] and actually
[124:20.84] so
[124:28.68] let me see what that looks like real quick
[124:48.68] um
[124:54.52] i don't think that's actually more clear i think it's less clear so
[125:00.84] we're gonna go back to this one
[125:03.08] xpriv and xpub and then here we can say with an adder
[125:17.24] and then i'm going to add this down below
[125:21.32] and i'll add this one down below too as well
[125:30.36] okay
[125:36.60] i wish that xpriv were not quite so long
[125:46.36] but it is because now this is kind of clouding up the interface
[125:50.28] it's kind of difficult to see what it means practically
[126:10.04] there's just too much it's too long
[126:11.64] would fit in a qr code okay doesn't fit on a console log very well
[126:18.76] but uh none of that changed anything so we're good there and then i need to do that next part
[126:27.32] basically i just need to make sure that the outputs are exactly the same between these two
[126:31.32] we have two different ways of getting this so if we do wallet dot derive path
[126:36.84] and then we do oops m 44 5 0 0 0
[126:48.68] maybe i do need to just do these side by side
[126:59.96] so this is going to be again let key equals and then we can have some
[127:03.40] very so i probably do need to just do these side by side and then make sure that they
[127:09.56] they match up to the same thing so let me consider that instead
[127:23.40] so
[127:33.24] all right so all the way back up here
[127:40.60] so call it key and key prime
[127:48.04] with prime outer prime and then we'll just do
[128:00.20] see
[128:03.96] what do i want to do with this
[128:16.68] basically if with not equal to with prime then throw new error
[128:23.32] wallet derivation mismatch
[128:32.28] same thing here if adder is not equal to adder prime
[128:40.52] wallet derivation mismatch
[128:50.20] and then
[128:56.44] so this would be key prime key prime
[129:04.12] all right so i expect this will succeed
[129:10.04] hmm drive path is not a function that kind of makes sense actually
[129:15.24] so that would be actually dash hd drive path wallet i think this is actually the way that
[129:22.92] i documented it just for some reason i didn't do it that way above
[129:37.40] okay well this is good
[129:43.56] what have we done wrong here to with
[129:52.68] drive path should return a key
[130:01.24] all right let's go take a look at drive path i may have not finished updating that one
[130:07.08] drive path returns a child and let's we know that drive child's working so
[130:18.52] i'm not really clear on what what's going wrong here so key one to with
[130:34.44] see all right what have i done wrong what have i done wrong
[130:42.68] so everything becomes searchable by what github yes so github and npm as i'm publishing these
[130:58.60] and they cross-reference each other they create a network of documentation for their apis and also
[131:04.68] i try to include a glossary in each of the libraries that defines the terms
[131:08.76] and i am building a mega glossary that has every term defined so that it's it's sole the sole
[131:17.16] purpose is an index because we got we have this in other dash documentation one of the problems
[131:21.80] is that it because the documentation is just a fork of bitcore documentation in a lot of cases
[131:28.44] then the documentation too is kind of non-distinct and then you end up meandering through different
[131:36.44] documentation than the one that you intended for if you're actually a dash developer
[131:40.44] but the the problem is that from the high level view if you're coming into this you don't know
[131:49.48] which pieces belong to which part so we need some mega glossary that will be literally everything
[131:56.68] it wouldn't be something you'd want to sit down and read because it wouldn't necessarily be in
[132:00.60] an order that's useful but we need one one giant reference sheet so that no matter which library
[132:08.44] you're in no matter what thing you're working in you have an index that can point you from a single
[132:14.52] source because you don't know like i said you don't know which which piece excuse me goes to
[132:19.16] which piece you don't know which library you should go look for documentation for that thing
[132:23.16] so we need a single source that outlines every term and there's about a hundred maybe more terms
[132:30.20] that are used that are very specific to cryptocurrency that are not used anywhere
[132:34.44] else in the industry so there's a bunch of these terms that you just need to know okay where do i
[132:40.52] go to get the library that does that thing where do i go to learn what that thing means and a short
[132:47.24] description and so i'll show you this this is in the dash tools mega repo right now i don't know if
[132:57.80] i actually put it on the repo let's see glossary yes okay so there's there's a glossary in each
[133:06.76] repository that i'm building up and then i'm pulling those all into the mega glossary as well
[133:12.20] so within the library you can get a sense of all of the things that you need to know
[133:17.40] and then i'll i'll reference them back to this mega glossary so here's dash mega glossary
[133:24.20] but there's a whole bunch of terms that base 2048 it's useful outside of cryptocurrency
[133:32.28] it's not used outside of cryptocurrency it is in a very handful of small cases but
[133:38.36] 99 of what you're going to come across with base 2048 is going to be cryptocurrency
[133:42.44] likewise with base x base 58 check there there could be a use case outside of cryptocurrency
[133:49.32] i don't think it's going to develop base x again i don't think it's going to develop
[133:54.92] bips that's entirely cryptocurrency hd path hd wallet magic byte is a generic term but we have
[134:04.76] a bunch of magic bytes so this is one of the things if you want to go figure out what the
[134:09.32] magic bytes are you have to go each by each to go figure out where the magic bytes are and
[134:16.20] sometimes it's just nice to say okay let's see a list of all of our magic bytes across all of our
[134:21.72] different tools so yeah i don't know how many terms i have here already but i think that it's
[134:30.04] already close to 50 i'm just kind of scrolling through maybe not quite 50 there's five there's
[134:36.92] five there's five there's five there's 10 there's 10 there yeah so 40 ish maybe if i'm just you know
[134:49.00] i'm just scrolling and kind of grouping with my eye and not really for sure but i think it's
[134:54.12] something like that okay now why do i have the length not defined here let's take a look it says
[135:05.72] it's at 16 to if so where did it come from it says it's at 16 it came from 55 so let's take a look at
[135:13.88] 55 so 55 is key one so what happened with key one let's take a let's console.log key one and figure
[135:21.08] out what happened ah duh every time in the face i just i needed a generic a generic way to figure
[135:35.24] that out okay all right good so that worked as expected i'm going to add a couple more checks
[135:42.44] like that in here so we're also going to have an x key prime and that's just going to be deriving
[135:50.04] all the way down to here and then we'll have an x priv prime and x pub prime and that'll be taking
[135:58.44] the x key prime and the x x pub prime and then we're going to do the same thing here we're going
[136:04.52] to say uh if i'm just going to copy this over and we're going to we're going to repeat this a few
[136:15.00] times so this is this is now it's grown from being a good example to being more of a test
[136:22.36] so i'll need to trim this down and call one derive test and then another derive something
[136:37.72] so x pub x pub one
[136:41.16] x prove x pub
[136:49.32] great
[136:53.80] so
[137:01.96] oops
[137:15.96] so
[137:42.20] and then i need to copy these as well
[137:46.20] and then i do need to also check the
[137:54.76] the from key so that yeah this is becoming more of a test than it is anything else
[138:03.32] else
[138:13.24] so
[138:21.56] where was key prime at there's key prime
[138:40.12] oh whoops that's not the right key prime but we can get there
[138:43.64] okay good so all of this should work great works great excellent
[139:07.32] so where was that x pub at
[139:34.68] x key two
[139:35.80] from x pub
[139:40.20] and then i would just want to be able to make sure that we can actually
[139:56.84] so
[140:01.96] okay so we want to do
[140:06.12] let key two equals
[140:13.56] that's probably x key
[140:21.40] whoops yeah all right that's fine key two so x key two dot
[140:27.24] derive ah this is the thing that i did need to fix still so derive key
[140:34.76] and then we need to derive key at
[140:40.28] at probably address index what are we doing here i'm a little bit lost if i'm being honest
[140:50.44] address index
[140:51.32] and then this is going to fail because that method doesn't exist yet
[140:59.40] all right so we're going to go back in and we're going to create that and it's going to fail on two
[141:03.88] parts because not only does it not exist yet but this needs to be awaited
[141:09.80] and then this down here did we await that one as well
[141:16.52] okay that needs to be awaited
[141:27.40] then - hd.js from x key but we don't do we need an x key i don't think we do i think i talked about
[141:38.60] this earlier we don't need it from x key we need it from x pub or x priv because you should know
[141:45.00] what you're getting this from it doesn't make sense to have
[141:48.92] well in this case i guess the it doesn't matter we can keep it x key x key actually works okay
[142:02.44] i will reconsider whether or not it needs to be named x pub and x priv later because
[142:13.16] the difference that they come out with is already well defined because you're already well
[142:20.60] they can they can get they will have a method that is get key no matter what
[142:27.64] because you will still be able to derive you're still deriving from the public key in either case
[142:32.60] so whether you have the private key or the public key you're deriving from the public key at that
[142:37.56] point downwards so that should work okay and but this does need to return so from x key does need
[142:47.64] to return hd from x key it needs to return hd x key so hd x key didn't i have
[143:10.76] we had hd account right hd x key yeah hd x key good so it does need to return hdx key and
[143:23.80] currently it does not so that's a problem so let me go see if i can figure out
[143:29.08] how do i solve that that's why i broke this out into a separate function though
[143:36.28] so that we could call create x key here because this i think all that we need to do is say hd key
[143:46.84] equals and then pass it in hd key and then that will become an x key because it will just attach
[143:52.36] the method that's missing so let's try that okay expected string hmm where is this failing at
[144:05.00] from ah yes yes okay
[144:10.04] from x key so let me take a look here
[144:32.84] so that down to dash keys so from x key
[144:36.04] 494 is where it started to fail so let's see 494
[144:44.28] let's decode x key
[144:51.80] so
[144:58.76] let me go check my example my example failed at
[145:09.80] 73
[145:13.48] from x key x pub
[145:18.44] so here x pub
[145:37.16] was a string and that's what's printed out right before the failure right
[145:43.64] so x pub is a string right before the failure so how do we get to a point where it expected
[145:48.28] a string and didn't get one let's let's look at that a little more closely
[145:55.88] from x key x key but here it's saying it expected a string again didn't get one that's rather strange
[146:12.92] i certainly should have one there
[146:15.16] all right let's check our values
[146:22.68] and i may have read the wrong line number or something huh undefined okay well this is
[146:40.44] really good information very confusing information ah
[146:46.44] okay i see where this went wrong and i have to make a decision about the api here
[146:58.84] should this always be because i like it when options are optional
[147:07.80] we don't really ever need to know versions that's
[147:10.04] included in the key we just do versions if we want to check against
[147:13.56] yeah so i think what we need to do here
[147:25.96] is make
[147:36.76] make those options optional
[147:43.16] so
[147:51.08] so
[147:58.28] so
[148:16.12] there we go
[148:25.48] i think that kind of answers my question about where i had seed was it create
[148:30.92] drive wallet so seed i think that seed it needs to go at this level as well
[148:41.32] now all the rest of these
[148:54.36] are the derives okay i want some parity here so
[148:58.20] if we're going to call something a derive function and it has to take
[149:02.20] i'm not sure if i want to call this derive i might want to call it from seed
[149:10.76] that might be the right way to go about it we're just going to leave it as derive
[149:16.76] wallet right now we're not we're gonna leave it alone right now so i can finish my tests
[149:21.72] but i think that this is going to go back to from seed
[149:26.12] because the derive is once we already have an hd key we want to derive
[149:32.84] something the seed technically we derive from the seed but it kind of not so
[149:38.60] i don't think that's actually what i don't think we want to call it
[149:45.56] that okay
[149:51.00] so 129
[150:05.64] so
[150:12.44] so here we got to do this
[150:34.36] okay let normalize public key equals ops dot normalize public key
[150:42.92] let 32 equal ops dot bib 32
[151:01.24] okay i like that now this should run again oh no it still doesn't
[151:09.72] that's true so we actually need use depth
[151:25.08] so
[151:27.00] would be
[151:41.16] okay
[151:43.88] so
[151:54.76] so
[152:03.64] so
[152:32.92] there we go all right great so that all comes through full circle here
[152:56.04] and i can split this back out
[153:01.96] okay and i did just for
[153:17.72] let's see adder one
[153:23.64] okay so let's make sure this is still right
[153:42.84] okay good
[154:10.12] so i should probably make a few examples out of this because this is the conglomerate
[154:15.40] of just about everything this exercises pretty much the whole api
[154:24.04] there's one more part of this i think i'd like to exercise
[154:32.60] which would be let's turn all the twos into threes
[154:39.00] and then we're going to
[154:47.96] we're going to turn this into x priv rather than x pub
[155:02.84] wow
[155:11.88] so
[155:21.80] so
[155:31.72] so
[155:41.64] so
[155:51.56] see here
[156:06.52] so
[156:31.48] cool
[156:41.48] remove that log
[156:43.08] run this again okay so i'm really confident that we've i think we've exercised the whole api
[156:51.16] and tested values against known values i probably should take
[156:56.52] the known values here and just throw them in for good times i guess
[157:01.00] and the original reason that i started putting out the experts because i wanted to update the
[157:07.48] the output there
[157:18.60] the the readme i want to update the readme but let's just go ahead and put in
[157:26.68] um dang it i said i'm again
[157:31.08] i don't think i need to worry about the noun seed that's pretty well understood
[157:45.00] so i think what we could do is say
[157:47.08] m 44
[157:51.40] 5 0 0 0
[157:59.88] this is going to be a width
[158:04.44] let's do it that way
[158:20.76] so
[158:32.04] so
[158:35.40] um
[158:45.40] so
[159:12.44] okay
[159:22.44] uh let's see with
[159:37.88] oh oops
[159:47.32] and then down here
[159:54.12] if not equal to width 1 1 1 if not equal to adder 1 1 1
[160:04.44] okay cool all right everything's looking good there so now i've got now i've got an alternative
[160:15.64] test and i need to find a way to get these into the readme without making the readme impossible to
[160:26.76] read
[160:38.20] hd xd path
[160:53.72] x priv but then
[160:56.76] i just need to have some way to cut this thing off
[161:02.76] that's okay actually although i'd prefer the six to be here and not there that's good
[161:12.68] make it one longer on the top row one shorter on the bottom row and this time it's
[161:22.76] too short on the bottom row oh because i didn't make it one longer i made it two longer
[161:27.48] all right great that looks good i don't mind that one at all
[161:41.08] oh whoops and i forgot to
[161:50.52] i
[161:52.52] forgot to update that what the letter l
[161:59.88] okay if i squint just right i can see it there we go
[162:08.52] i actually think that it would be better if the output looked like this
[162:19.56] i can make it look like this we can do it we can do it we can clean up the output
[162:25.96] okay all right we're gonna make the output look like that
[162:41.08] so
[163:09.96] now you're playing with power
[163:11.40] nintendo power we got some nintendo power
[163:21.48] what's up dubs how you been
[163:38.28] did you not see the game boy before or no you you just like to make an entrance
[163:46.28] it just so happens that we're on the save wavelength wavelength but that's just a perk
[164:02.60] all right i think the wall of text looks better like this
[164:07.40] all right so here's what we're going to do we're going to output this
[164:22.20] so
[164:31.64] okay we'll make the example output format match this
[164:39.88] and then we'll end up turning this example back into the cli probably
[164:48.52] so
[164:55.64] what does a weight do
[165:09.64] a weight
[165:14.04] is a promise
[165:18.04] that's the best way to describe it
[165:20.04] if you're not familiar with what promises are
[165:24.60] go learn about promises then we can talk about a weight afterwards once you're older
[165:30.44] see that's good enough for now
[165:43.80] bless me when you're older
[165:51.32] all right so we're not going to print the wallet seed
[166:12.44] although i suppose we could that's not what this is about so we're not going to do that
[166:21.24] but we're going to print hd x path so wherever that thing goes
[166:30.68] one two and then we're not going to do that there okay
[166:39.56] one
[166:41.08] and then we are going to print
[167:03.16] so you're not slice zero to what are these 70 long or something or 71 or what's the deal on this
[167:12.36] oh whoops
[167:17.64] 56
[167:27.56] okay and then from 56 that's basically this whole thing
[167:46.60] so
[167:53.72] is this even the right length
[167:57.80] i have a feeling that these are off by one that that concerns me i mean the good
[168:06.04] news would be that it works in both directions off by one but the bad news would be that it's
[168:09.72] off by one
[168:19.24] so
[168:45.96] okay i'm gonna take a look at the readme again
[168:53.48] see how the readme does this
[169:00.60] and then i'll go make adjustments accordingly
[169:08.28] there we go oh whoops
[169:25.96] there we are
[169:26.52] oh whoops
[169:36.04] there we are
[169:52.12] so
[170:01.08] all right now this looks a lot better
[170:18.76] so
[170:28.28] okay let's not do this one let's do it in a browser real quick i'm gonna do
[170:45.16] 111
[170:46.68] well this is a case for chat gpt because it'll find the answer
[170:57.16] quicker than i will no actually we could probably go to the bit
[171:05.00] nope that's wrong bit no okay the other bit
[171:22.28] 111 oh thank goodness
[171:29.80] okay and we should turn that into a test vector where we test
[171:37.72] well do we have test vectors hold on test vec no we don't have a test back for bit 44 that's
[171:51.40] annoying because we don't actually yeah the way that these are specified
[171:57.40] i mean i guess we can test the test vector
[172:01.72] test vector two test vector three test vector four test vector five
[172:17.16] okay i just kind of think if i can
[172:19.16] hard what no you can't not no what i don't think these make any sense
[172:35.96] you can't do this you can't do that i mean i guess technically maybe you can
[172:46.52] but you you can't you i guess you can i guess you
[172:49.72] so i'm gonna say you can't have a hardened key after a non-hardened key but you you kind of can
[173:03.16] i don't like this test vector we need a better test vector this is i don't like this one i don't
[173:07.40] like it i don't like it it does non-standard things why don't we have a test vector in the
[173:13.32] bit 44 hmm somebody explain me this
[173:18.84] young padawan
[173:31.88] did i did i say that i very well may have said that
[173:40.52] first learn promises you must found a neato article on promises that they
[173:47.64] use the jack and jill rhyme to explain it oh no that might not be the right one
[173:53.80] when you get older yeah yeah when you're older
[174:07.88] okay so this is better now
[174:14.52] so
[174:21.56] um
[174:37.40] so
[174:49.24] so
[175:03.08] so
[175:27.64] um
[175:39.48] so
[175:51.32] hmm
[176:08.52] derive wallet
[176:09.64] examples derive derive wallet okay i repent of what i've done we're going back to from seed
[176:31.32] okay
[176:38.20] so
[176:49.00] so
[177:07.80] all right then we're gonna have api docs
[177:17.08] so
[177:29.88] okay
[177:43.88] so
[177:54.68] okay
[178:08.68] okay all right you oh you posted in the js channel
[178:33.48] so
[178:42.28] to do let me
[178:46.92] all right
[178:56.28] i'm going to check this out
[178:59.08] let's see if i agree with this
[179:09.32] none of the interviews are complete without promise no you just you don't understand
[179:22.68] javascript at all if you don't understand promises you not it's not about interviews
[179:26.76] it's about you can't code in javascript if you don't understand promises
[179:33.16] yeah people it's really weird that people it has an unfortunate name because what it is is it's just
[179:41.00] a callback i mean well what's a better way to put it well we'll see
[179:47.16] so
[179:55.56] okay
[180:02.28] oh okay cool yeah
[180:09.56] so
[180:17.96] doesn't like white space at all oh yeah twitch does not like white space no
[180:24.84] it does not not in the comments not one bit
[180:38.76] error in getting the water yeah cooking yeah i think i think this this sounds like it's pretty
[180:46.68] decent uh
[181:01.24] ah this is good good find
[181:03.64] finally is retarded don't use that don't ever use finally
[181:17.64] use dot catch and dot then there's it doesn't make any sense to use finally because there is no
[181:29.08] it doesn't it it's i i i don't i don't believe there's a use case for that that's one thing that
[181:35.80] i would say is they they are explaining to you everything that's there but that's not everything
[181:39.80] that you need to use for example hopefully you never need to do this well i guess you do have
[181:46.36] to do it in this particular case of set time out everybody creates a sleep function that does this
[181:51.24] but in general this is not this is not the promisee part of a promise this is when you have
[181:56.28] to wrap something that's an old api and you have to wrap it to make it a promise
[181:59.72] let's see does he do it does he talk about a weight at all here
[182:04.12] well that's good okay uh
[182:21.48] so
[182:32.68] let's see
[182:47.08] so
[182:47.88] all right and still no mic issues today this is wonderful
[182:57.24] who would have thought it was the usb hub the flipping i don't know let me let me i'm just
[183:05.40] gonna real quick i'm gonna take a just a moment for a tangent here because i this was not a cheap
[183:13.96] usb hub or at least not by my definition of cheap and it was by a brand that is not
[183:28.12] unreputable oh no longer available on amazon though
[183:31.48] okay maybe it was a cheap usb hub it was 40 which by today's standards for a usb hub that's like
[183:43.40] nothing that's like getting it for free because unlike in the 90s when usb hubs were hubs
[183:53.16] nowadays usb hubs are freaking computers with their own processor and ram and graphics unit
[184:04.20] uh
[184:07.64] okay let's get back on stay on target stay on target
[184:31.56] kbms no they are not still thing they are they there are uh these there are usv usb style kbms
[184:41.08] but i just can't imagine that they work in today's day and age because today you know
[184:46.52] usb is just not as hot pluggable as it as it once used to be instead
[184:50.68] so
[184:55.16] okay hmm what does that tell us
[185:19.08] hold on i'm just seeing if it was a loose connection
[185:22.04] yeah okay well never mind mike just cut out
[185:46.44] dang it well well there goes my theory that the usb hub solves it
[185:52.28] i guess i guess it was just good luck so next step new mike
[186:03.24] well we'll see we'll see if it only cuts out once every two days i can handle that
[186:11.08] if it's cutting out every 15 minutes like it was before, blah.
[186:15.24] Yeah, I already replaced the cable on the mic. I already replaced this cable.
[186:23.32] Jiggle, jiggle, jiggle, jiggle, jiggle, jiggle, jiggle, jiggle, jiggle, jiggle, jiggle, jiggle,
[186:39.48] jiggle, jiggle, jiggle, jiggle, jiggle, jiggle, jiggle, jiggle, jiggle, jiggle, jiggle, jiggle.
[186:41.72] Dang it. Okay.
[186:42.92] Okay, so we're back here.
[187:01.48] So,
[187:23.64] hmm.
[187:34.36] Hmm.
[187:52.92] Do you ever find yourself singing "Push It" in your head
[187:55.80] when you push commets? No, I don't. I don't know what "Push It" is.
[188:00.36] Salt and pepper. Is that a "Push It"? "Push It" good. Is it that one?
[188:13.40] I don't think that's salt and pepper though. That's salt and pepper? Okay.
[188:22.60] And so it is.
[188:25.80] So,
[188:37.40] so,
[188:44.20] all right, let me see. I'm gonna do a little git blame here real quick.
[188:58.44] Let me see if I can go back just a wee bit here on the Zabigrifacta.
[189:17.56] So,
[189:28.60] so,
[189:35.80] so,
[189:47.00] wait, I wanted to look not at the whole thing. I wanted to look more specifically at
[190:05.00] okay, I'll bring this around.
[190:29.48] I'll bring this around.
[190:41.48] So,
[190:49.88] hold on one second.
[191:03.88] So,
[191:11.08] okay.
[191:26.04] Okay.
[191:30.28] Okay.
[191:44.28] Okay.
[191:53.48] So,
[192:04.68] ah, I don't know what that was about. Oh, I hit control instead of,
[192:23.16] now what was this supposed to be, child key? No, it's supposed to hdkey.
[192:48.52] Okay, dash hd, hdkey, dash hd, child key, dash hd, child key, private key,
[192:58.20] dash hd, dash hd. Okay, let me see what else was changed back then.
[193:04.92] I think we did get rid of this one as well.
[193:11.64] Okay.
[193:21.16] Okay.
[193:35.16] So,
[193:44.68] okay, oops.
[194:02.36] What have we still got here? What's still cooking on this side of the fence?
[194:07.96] From seed.
[194:22.68] Okay.
[194:31.40] So,
[194:40.92] so,
[194:50.44] well, still run stage changes.
[195:07.88] What have I got here? Okay, x key depth.
[195:27.48] All right. So,
[195:48.28] update docs.
[196:09.72] Well, I thought that type cleanup, okay. All right, it couldn't go any further than that.
[196:19.08] Got it. All right, that's fine. Okay, final API example.
[196:27.64] Doc new API from seed.
[196:41.16] So,
[196:50.68] okay, all that's pushed up.
[197:02.28] Okay, let's take a look at the readme as it currently stands now.
[197:09.00] Oh, this is so nice.
[197:12.20] So,
[197:40.84] okay.
[197:50.28] So, I think I want to put a little bit of a code block in there
[197:57.16] to kind of give a little more context around what this is.
[198:04.76] So, then we can have wallet equals dash hd dot from seed, seed bytes.
[198:29.56] Let x key equals wallet dot derive account zero.
[198:39.00] Derive.
[198:47.00] Let's see, and then this would be account.
[198:58.68] Account dot derive x key.
[199:03.00] Oops.
[199:11.72] Let use equals dash hd dot receive zero.
[199:26.60] So, x priv equals dash hd dot to x priv x key to x pub.
[199:55.32] There we go.
[200:00.44] So,
[200:25.08] hmm.
[200:30.52] I'm not sure where I want to put this.
[200:44.52] Because I kind of want...
[200:46.52] Well, let's just get rid of this one for now.
[200:53.72] I want to see what this looks like when it's actually up.
[200:59.08] So,
[201:09.40] hmm.
[201:15.80] So,
[201:25.32] hmm.
[201:34.52] So,
[201:47.88] hmm.
[202:05.24] Okay, maybe we do move the to_if to dash hd for now.
[202:16.68] Because the only reason we need to dip down into dash keys is for that.
[202:21.56] And I don't think that's really good enough reason to dip down into dash keys.
[202:26.12] So, I'm actually going to waffle back on that one, which is just fine.
[202:43.56] Okay.
[202:47.72] There we go.
[202:56.92] So,
[203:04.28] okay. So,
[203:20.68] can I just show a really broad usage and then...
[203:26.36] Oops. Okay, wait, what did I miss here?
[203:38.04] Okay, this is going to be too much.
[203:48.60] So,
[203:59.96] that's okay.
[204:13.96] So,
[204:43.48] all right, we'll take a look and we'll see how this looks.
[204:45.24] This is something I would like feedback from y'all.
[204:47.48] If you're interested in giving me some feedback.
[204:50.76] Let's take a look at it together here.
[204:57.56] I'm going to paste the link in the chat.
[204:59.00] So, you can take a look at it there if you want.
[205:01.40] This is on the deep dash branch.
[205:14.76] Hmm.
[205:28.76] I kind of want to take it back and then maybe break it down.
[205:47.96] So, we have the usage.
[205:52.84] I think the usage section, we could break this down like we did up here.
[205:58.20] I don't know, but I think that's too much.
[206:03.24] I think it's overdone.
[206:04.60] I think I need to update the API next.
[206:06.44] That's what needs to get updated right now is that I need to update the API docs.
[206:10.68] But I'm interested in how do we make this have the most visible value?
[206:16.28] Because I think right here, the output is actually the most important value.
[206:21.80] If I say HD wallet seed, HDXKeyPath, HDKeyPath, I think that that has the most value.
[206:35.32] Those few things.
[206:36.20] And I think it's valuable to see these two as well.
[206:39.72] But I think that, yeah, these three blocks, put that back into one block.
[206:46.68] The code is not as valuable as knowing what the output is.
[206:49.24] Because knowing what the output is cues you into, yes, we're in the right place now.
[206:54.04] And then, let's see.
[207:07.24] Let's go into the API.
[207:09.72] Test, test.
[207:11.08] The Twitch chat stopped updating in the overlay.
[207:13.56] Uh, it seems to be updating.
[207:21.88] I see it.
[207:31.56] Dubs!
[207:43.40] You're back!
[207:43.96] So much more handsome than I would have thought.
[207:47.16] Look at that beautiful bearded chin.
[207:51.64] Just, you know, the skull, it didn't look as handsome.
[208:02.28] I thought you were going to be emaciated and nearly dying.
[208:07.88] All right, so let's, let's get this example updated here.
[208:21.64] Well, let's make sure, actually, let's do, let's do this.
[208:31.48] I want a quick start.
[208:34.60] That's what I want.
[208:37.24] I want a quick start and then I want an API.
[208:39.16] So I'm going to go drop down here.
[208:43.40] I'm going to call this API.
[208:46.44] We're going to have a TOC up at the top.
[208:48.12] So I think I'm going to pull all this out.
[208:59.48] Let's see.
[209:03.24] I'm going to copy, I'm going to copy all of this out for right now.
[209:06.04] So, whoops.
[209:10.76] Let's copy this out.
[209:16.20] Oh, the Twitch chat stopped updating.
[209:23.16] Oh, oh, I see.
[209:31.40] Hello, does anybody on Twitch see that?
[209:39.00] All right.
[209:50.52] So,
[209:53.24] So,
[210:21.64] All right.
[210:22.04] So that's what I want.
[210:23.08] I'm going to push this back up so y'all can take a look.
[210:26.76] Can't respond back, huh?
[210:30.04] Let me, let me refresh this.
[210:34.12] Refresh.
[210:35.40] Let me check out what's going on over on Twitch here.
[210:41.96] Let me bring this thing over here.
[210:44.36] Whoops.
[210:44.92] Uh-oh, what happened?
[210:54.20] Um.
[211:08.20] My hair, my hair.
[211:09.64] Okay.
[211:11.96] Oh, so Sendev, I see you're back.
[211:16.68] Welcome back.
[211:17.48] Okay, I guess I'll give this an update over here.
[211:22.44] I'm not getting, yeah, I'm not getting the messages.
[211:33.64] Maybe it's because of the microphone.
[211:35.88] Let's try this.
[211:40.68] I mean, I know it's not really because of the microphone.
[211:43.00] I'm just, I'm just saying crap.
[211:44.68] There we go.
[211:48.60] Let them die out.
[211:51.64] Give it five seconds.
[211:52.76] Bring it back.
[211:53.48] Okay, what I need to do then is go to properties.
[211:58.68] Go to shut down source when not visible.
[212:01.96] Refresh browser when scene becomes active.
[212:05.40] I'm just going to check those real quick.
[212:07.80] Bloop.
[212:09.56] Bloop.
[212:12.60] Okay.
[212:15.80] Did that one.
[212:17.72] Now I'm going to do this one.
[212:18.68] Bloop.
[212:20.20] Bloop.
[212:24.60] Okay, I want to give it another shot.
[212:28.60] Test message.
[212:30.20] One, two, three.
[212:30.76] Test message.
[212:31.24] One, two, three.
[212:31.88] Lorem ipsum dolor sediment.
[212:34.68] Amet.
[212:37.24] I see that over here, but I don't see that over here.
[212:42.84] So try one more time.
[212:47.16] Hi there.
[212:53.80] Yeah, it's not coming through.
[212:55.72] Oh, whoa, whoa.
[212:56.76] There it goes.
[212:57.16] There it goes.
[212:57.96] Yay.
[212:58.68] Everybody, we're back.
[212:59.56] We're back.
[212:59.96] Huzzah.
[213:01.16] Now let us rejoice in the day of Twitch-ivation.
[213:05.80] There we go.
[213:12.60] Overlay is back.
[213:15.24] I just needed a good hard refresh.
[213:29.40] Okay.
[213:35.48] So here's this link again, by the way.
[213:42.36] All right, I'll see you in just a minute.
[214:12.44] All right, we need a TOC.
[214:18.20] Table of contents.
[214:24.12] Install.
[214:28.52] Quick start.
[214:32.44] Node, bun, and bundlers.
[214:41.64] Browsers, quick start, API, examples.
[214:49.00] I think this is the way we want to do it.
[215:05.96] Okay, so I'm going to run the API first.
[215:18.04] API is, and I think this is actually the right way to represent the API.
[215:36.52] Okay.
[215:56.44] From xkey, xpriv, or xpub.
[216:12.92] All right, let me go check in my code here.
[216:39.40] Depth, xkey, depth.
[216:53.88] Okay.
[217:09.16] And that's kind of a, let me do this, -hd.
[217:13.00] I just want to see where we're at, really.
[217:31.96] Okay.
[217:42.68] Okay.
[217:56.68] Receive, change, create, xkey, depth, n, hdkey.
[218:23.96] All right, what else do we need?
[218:39.48] To xpriv, hdkey.
[218:49.40] To xpub, hdkey.
[219:17.88] Whoops.
[219:22.60] Boo!
[219:36.60] Whoa, that's not what I wanted.
[219:44.60] Take that back a sec.
[219:47.48] Okay, so.
[219:52.20] Okay.
[220:06.52] Drive child, hdkey index hardened, because we could say hardness.
[220:34.84] Oh, no.
[220:39.56] See, fingerprint, I don't think I really need to document that.
[220:55.08] Oh, did we not change this?
[221:03.00] Derive wallet, did we not change this to from seed?
[221:09.72] All right, let's change this to from seed, seed.
[221:15.32] And then we need to flippy doodle these as well.
[221:23.64] So that's let purpose equals ops dot purpose.
[221:37.48] Let coin type equals ops dot coin type.
[221:50.12] Let versions equals ops dot, whoops, versions from seed.
[222:15.72] Wait a minute, oops.
[222:17.96] I'm so confused.
[222:20.28] Okay, it just went back to itself.
[222:29.32] I get it now.
[222:30.04] All right, so hd from seed, seed options, and then the parameter of uint8array for seed bytes.
[222:44.04] Oh.
[222:50.52] Okay.
[222:59.56] That's better.
[223:04.52] Okay, good.
[223:11.64] So fingerprint, I don't see how that's super important.
[223:25.08] I think I'm going to make that private.
[223:26.28] So let me go ahead and do that now.
[223:36.84] Okay.
[223:43.72] I like to make things available, but only private if necessary.
[224:00.12] And this, we're going to make this
[224:07.00] just like that.
[224:21.72] Okay, so fingerprint is gone, right?
[224:38.84] Fingerprint, I think there was only one place that it was used.
[224:43.00] I think it's right there.
[224:49.56] And we expose it, because I like to expose everything, so you can debug it if you want.
[224:53.24] And then derive wallet is a no fly.
[225:09.40] Okay.
[225:32.36] Create account from X keys already there, and then wipe private data.
[225:38.20] Secure erase.
[225:50.36] I don't know, that seems like something that, I don't know if I even want to include it.
[226:00.20] I think I'm going to not document it for now.
[226:11.88] Because I just don't see it really being that used or useful.
[226:23.08] If somebody's got access, if somebody's got root level access to your machine,
[226:29.64] and they can read your RAM, we can cross that bridge when we get there, I guess.
[226:37.64] Okay, so let me go back to this one more time.
[226:43.08] So same thing, but now let's look for the underscore methods.
[226:51.32] So we have create account and create X key.
[226:54.76] So I think that that's important, that here under from seed, we have wallet.
[227:08.60] And then we have from, no, we have derive account, account index.
[227:19.40] And that gives us account, which gives us derive X key.
[227:27.08] And this gives us, this is use.
[227:38.12] And that gives us X key, which is, which gives us derive key, key index.
[227:54.68] Which gives us key, private key, public key.
[228:07.56] Okay, so I'm just going to push that up so I can look at it and see,
[228:14.52] because I don't think it's going to look very good, but it is the correct hierarchy.
[228:19.32] All right, checking back comments.
[228:25.56] What about RowHammer?
[228:26.68] What the heck is RowHammer?
[228:28.68] Any mitigations for that?
[228:30.20] What's RowHammer?
[228:31.16] Better not be a dirty website.
[228:36.28] [silence]
[228:45.16] Yeah.
[228:45.96] [silence]
[228:58.68] Yeah, I mean, this is the kind of stuff that it's just,
[229:01.32] if somebody's targeting you that hard, they're going to get you, man.
[229:04.84] [silence]
[229:32.76] ECC memory.
[229:33.88] That's what you got to do.
[229:34.84] [silence]
[229:42.76] All right, so I'm refreshing here.
[229:44.92] [silence]
[229:48.84] Oops.
[229:49.16] [silence]
[229:52.68] Nah, whatever.
[229:53.32] [silence]
[230:05.56] I could maybe.
[230:06.28] [silence]
[230:16.28] Make that a little less staggery.
[230:17.80] Hold on.
[230:18.28] [silence]
[230:46.28] I guess I could just get rid of this top level.
[230:48.12] [silence]
[230:48.60] Because that's basically what it is.
[230:50.44] [silence]
[230:50.68] Or we could take Wallet and we could move that down into its own section.
[230:53.96] [silence]
[230:58.20] Let's do that.
[230:58.92] [silence]
[231:08.28] We could move Account into its own section.
[231:10.28] [silence]
[231:12.20] And then we could move XKey into its own section.
[231:14.60] [silence]
[231:15.64] And then we could move Key into its own section.
[231:17.56] [silence]
[231:24.76] Oh, and we are going to have the toWithKey
[231:35.08] [silence]
[231:38.92] and toAdderKey.
[231:42.04] [silence]
[231:50.04] Okay.
[231:50.36] [silence]
[231:54.76] Let's take a look at that and see how terrible that looks in comparison.
[231:57.56] [silence]
[232:12.52] Okay.
[232:12.92] [silence]
[232:17.72] And I think we could basically...
[232:19.56] Let me just do this.
[232:20.52] [silence]
[232:30.52] [typing]
[232:40.52] [silence]
[232:50.52] [typing]
[233:10.52] Hmm.
[233:12.52] [silence]
[233:14.52] All right, I think this is a good look at the API.
[233:22.52] Here, link again for anybody that's watching now.
[233:24.52] If you want to give me some feedback on this.
[233:26.52] [silence]
[233:48.52] And I think I kind of want to elide away the async there.
[233:56.52] Let's see.
[233:58.52] [silence]
[234:06.52] Not elide away, but I want to make it softer.
[234:10.52] I want to make it less visible.
[234:12.52] I want to make it not so, I don't know, in your face.
[234:20.52] All right, this is the API.
[234:22.52] [silence]
[234:36.52] Let's see if that helps.
[234:38.52] Because it kind of gets in the way of being able to read this.
[234:42.52] As do these, actually.
[234:44.52] I'd be interested to see if we took those comments and put them in a different style too.
[234:50.52] [silence]
[234:54.52] Or, say we did like this.
[234:58.52] [silence]
[235:04.52] I kind of want some syntax highlighting on it.
[235:08.52] That's basically what I'm saying here.
[235:10.52] [silence]
[235:16.52] But I don't want to put it in a block to get the syntax highlighting.
[235:20.52] Because I think the hierarchy has meaning.
[235:23.52] [silence]
[235:26.52] Could maybe make those bold.
[235:29.52] I don't know.
[235:31.52] [silence]
[235:35.52] Well, regardless, I should just fill this out.
[235:39.52] Because here's the high level overview.
[235:43.52] It's just, when I've done this before, and I've done...
[235:47.52] I mean, I guess what I could do is I could put a block under here.
[235:52.52] Let me try one more thing before I give up on this.
[235:55.52] But when I've tried this in the past, putting inline blocks just sucks.
[236:00.52] So, what I could do, though, is I could do this.
[236:04.52] Let's say JS.
[236:06.52] [silence]
[236:11.52] And the problem is, then Prettier's going to want to nab it.
[236:15.52] And if Prettier nabs it...
[236:17.52] [silence]
[236:23.52] Let's just try it, though.
[236:25.52] Let's take a peek and see what it ends up looking like.
[236:29.52] Let's see. I'm just going to get rid of all the hyphens and all the underscores.
[236:34.52] [silence]
[236:38.52] Okay.
[236:40.52] [silence]
[236:42.52] Oops.
[236:44.52] [silence]
[236:52.52] There we go.
[236:54.52] [silence]
[237:04.52] [typing]
[237:24.52] Oh, good. Prettier didn't try to get a hold of it.
[237:27.52] Excellent.
[237:30.52] Ah, great.
[237:34.52] [silence]
[237:39.52] Okay, so let me take a look at two ago.
[237:44.52] Depth of any. Let's just leave that in there.
[237:48.52] [silence]
[237:53.52] All right, so we can get some syntax highlighting.
[237:56.52] [silence]
[238:00.52] [typing]
[238:14.52] [typing]
[238:36.52] [typing]
[239:02.52] Okay. There. Whoops.
[239:06.52] [typing]
[239:18.52] That might actually work.
[239:20.52] [typing]
[239:25.52] Let me see if I can do the same trick down here.
[239:27.52] First of all, let me go ahead and...
[239:32.52] [typing]
[239:49.52] Yeah, that looks nice, doesn't it?
[239:51.52] I like that. I think that actually worked out quite well.
[239:54.52] I'm going to try doing that the same thing here.
[239:57.52] So a little bit of abuse of the syntax highlighter,
[240:00.52] but just the right amount.
[240:03.52] [typing]
[240:22.52] Let's see if it's just as generous with this one.
[240:25.52] [typing]
[240:28.52] Because that actually, that works out okay. That looks nice.
[240:31.52] [typing]
[240:35.52] Yeah, I like that. I like that a lot.
[240:39.52] That actually worked out really, really well.
[240:43.52] [typing]
[240:58.52] And I kind of think I ought to put HDKey at the bottom.
[241:01.52] [typing]
[241:10.52] And I could likewise do this.
[241:16.52] Okay.
[241:18.52] [typing]
[241:23.52] Where was that create at?
[241:25.52] [typing]
[241:32.52] Let's see if this will work.
[241:34.52] [typing]
[242:02.52] Okay.
[242:05.52] There we go.
[242:08.52] Looks good.
[242:11.52] I like that a lot.
[242:14.52] The only problem is that we can't link,
[242:17.52] from doing it this way, we can't link to something specific.
[242:21.52] [typing]
[242:28.52] But I think that that might be okay. We'll see.
[242:33.52] [typing]
[243:01.52] And then these are pretty...
[243:04.52] [typing]
[243:10.52] Cool. Alright, I like this. This is good.
[243:12.52] Alright, moving on.
[243:15.52] I think that's a good style of documentation for this.
[243:18.52] I think it's about as best as we can hope for.
[243:21.52] [typing]
[243:38.52] Alright, so...
[243:40.52] First thing we need to do then is...
[243:44.52] Well, actually, we need to get rid of some of these
[243:49.52] ditties because we need to have...
[243:53.52] [typing]
[243:57.52] -hd.
[244:00.52] This is the top level export,
[244:07.52] which can be used for...
[244:10.52] [typing]
[244:23.52] or BIP-44 style HD keys.
[244:51.52] Call it "Account XKeyKey".
[244:57.52] [typing]
[245:25.52] [typing]
[245:39.52] HD wallet, HD account...
[245:57.52] There we go. Okay.
[246:25.52] Okay.
[246:28.52] So then we need to have...
[246:31.52] We just need to break each of these down and run with it.
[246:55.52] [typing]
[247:01.52] And we can just...
[247:02.52] I wish we had something like Godock that would just
[247:06.52] generate this more automatically or just automatically, period.
[247:14.52] Let's see if this will work.
[247:17.52] I don't know if this is actually allowed or not.
[247:27.52] Let's see.
[247:30.52] We'll go JSON5 then.
[247:33.52] Interesting. Whoops.
[247:41.52] Cool. Oh, whoops.
[247:44.52] Wait, hold on.
[247:46.52] Does that work?
[247:48.52] Does that actually work?
[247:50.52] Interesting.
[247:52.52] Let's go with JSON5, though.
[248:00.52] "xprev xpub"
[248:14.52] "xprev xpub version byte base58 check encoded to a human-friendly prefix"
[248:33.52] [typing]
[248:51.52] I wonder if we could...
[248:59.52] That's what that's supposed to be.
[249:01.52] All right, great. That's good.
[249:13.52] "The intended use of the key for receiving external funds or internal change"
[249:31.52] "as a receiving address for external funds or an internal change address"
[249:45.52] That's good.
[249:47.52] And then this is pretty simple, too. "receive = 0 change = 1"
[250:01.52] Okay.
[250:25.52] Oh, that was weird.
[250:32.52] I didn't mean to make that happen, but whatever.
[250:36.52] Okay, so these two are down.
[250:42.52] Let's see. Constants, maybe?
[250:49.52] I don't know. Whatever.
[250:59.52] That's probably fine.
[251:09.52] And I don't think this has any ops to it. Let's check and see.
[251:38.52] I want to kind of put an asterisk by the one that's most important.
[251:43.52] [typing]
[252:12.52] [typing]
[252:31.52] I think that this...constants...there we go.
[252:49.52] Just put that in under its own thing, maybe.
[253:18.52] [typing]
[253:35.52] Okay, there we go.
[253:37.52] And then this one's not as important, so I'd be just as well to...
[253:43.52] Well, I'll fill it out in the order of its importance. I'll fill it out last.
[253:51.52] As far as these go.
[253:57.52] Okay, so let's do "from seed" "seedBytes" "wallet ="
[254:16.52] Nah, let's just do...
[254:45.52] [typing]
[254:59.52] Okay.
[255:13.52] Generates a wallet, subtype of HDKey.
[255:26.52] There we go.
[255:39.52] I might have to fix that later, because we might want to use...
[255:42.52] The term "wallet" gets overloaded, because it's a type.
[255:47.52] So I could make it "keyTypeWallet" "keyTypeWallet" maybe? Ah, we'll figure it out later.
[256:02.52] Useful if you're going to iterate through many accounts, and...
[256:19.52] Some accounts, and don't want to regenerate the intermediary HDKeys each time.
[256:42.52] [typing]
[256:55.52] Yeah, let's just...
[257:13.52] [typing]
[257:27.52] Ops, let's see, and we want to do "ops" I think.
[257:34.52] So I'm going to go ahead and grab the "ops" for "from seed".
[257:55.52] "Bip 44 default coin type is"
[258:09.52] "Bip 44 default"
[258:16.52] "Dash default versions"
[258:26.52] "Dash HD.mainnet default"
[258:46.52] [typing]
[259:11.52] [typing]
[259:19.52] "as the HDPath prefix of"
[259:25.52] "by defaults"
[259:38.52] "the default HDPath prefix of..."
[259:42.52] Great, that's perfect.
[259:49.52] [typing]
[259:59.52] "options"
[260:18.52] Let's see here.
[260:20.52] Can I pull these back?
[260:24.52] "derive account"
[260:45.52] Alright, "options", that's good.
[261:03.52] And next is "0".
[261:22.52] Let's see.
[261:51.52] [typing]
[262:02.52] Okay, yeah, that's good.
[262:04.52] So next we need "from XKey".
[262:05.52] Hey everybody, how's it going?
[262:07.52] Feel free to drop me some questions, say hello, yadda yadda.
[262:19.52] "from XKey"
[262:22.52] [typing]
[262:45.52] [typing]
[262:52.52] "Parses a base-58 check encoded XPriv or XPub key into a depth-4 XKey"
[263:18.52] [typing]
[263:47.52] "with an assumed prefix of"
[264:01.52] "m44c"
[264:29.52] I don't know what the assumed prefix is actually.
[264:31.52] Okay, so "Parses a base-58 check encoded XPriv or XPub key into a depth-4 XKey"
[264:40.52] "HDKey"
[264:44.52] What did I call it up here?
[264:55.52] "XKey". "Depth-4 HDKey".
[264:59.52] [typing]
[265:10.52] [typing]
[265:31.52] [typing]
[265:42.52] "Prefix is not recoverable, but can be assumed to be something like"
[266:02.52] There we go.
[266:22.52] Alright, good. So, "from XKey" and we've got the "ops" here as well, right?
[266:37.52] Okay.
[266:42.52] So basically, take this and do the same thing.
[267:02.52] Okay, so "wallet is a weight" oops. "-hd from seed" so this would be "-hd.from"
[267:15.52] "from seed"
[267:21.52] "seed options"
[267:29.52] And then, actually no. This would be "XKey" and this is just straight from
[267:38.52] So this would be something like "let XPriv = XPriv" We could use the one up here.
[267:59.52] [typing]
[268:15.52] Okay.
[268:20.52] And then, that's actually a lot like this one. Let me go back to this.
[268:29.52] So from here, we do have "derive key" and then we're going to have "versions"
[268:36.52] and we're going to have "depth" is going to be "n"
[268:42.52] and then we're not really going to know what the parent fingerprint is
[268:48.52] and then the "index" is going to be "0"
[268:58.52] "derive key" is going to be "function" "versions" are going to be "whatever"
[269:03.52] "chain code" is going to be "c"
[269:11.52] "priv bytes" "pub bytes"
[269:30.52] "or null"
[269:45.52] Okay, I think that's fair. But then, we want this to be from "XKey" not from "c"
[269:59.52] from "XKey"
[270:28.52] [typing]
[270:44.52] Okay.
[270:47.52] So when we look at this, "depth" is going to be some "depth n"
[270:53.52] So basically, the idea I was trying to get across here is that all of these values are known.
[271:03.52] That's really what I was trying to get across is that these are known values.
[271:23.52] [typing]
[271:48.52] Alright, and then the options that we can pass for "XKeyString"
[271:57.52] and "options"
[272:01.52] What are the options? Oh, we already have the options. We put them right down here.
[272:08.52] And so, let's see. "The default version to check against"
[272:22.52] "Must match a given version"
[272:31.52] "Normalize public key"
[272:39.52] "False"
[272:44.52] "Plots x, y of public key to validate"
[273:01.52] [typing]
[273:10.52] Okay, and then we have here "BIP32"
[273:16.52] "False"
[273:19.52] "Allow XKeys of arbitrary depth"
[273:29.52] "Wallet level"
[273:34.52] "Purpose"
[273:36.52] "Account"
[273:40.52] "Purpose, coin type, account"
[274:02.52] We'll just go with coin. There we go.
[274:06.52] Alright, so those are the options.
[274:10.52] Alright, next one. So we've got "fromSeed" and "fromKey"
[274:15.52] Good. That's done.
[274:23.52] And what's next? So now, we're going to do "toWiff"
[274:32.52] [typing]
[274:48.52] This should be "privBytes" and this should be "pubBytes"
[275:05.52] "Wrapper around -keys.encodeKey"
[275:18.52] "pubBytes"
[275:28.52] So this is not going to be like that. This is going to be "privBytes"
[275:36.52] And so... and this doesn't have any options. No, this does have options, doesn't it?
[275:56.52] Let's see. Let me make sure. "fromSeed"
[276:02.52] Let's make sure it's here. "ops"
[276:18.52] So basically, it's just version. It's pretty much all just version info.
[276:37.52] I don't think we can do any of the drives with any sort of options.
[276:40.52] But those options are already set. The version is already set once you get to this point.
[276:52.52] There we go.
[276:57.52] Okay. What time is it? I might have to go soon.
[277:15.52] Well, I'll try to get through this. Well, we've got quite a bit more documentation to do, actually.
[277:22.52] But I'll try to get through it. Well, I'll do what I can before I have to go.
[277:29.52] Okay, so "privBytes" to "base58" "check encode a private key"
[277:51.52] "as_wiff"
[278:04.52] "wallet_import_format"
[278:16.52] All right, so this one, "privBytes" is going to be--well, really, it's just "key."
[278:27.52] So if we had--what was it?
[278:31.52] "let account = wallet.derive("account")"
[278:53.52] And I do need to document the "from seed"--let's see.
[278:57.52] Is it possible for that to--
[279:03.52] API, let's see. "Important note."
[279:24.52] "Derivations can fail."
[279:34.52] That needs to be right up at the top.
[279:41.52] "Important."
[279:44.52] "All derive methods can fail."
[279:53.52] "This is normal."
[279:59.52] "It's highly unlikely, but when generating millions and billions of keys, eventually you will encounter a key."
[280:18.52] "You will encounter a derivation that fails due to plotting outside of the--"
[280:43.52] "due to hitting infinity or zero"
[280:56.52] "on the curve."
[280:59.52] "Most libraries abstract this away." I don't know if it's "most," but certainly "some."
[281:14.52] "Some libraries abstract this away by automatically incrementing to the next index on failure."
[281:31.52] "We do not."
[281:40.52] "As this could affect privacy and have other unintended consequences."
[281:59.52] "We do not."
[282:05.52] "Recommended that before accepting a seed as valid, you derive--"
[282:24.52] "down to--"
[282:41.52] "you derive at least these addresses."
[282:49.52] "At least derive these HD paths at minimum."
[283:07.52] So, that would be M4450011011, and then repeat with 1.
[283:30.52] "If you ever encounter a failed account,"
[283:59.52] "then if at any time a derivation fails, mark that"
[284:10.52] "account use--"
[284:34.52] Okay.
[284:49.52] "an account index"
[284:56.52] "or use index"
[285:05.52] "derivation fails, mark that account as invalid."
[285:20.52] "If any key derivation fails, mark that as invalid."
[285:49.52] Okay.
[285:52.52] "If any key derivation fails, mark that account as invalid."
[286:13.52] Let's see.
[286:36.52] Let's see.
[286:55.52] Yeah, that's the right thing to do.
[287:16.52] So, before you accept a seed as valid, make sure that the entire first account is valid for its known uses.
[287:29.52] Then, if at any time--
[287:32.52] and maybe we should have a convenience function in here, I'm not sure, but I'd add that later.
[287:42.52] "If at any time an account index--" No, no, because this is something that they're going to have to do for every account.
[288:03.52] That's-- there we go.
[288:06.52] One, before accepting a seed as valid, derive these HD paths.
[288:14.52] There we go. This is good.
[288:21.52] Whoops. Hold on. I have to redo something here.
[288:24.52] I just ruined my buffer.
[288:30.52] Let me put this down at the end so I don't ruin my buffer again. Okay.
[288:50.52] Before accepting an account as valid,
[289:08.52] always derive the--
[289:22.52] let's see.
[289:29.52] First, and when creating a new account, always derive--
[289:48.52] let's see.
[289:49.52] New account. Always derive down to the both use indexes.
[290:18.52] If either the account index or the use index fails,
[290:47.52] mark--
[291:03.52] let's see.
[291:25.52] If derivation fails, reject the seed.
[291:38.52] And this is a good idea because you've got to-- most software's not-- most software's realistically not going to know to account for this.
[291:57.52] Okay.
[292:03.52] If a key derivation ever fails, simply mark that key as invalid.
[292:32.52] Okay.
[292:47.52] Okay.
[292:49.52] Okay.
[293:17.52] Okay.
[293:19.52] Okay.
[293:21.52] Okay.
[293:23.52] Okay.
[293:52.52] Okay.
[294:08.52] Most likely you will never personally encounter this failure.
[294:16.52] However, when your software is generating millions and billions of keys across thousands and millions of accounts,
[294:38.52] eventually one of the-- what do we call these?
[294:50.52] Key expansion hashes will just so happen to be a--
[295:08.52] just so happen to cause-- to hit infinity or zero on the curve.
[295:31.52] Although some libraries abstract this away by automatically incrementing to the next index on failure.
[296:00.52] But doing so could lead to difficult-to-understand bugs.
[296:20.52] But since the occurrence is so rare and therefore will inevitably lead to highly confusing and difficult-to-track bugs,
[296:45.52] as well as privacy-- well, including privacy-related-- including address reuse a privacy concern, we do not.
[297:06.52] There we are.
[297:35.52] There we go.
[297:50.52] Because maths.
[297:57.52] All right.
[298:03.52] So, the good news is that if you treat your software this way, well, I mean, it's a double-edged sword.
[298:12.52] It's a double-edged sword.
[298:15.52] Because for some things, if you're reading an address that somebody else created and their software works this way,
[298:24.52] then-- so, I mean, it's so rare, it probably doesn't matter, but there is the ability that if you build your software this way
[298:38.52] and you pull in another address from software that's handled it differently, that you could skip addresses that are there.
[298:44.52] You can always go back and find them.
[298:46.52] They're not lost.
[298:47.52] But the more confusing part would be that most likely this is going to occur when you're generating a new address,
[298:55.52] because that's what you're doing most often.
[298:57.52] If it occurs when you're generating a use index, well, that would be very confusing,
[299:04.52] because you would actually be generating keys for receiving and for change from the same pool,
[299:11.52] because if it fails on the use index, then it's going to roll over from 0 to 1.
[299:18.52] And if 1 works, then when your software requests for a receiving address, it's going to get what would normally be a change address.
[299:28.52] And when it requests for a change address, it's also going to get what would normally be a change address.
[299:33.52] And so the behavior would just be confusing.
[299:35.52] I don't know how other software handle this issue.
[299:39.52] I don't know if it's been well considered.
[299:42.52] I also don't know how likely it is to happen.
[299:47.52] Every single library seems to have something for checking this condition.
[299:52.52] In fact, that is the condition by which we know that a key is valid or invalid is whether or not it throws when plotted.
[300:02.52] And so it's a weird thing.
[300:06.52] I certainly think that more people need to be aware of it.
[300:10.52] And maybe the decision that I'm coming to isn't the right decision.
[300:14.52] But if it's not, then let's bring up that discussion and let's have it well documented
[300:24.52] rather than a hidden feature that's on line 1097 of some library.
[300:32.52] And, you know, just because somebody copied it from C++ code and the person who wrote it in the C++ code
[300:40.52] copied it from a reference implementation in BIP-32, which didn't have the same constraints as BIP-44.
[300:47.52] And I think that the test cases, the test fixtures, the test vectors for BIP-44 come from BIP-32,
[300:57.52] but BIP-32 has different constraints.
[301:00.52] It doesn't really have constraints, whereas BIP-44 has very clear constraints.
[301:05.52] And so I think that for a BIP-44 library, this is more appropriate.
[301:11.52] And I don't think that that was appropriate for a BIP-32 library.
[301:14.52] I don't think that you should ever have a silent error where you don't give feedback,
[301:18.52] where you change the behavior of the program underneath the developer
[301:23.52] and then not signal to the developer that a different action was carried out
[301:30.52] than what was their obvious intent.
[301:34.52] Okay.
[301:46.52] Okay, so carrying on.
[301:49.52] Yes, the current behavior sounds misleading.
[301:53.52] This behavior may be unexpected.
[301:58.52] The other behavior is unexpected and it will work, but it'll work in a way that you...
[302:03.52] Subtle bugs. Errors are always better than subtle bugs.
[302:06.52] I'd rather have an error any day of the week than a subtle bug.
[302:11.52] Because an error is going to get fixed.
[302:14.52] A subtle bug, nobody knows where to look.
[302:20.52] And so that's where I take the stance on this, is errors are better than subtle bugs.
[302:28.52] Failing hard, you say, "Well, we don't want it to fail hard
[302:32.52] because there's a user on the other end of it."
[302:34.52] No, you do, because that user's going to get ticked off,
[302:36.52] and they're going to let you know, right?
[302:38.52] And then you'll fix it, and you'll fix it for everybody.
[302:41.52] So I probably need to, in my examples...
[302:45.52] Well, in the wallet implementation that I create, I will handle this.
[302:50.52] Although, again, it may be so astronomically unlikely
[302:55.52] that it's not worth fretting about.
[302:58.52] Essentially, it's... But it will happen.
[303:01.52] You're talking about tera hashes, right?
[303:03.52] So eventually, you're going to create a hash that probably...
[303:09.52] I don't know exactly what the conditions are.
[303:12.52] I haven't understood the math well enough to be able to say.
[303:16.52] But there are some conditions.
[303:18.52] There's some possible way that you can end up in infinity.
[303:23.52] Oh. Hold on.
[303:27.52] Yeah.
[303:29.52] Okay.
[303:43.52] Yeah, I need to go soon.
[303:46.52] So I think that was an important piece of documentation to get done, at least.
[303:50.52] Okay, let's see.
[303:52.52] Let deriveAccount, account.deriveXKey.
[304:02.52] Whoops. Let's do account index.
[304:05.52] Let use=-hd.receiveUse.
[304:16.52] And that would be X key.
[304:19.52] And then let key=XKey.deriveKey.
[304:29.52] AddressIndex=0. AddressIndex.
[304:37.52] Okay.
[304:40.52] And then width will be...
[304:57.52] Oh, and all of these need to have a weight in front of them, don't they?
[305:00.52] Darn me. Darn me. Darn me.
[305:05.52] I have to go update every flippin' example.
[305:08.52] They all need a weights.
[305:11.52] A weight all the things all the time. Never not a weight.
[305:15.52] Actually, that's not a bad mantra, because you can a weight things that don't need a weighting.
[305:21.52] But you can't skip out on a weighting things that do need a weighting.
[305:50.52] Okay.
[306:18.52] And we can just elide those away, because they're not important.
[306:47.52] It's the same things we always get.
[306:56.52] Let's see.
[307:07.52] From a wallet. From an XPUB. Similar for XPRIV.
[307:34.52] So we're going to actually flippy-doodle this one around.
[307:40.52] I actually don't like the way that this is going.
[307:43.52] We're going to change this.
[307:47.52] I'm going to just have this be...
[307:56.52] We're going to change this around a little bit.
[307:59.52] So I'm going to move this to a different section, because this is good.
[308:02.52] But this needs to be for the key type.
[308:07.52] I'm just going to have to whip this and go, unfortunately.
[308:15.52] Key types. And this is going to be key.
[308:33.52] And then...
[308:38.52] Let's see.
[308:44.52] I'm going to have to whip.
[308:51.52] What? The letter L?
[308:54.52] Oh, I just changed that.
[308:55.52] And this was going to be something like xkey.deriveKey.
[309:03.52] All right.
[309:04.52] Let address index equal zero.
[309:08.52] Address index whiff, and this is going to be something like...
[309:14.52] Where's our canonical whiff here?
[309:26.52] And the only thing that we have here would be version.
[309:33.52] This is not versions, but version.
[309:37.52] And this, I think, has to be CC or 8C or something to do...
[309:51.52] Oh, whoops.
[309:52.52] No, this would be key.
[309:55.52] Sorry.
[309:57.52] And then this would be dash HD.
[310:06.52] Whoops.
[310:07.52] Let whiff equals dash HD dot two whiff key dot private key.
[310:16.52] That's what that would look like.
[310:19.52] Okay.
[310:22.52] And so then we've only got a few left of those.
[310:26.52] And then we've got to do the key types, but the key types are pretty small.
[310:29.52] So I'm just going to whip this.
[310:50.52] And then also let me...
[310:56.52] Okay.
[311:09.52] All right.
[311:11.52] So I would raid, except that, again, we're still not old enough to raid.
[311:16.52] We're less than a month old, so we can't raid.
[311:20.52] But I hope that you enjoy your evening.
[311:24.52] I got to go.
[311:25.52] I'll catch you later.
[311:26.52] Happy Valentines.
[311:28.52] And remember the important video of the day.
[311:34.52] Let's see here.
[311:41.52] If I can go find this here.
[311:44.52] There we go.
[311:47.52] Just one moment.
[311:58.52] Have yourself a merry little bromance.
[312:19.52] Oh, did I stop the music a while ago? I guess I did.
[312:36.52] I'll leave you on that note. Adios.