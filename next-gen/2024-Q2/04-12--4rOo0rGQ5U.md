---
showLink: "https://www.youtube.com/watch?v=-4rOo0rGQ5U"
channel: "Dash Incubator"
channelURL: "https://www.youtube.com/@dashincubator"
title: "Code Hangout: Next-Gen DASH Tools #22: Dash HD for Testnet, RegTest, Devnet etc"
publishDate: "2024-04-12"
coverImage: "https://i.ytimg.com/vi/-4rOo0rGQ5U/maxresdefault.jpg"
---

## Episode Description

A developer works on improving Dash wallet functionality, focusing on implementing testnet support and resolving version compatibility issues in Dash HD and related libraries.

## Episode Summary

In this coding session, the developer focuses on enhancing Dash wallet functionality, particularly implementing testnet support and resolving version compatibility issues in the Dash HD library. They work through complex type definitions and refactor code to handle different network versions (mainnet, testnet) and key types (XPUB, XPRIV, etc.). The developer encounters and resolves various typing issues, improves error handling, and discusses the importance of maintaining compatibility while adding new features. Throughout the session, they demonstrate problem-solving skills and attention to detail in addressing potential edge cases and maintaining code quality.

## Chapters

00:00 - Introduction and Initial Code Review

The developer begins by reviewing existing code and discussing the need for improvements in Dash wallet functionality, particularly for testnet support.

08:23 - Refactoring Message Handling

Work begins on refactoring the message handling system to improve resilience and efficiency in network communications.

37:02 - Implementing DSA (Dark Send Anon) Packer

The developer starts implementing the DSA packer, discussing the intricacies of denomination masks and network protocol details.

69:14 - Debugging and Fixing Type Issues

A significant portion of time is spent debugging and fixing various type issues, particularly in handling different versions and network types.

129:00 - Implementing Testnet Support

The developer focuses on implementing testnet support, including modifying existing functions to handle different network versions.

176:45 - Refactoring Version Handling

Work is done to refactor how versions are handled, improving type safety and flexibility for different network types.

209:55 - Final Adjustments and Documentation

The developer makes final adjustments to the code, discusses the need for updating documentation, and summarizes the improvements made during the session.

238:13 - Wrap-up and Future Plans

The session concludes with a summary of the changes made, discussion of potential updates needed for other libraries, and plans for future development work.

## Transcript

[00:00] I'm missing something.
[00:06] Where did my browser windows go?
[00:10] Um, and why is this going so slow?
[00:13] Hold on here.
[00:14] Get rid of this one.
[00:16] Get rid of that.
[00:18] Do the thing.
[00:20] Okay.
[00:21] And so, let's see, I still want to listen to something, so I think I might listen to
[00:40] something.
[00:41] Okay.
[00:42] Great.
[00:43] Let me find out where my browser window went that had all of my dash stuff in it.
[00:57] Should have been right here.
[00:58] Sometimes the browser windows relocate themselves because reasons, and sometimes that happens.
[01:04] That's really weird.
[01:05] Okay.
[01:06] I'm not touching the computer.
[01:10] What is going on?
[01:11] Ah, it might be time for a reboot.
[01:14] You know Max these days.
[01:17] The future ain't what it used to be, let me tell ya.
[01:26] The future just ain't what it used to be.
[01:45] Okay, um, where did my dash window go?
[01:59] I've got to find it.
[02:05] Is this it?
[02:06] Oh, I might have moved it myself because I was doing stuff off screen and I was taking
[02:11] up real estate in a different way.
[02:14] Alrighty.
[02:15] So, let me give a recap here on especially the good news.
[02:27] Oh, whoops.
[02:36] Where is my window?
[02:38] There it is.
[02:39] Alright.
[02:41] So, I've got master messages going back and forth.
[02:44] The P2P messages, P2P control messages.
[02:50] And I'm pretty sure that all messages have the same header.
[02:57] And I think I, you know, just, just while I was sitting here thinking on it, or maybe
[03:02] it was early, I don't know, the idea came to me of how to handle the messages in a way
[03:07] that feels both the JavaScripty and, try to keep it simple.
[03:18] So, if we send one, if we send one message, we may get multiple in return.
[03:25] Depending on the setup, it's also possible that we get messages that we did not know
[03:29] we were asking for.
[03:32] So what I want to do is basically abstract lightly, ever so lightly, just the, the message
[03:43] so that we are looking not at network packets.
[03:48] We don't want to be working at the network layer.
[03:50] We want to be working at the message layer.
[03:53] And so that's what I'm going to start working with.
[03:57] And then the packet parsers, we do need to review them because there are some nuanced
[04:02] details that, that need a bit of a, of a careful eye to them.
[04:11] But I think for what we're doing, it's going to end up being pretty simple.
[04:15] I think it's going to end up being just mostly the, the, the header message.
[04:24] And I don't think there's going to be, well, we'll see, we'll see.
[04:26] I don't know what all the messages are, but I, I've got to, I know how they're, they're
[04:33] produced and some stuff about them.
[04:34] So we'll just go ahead and go, there we are.
[04:41] And then I'm going to be listening to, uh, probably some murder mystery or something
[04:47] in here.
[04:48] Oh, and I, there's one other thing that I need to do real quick.
[04:51] Hold on.
[04:52] I forgot about, let's see, do, do, do, do, do.
[05:14] Just one second, we'll get to it.
[05:38] Hold on, hold on, hold on, hold on, hold on, hold on, hold on, hold on, hold on, hold
[06:06] on, hold on, hold on, hold on, hold on, hold on, hold on, hold on, hold on, hold on, hold on, hold on.
[06:16] Just sorry.
[06:17] One more minute here.
[06:18] Uh.
[06:19] I'm going to be listening to, uh, some of the messages that are coming in.
[06:47] Sorry, one, 30 more seconds.
[07:13] Why is this giving me?
[07:43] Why is this giving me grief?
[07:49] Oh, it's.
[07:58] I need to update a meetup title.
[08:08] And it's not letting me update the title.
[08:13] Okay, um, cause there's a meetup tonight that I--okay, it looks like it, okay, it was giving
[08:22] me a false error.
[08:23] It actually updated the title.
[08:27] Okay, sorry, sorry for that, uh, wasted, uh, three minutes there.
[08:43] But now, okay, we're off to the races.
[09:03] Okay.
[09:29] So, uh, yeah.
[09:30] I've got all the messages.
[09:31] I've got, I've got the, the bit of how to do the messages and I'm going to make this
[09:38] a little bit better.
[09:39] I'm also maybe, uh, why is my computer acting so strangely?
[09:47] It's freaking out.
[09:49] Um, come on, come on, computer.
[09:56] Work naturally.
[09:58] Don't give me shenanigans.
[10:00] I, yeah, my computer is going bonkers right now.
[10:03] I don't know what is going on, but it is like windows are flipping back and forth between
[10:08] screens.
[10:09] Um, yeah, something, something strange is going on.
[10:21] Okay.
[10:47] All right.
[10:48] I'm good.
[10:49] I'm good.
[10:50] I'm good.
[10:51] I can actually get started.
[10:52] Uh, I am listening to something, but yeah, feel free to ask questions and then I'll turn
[11:00] that off and be more lively.
[11:05] The first part I'm going to do is just a little bit of a refactor on this.
[11:10] So I have a read header function and I'm going to make it read a message instead so that
[11:15] it reads the whole payload and then I'm going to put those messages into a queue so that
[11:22] I can review them at my leisure.
[11:24] Because like I said, the messages are not all, it's not a request response style.
[11:30] I can be getting a message while I'm sending another message or, uh, yeah, there's, there's,
[11:38] there's a little bit of a synchrony to the messages and so I just want to have a read
[11:41] messages in a loop kind of go funk style.
[11:47] And then, yeah, actually this, this would be perfect.
[11:49] This would be a perfect channel if we were doing go is we would, we would select on a
[11:53] channel on this and JavaScript.
[11:55] It's a little bit different, but that's essentially what we're going to be doing.
[11:59] So we're going to have read message, whoops, and then we're going to read the payload without
[12:10] decoding the payload yet.
[12:13] Look for the message.
[12:14] That's the payload that we want and, and continue on.
[12:20] Okay.
[12:23] Oh, okay.
[12:27] Good.
[12:28] Is soundboards working?
[12:29] Okay.
[12:30] Good.
[12:31] Soundboard's working.
[12:52] (gentle music)
[12:55] (gentle music)
[12:58] (gentle music)
[13:00] (gentle music)
[13:03] (gentle music)
[13:22] (gentle music)
[13:25] - Okay, this is gonna be a weird
[13:39] and I don't want it to be difficult to read or understand.
[13:41] So I may update it later,
[13:43] but for right now, this is what I'm gonna do.
[13:47] (gentle music)
[13:49] (gentle music)
[13:52] This is not the weird part yet.
[14:02] (gentle music)
[14:05] (gentle music)
[14:07] (gentle music)
[14:11] (gentle music)
[14:13] (gentle music)
[14:16] (gentle music)
[14:19] (gentle music)
[14:22] (gentle music)
[14:26] (gentle music)
[14:30] (gentle music)
[14:45] (gentle music)
[14:47] (gentle music)
[15:03] (gentle music)
[15:08] (gentle music)
[15:14] (gentle music)
[15:17] I'm not actually listening to a podcast.
[15:42] I'm, that's just the message I put up,
[15:46] but I'm listening to fish keeping answers.
[15:49] There's a number of YouTube videos I've got in my,
[15:55] my reserve or not reserve,
[16:00] but my watch/listen list.
[16:03] And so I'm listening to something about fish.
[16:05] (gentle music)
[16:09] (gentle music)
[16:12] Do you like my GoFunk here?
[16:20] (gentle music)
[16:23] This is my, here's my channels.
[16:27] (gentle music)
[16:29] (gentle music)
[16:32] If I squint real hard,
[17:00] yeah, see, I got my channel buffer.
[17:04] I've got my GoFunk.
[17:06] I call my GoFunk,
[17:08] and then I'm going to put things in the channel.
[17:10] (gentle music)
[17:12] The JavaScript fades into the background.
[17:23] (laughs)
[17:24] Yeah.
[17:25] (gentle music)
[17:28] (gentle music)
[17:30] How have you been, by the way?
[17:49] (gentle music)
[17:52] (gentle music)
[17:55] Okay.
[18:07] (gentle music)
[18:09] (gentle music)
[18:12] Hmm.
[18:26] (gentle music)
[18:29] (gentle music)
[18:32] Sorry.
[18:50] (gentle music)
[18:53] There's my read message.
[18:54] I'm going to bring that back up.
[18:55] (gentle music)
[18:58] (gentle music)
[19:00] Okay, where'd my header go?
[19:07] Header is here.
[19:09] (gentle music)
[19:11] So actually the other mess,
[19:15] the other one might already be better.
[19:17] (gentle music)
[19:20] Let's see.
[19:21] (gentle music)
[19:23] (gentle music)
[19:26] Okay, that's the connect.
[19:32] (gentle music)
[19:35] (gentle music)
[19:37] (gentle music)
[19:40] the other one.
[19:41] (gentle music)
[19:43] (gentle music)
[19:46] (coughs)
[20:11] (gentle music)
[20:14] (gentle music)
[20:16] (gentle music)
[20:19] (gentle music)
[20:22] (gentle music)
[20:25] (gentle music)
[20:31] (gentle music)
[20:38] (gentle music)
[20:41] Okay.
[20:56] (gentle music)
[21:00] So the reason I'm using data here,
[21:05] 'cause I was using readable,
[21:06] 'cause I went on that rant about how,
[21:08] hey, don't ever use data.
[21:10] You should always use readable.
[21:11] The reason that I'm using data here
[21:13] is simply because that the exact reason
[21:18] I mentioned the other day.
[21:19] If you have,
[21:20] if you want to be able to have multiple listeners,
[21:24] unfortunately readable will not give you multiple,
[21:34] you cannot have multiple listeners with readable
[21:37] because once the data is consumed, it is consumed.
[21:40] Dash coin.
[21:46] So CoinJoin for Dash.
[21:48] Dash is a cryptocurrency.
[21:51] And I am a firm believer
[21:56] that almost all cryptocurrencies are absolute scam garbage.
[21:59] So just so we're on the same page there.
[22:03] I don't think cryptocurrencies are cool.
[22:04] I don't think they're going to save the world.
[22:07] I think that they're that very, very few of them,
[22:11] almost none of them.
[22:13] And certainly none of the ones that you've ever heard of.
[22:15] Good, you'll stay then.
[22:18] Certainly none of the ones that you've ever heard of
[22:21] actually are trying to solve a money exchange problem.
[22:25] And Dash is one of those.
[22:26] And you've probably never heard of it
[22:28] because it doesn't have big investor money
[22:31] and yada, yada, yada.
[22:33] It's not a marketing scam.
[22:35] They're not selling tulips to people.
[22:38] It is the people who are thinking around technology,
[22:42] trying to solve difficult problems
[22:47] and starting with a fork of other cryptocurrency technology
[22:53] and trying to improve it to the point
[22:55] that it actually accomplishes some of the original goals
[22:58] before it all became a hype train of investor scamminess.
[23:01] So anyway, yeah.
[23:05] And I'm also listening to something right now.
[23:08] I actually just paused it.
[23:09] But if you ask questions or engage,
[23:11] I'll pause when I'm listening to.
[23:12] But yeah, right now all I'm doing
[23:15] is moving some functions around
[23:17] so that I can get a better flow for this
[23:24] because it's its own network protocol
[23:28] that is not, it's based on TCP,
[23:33] but it's not dependent on TCP.
[23:36] But it's not based on HTTP.
[23:38] So all of the layering of how to make decisions
[23:41] of types and da, da, da, da, da, da, da, da.
[23:45] Unfortunately, all that goes out the window
[23:48] and starts over from scratch.
[23:52] So.
[23:53] Yeah, I think basically anyone over 13
[24:07] is a little too old for crypto hype at this point.
[24:09] Yeah, it's cryptocurrency hype.
[24:13] I think we need more crypto as in cryptography hype,
[24:17] but yeah, a lot less cryptocurrency hype.
[24:19] But then again, then I wouldn't have this job
[24:22] and so, yeah.
[24:25] Take the good with the bad, I guess.
[24:27] UDP is an alternative to TCP.
[24:30] UDP is a, it's the datagram protocol.
[24:33] Basically it's stateless.
[24:35] So you just send messages and you hope that they get there.
[24:38] And it's really useful for things like video streams
[24:41] where if you skip a couple of frames,
[24:44] you don't actually want to resend
[24:46] to get the previous frames.
[24:48] So UDP is used in most video conferencing formats,
[24:53] most video conferencing software.
[24:56] You do not want to waste any of your bandwidth
[25:02] retransmitting or receiving old data.
[25:06] So TCP is a guaranteed delivery mechanism.
[25:09] It has stuff at the protocol layer.
[25:11] Oh, okay, okay.
[25:12] You put the question with UDP and so that's why.
[25:16] Okay.
[25:18] Yeah.
[25:19] So anyway.
[25:25] Yeah, I'm trying to very lightly abstract this
[25:33] just so that we can look at it from a perspective
[25:35] of complete messages rather than packets.
[25:39] That's my goal right now with the changes I'm making.
[25:46] Now that I understand the packet structure
[25:48] and I've got one packet working
[25:49] and I need to start working on other packets,
[25:51] it's like I'm starting to copy and paste this code around
[25:55] and it's quite a bit of code and it's easy to,
[25:57] I already had a bug because I failed to
[26:00] change the length here.
[26:04] So I should probably have some sort of constant.
[26:08] Header size equals 24.
[26:13] That way that magic number of 24 isn't hanging around
[26:16] for some other developer to wonder
[26:19] what the heck does 24 mean?
[26:21] It means header size.
[26:24] 'Cause the header size is a static size
[26:27] and the payload size is a variable size.
[26:30] So, which is good.
[26:31] That's the way it should be, ideally.
[26:34] (soft music)
[26:36] Also a goal that I have here is that right now,
[26:51] well, if you know the history of some of the transition
[26:58] between TLS 1.1, 1.2, 1.3,
[27:02] one of the things with 1.3 was to make explicit
[27:07] a shortcut that you could make with 1.2.
[27:12] You could send the hello signal
[27:14] and the acknowledgement signal at the same time.
[27:18] This actually has the same problem as TLS 1.2.
[27:21] It requires you to
[27:24] to receive an acknowledgement before you can start speaking
[27:32] but the reality is the acknowledgement
[27:35] is probably gonna happen.
[27:36] So, what I want to make sure is that the way
[27:39] that I'm coding this in the future
[27:42] or right now, if something sends the acknowledgement
[27:48] before I've sent my request,
[27:53] it should just parse it and receive it
[27:57] and be able to handle it.
[27:59] So, the protocol has to be satisfied.
[28:01] We both have to send a hello
[28:03] and we both have to send an acknowledgement
[28:07] but it's perfectly reasonable for me to send my hello
[28:12] and my acknowledgement at the same time,
[28:15] assuming that the other person's hello is coming
[28:19] and that their acknowledgement is coming.
[28:22] I should just be able to go ahead and get started,
[28:25] not send my message, wait for the response,
[28:28] send my acknowledgement, wait for the response
[28:31] and they kind of mimic TCP on top of whatever protocol
[28:34] because I think that originally this was thought
[28:39] that it would run on Onion
[28:41] or it'd run on these secret peer-to-peer networks
[28:44] and it would be encapsulated
[28:45] and I don't think any of that's actually happening
[28:48] but the message structure has a lot
[28:51] of extra bogus information that you don't need
[28:53] if you just say you're using TCP
[28:55] and that your socket is sufficient.
[29:00] So, for example, it re-encodes the addresses again
[29:03] and some other stuff.
[29:05] So, there's a little bit of overhead
[29:07] that's not actually needed
[29:10] and if you know that you're relying on TCP,
[29:12] you can just kind of skip over some of that stuff.
[29:15] Man, I wish I was over 13 and under 20.
[29:20] Oh, to be a teenager again.
[29:23] You had no idea about TLS.
[29:29] Oh, you're breaking my C-brain.
[29:30] How am I breaking your C-brain?
[29:32] Okay.
[29:44] (gentle music)
[29:46] (computer beeping)
[30:14] Because you're doing threading
[30:17] with what you're about to do.
[30:20] Yeah, JavaScript, you just did the threading happens
[30:25] in the background, so yeah, don't gotta worry about it.
[30:28] Okay.
[30:30] So, anyway, I was talking about some of these to-dos
[30:36] are just related to when I have this fully working,
[30:39] all of the data events are gonna go away
[30:43] and then I'm gonna put it back to readable events
[30:45] 'cause readable events are more efficient in several ways,
[30:50] but they have the drawback of,
[30:54] you can't have multiple listeners on a readable event
[30:57] once the data is consumed from a readable event,
[30:59] it's consumed for all listeners
[31:01] and there might be a way to get around that,
[31:02] but I looked it up recently and I didn't find it.
[31:07] So, anyway, all right, this one is,
[31:12] is this my new read message or my old read message?
[31:14] Dang it, I should probably have just gotten rid
[31:16] of that thing.
[31:17] Okay, there was this, but then there was this.
[31:31] Is this the one?
[31:32] No, that's, okay, this is the right one, all right.
[31:36] So, we've got the cleanup there on readable header.
[31:42] Okay, we're debugging the header,
[31:44] we're moving the listener, setting the payload listener.
[31:48] So, the only thing I need to do here is not parse it.
[31:51] If I don't parse it and I just do header.payload equals
[31:56] a chunk, then that's good enough.
[32:02] Then I can do,
[32:09] blah, blah, blah, blah, blah, blah, blah, blah, blah, blah.
[32:14] Let's see.
[32:15] I'm gonna just resolve header at that point.
[32:25] And I don't need that.
[32:38] Bless my.
[32:39] And then I could do, I think I'm gonna do it this way.
[32:52] I think I'm gonna create a listeners map
[32:56] and then I can do listeners equals object.values,
[33:06] listeners map, then I don't have a guaranteed order.
[33:10] That's fine, I don't need one.
[33:12] But then I can make my own key as to,
[33:23] you know, what I've got going on there.
[33:26] And then, let's see if this will work.
[33:33] So I do that, so then I can await new promise.
[33:38] Yeah, one thing that we never got figured out
[33:42] in JavaScript, unfortunately,
[33:44] with many things that we did finally get figured out,
[33:47] was, okay, listener map version.
[33:55] Okay, listener map version equals function.
[34:00] And this actually should be parse version.
[34:13] We don't need to parse verac because there's no,
[34:18] there's nothing to do about it.
[34:23] (soft music)
[34:26] So we probably can go ahead and send both.
[34:35] I'm gonna try sending both the version
[34:37] and the version acknowledgement at the same time.
[34:40] I just wanna see, first I'll try doing it
[34:44] in the correct order once I've got
[34:45] this little bit of code updated,
[34:47] but then I'm gonna try just sending,
[34:49] I'm gonna try sending all three at the same time.
[34:51] I'm gonna try sending the version,
[34:53] the acknowledgement, and the request.
[34:57] Because I don't actually need to wait for,
[35:02] you know, I don't need to wait for any of that stuff
[35:04] in order to get the work to get done.
[35:07] (soft music)
[35:36] It would be really interesting to test
[35:38] and see how robust their software implementation is,
[35:41] which I will do at some point, but I won't do right now.
[35:44] But to send it all together,
[35:48] because not to send it as here's a message,
[35:51] here's a message, here's a message,
[35:53] 'cause all of these are gonna fit into,
[35:56] we could fit all three messages into a single TCP packet.
[35:59] And I think it would be really interesting
[36:02] to see if their software is robust
[36:05] in the sense of parsing out the packets
[36:08] and handling them appropriately.
[36:09] 'Cause if it does it correctly,
[36:11] then what it will do is it will parse out the data,
[36:14] it will read the data that it needs,
[36:16] it'll read the header, it'll read the data that it needs,
[36:18] it will call the function that handles the version thing,
[36:23] which will then send out the version.
[36:28] So as far as it's concerned,
[36:30] it received a version and sent a version,
[36:32] then the reader will resume,
[36:36] and as the reader resumes from the bytes
[36:39] that it already received, it'll have the acknowledgement,
[36:42] even though I haven't received the version yet.
[36:47] So it'll parse that and then it will send its acknowledgement
[36:50] and then it'll follow,
[36:55] and then it will continue from its reader,
[36:57] and then it will have my request,
[37:02] and then it will send the response.
[37:04] So we could drop the round-trip time down significantly
[37:08] in doing that, and so I'm interested to see how that works.
[37:12] I also want to make sure
[37:16] that I have in my little doodad here,
[37:19] let's make sure that we have console.log message.command.
[37:26] Message.command.
[37:28] 'Cause if it doesn't work, that's a bug,
[37:40] and it's a small enough ecosystem that that could be solved.
[37:43] But yeah, lying about acknowledgements,
[37:52] it is the right thing to do in networking.
[37:55] I don't understand the circumstances
[37:57] under which someone would wait for an acknowledgement,
[38:02] but that doesn't really seem to make sense.
[38:06] I mean, it's good to know that it happened at some point,
[38:13] but yeah.
[38:15] We'll send it all at once, and it's gonna be awesome.
[38:23] Okay, and the previous iteration of the code
[38:27] was not as resilient to this,
[38:29] but this is one of those things with networking
[38:31] that you just don't want to have to deal with it later,
[38:35] and it's not that much trouble to deal with
[38:36] at the beginning, especially in this case
[38:38] where we don't actually have to sit in a receive loop,
[38:42] because one thing I'm not,
[38:44] here's the case that I'm not handling.
[38:48] I'm not handling the slow loris attack,
[38:51] where you send one byte at a time,
[38:54] and wait the time out, send a byte,
[38:56] wait the time out, send a byte, wait the byte, send a,
[38:58] I'm not handling that.
[39:00] So your message must be at least 24 bytes long,
[39:04] and your message must include a payload size.
[39:07] And then I should, I do need to actually,
[39:11] let's see, where is it gonna be?
[39:20] Okay, payload size.
[39:23] And there's probably some other stuff we need to do
[39:26] to protect against maliciousness, but okay.
[39:30] So right here, before we call this one, right around here,
[39:35] so if header.payloadSize is greater than,
[39:40] I forget what the size is.
[39:45] (soft music)
[39:48] So payloadSizeMax.
[40:01] And the payloadSizeMax in our case,
[40:08] we probably cap it around a megabyte or so.
[40:10] The actual max is pretty darn big,
[40:15] but we don't need the actual max.
[40:17] (soft music)
[40:21] We could, let's say four megabytes just to be generous.
[40:34] Whoops, that was three, let's go four.
[40:39] But yeah, message sizes should be relatively small.
[40:45] (soft music)
[40:47] (soft music)
[40:49] (soft music)
[40:52] (soft music)
[40:54] (soft music)
[40:57] (soft music)
[40:59] (soft music)
[41:02] (soft music)
[41:04] (soft music)
[41:07] (soft music)
[41:09] (soft music)
[41:11] (soft music)
[41:16] (soft music)
[41:22] (soft music)
[41:29] (soft music)
[41:35] (soft music)
[41:38] Actually, wait, this will handle the,
[41:55] okay.
[42:04] (soft music)
[42:07] (soft music)
[42:10] (soft music)
[42:12] (soft music)
[42:15] (soft music)
[42:18] (soft music)
[42:20] (soft music)
[42:23] (soft music)
[42:25] (soft music)
[42:27] (soft music)
[42:30] (soft music)
[42:32] (soft music)
[42:35] (soft music)
[42:55] (soft music)
[42:57] (soft music)
[42:59] (soft music)
[43:02] (soft music)
[43:04] (soft music)
[43:08] (soft music)
[43:14] (soft music)
[43:20] (soft music)
[43:30] (soft music)
[43:32] (soft music)
[43:37] (soft music)
[43:44] (soft music)
[43:50] (soft music)
[43:59] (soft music)
[44:02] (soft music)
[44:05] (soft music)
[44:08] (soft music)
[44:11] I may actually want to do this promise in a different way.
[44:17] (soft music)
[44:21] I'll have to think on that.
[44:28] Not a big difference,
[44:30] just I may want to get the promise object first
[44:34] and then be able to call the resolve and reject
[44:37] rather than have them encapsulated in.
[44:40] (soft music)
[44:44] (soft music)
[44:46] (soft music)
[44:51] (soft music)
[44:59] (soft music)
[45:05] (soft music)
[45:12] (soft music)
[45:15] (soft music)
[45:30] Okay.
[45:38] (soft music)
[45:42] (soft music)
[45:44] Oh, oops, not async, oh wait.
[45:54] (soft music)
[45:57] (soft music)
[46:07] (soft music)
[46:09] Okay.
[46:30] (soft music)
[46:33] (soft music)
[46:36] Hmm.
[46:57] (soft music)
[47:01] (soft music)
[47:03] Okay, I think this...
[47:28] (soft music)
[47:30] (soft music)
[47:33] (soft music)
[47:35] (soft music)
[47:38] (soft music)
[47:41] (soft music)
[47:51] (soft music)
[47:53] (soft music)
[48:03] (soft music)
[48:09] (soft music)
[48:12] All right, so...
[48:35] (soft music)
[48:39] (soft music)
[48:41] And before the version parser wasn't implemented
[48:45] and that kind of makes sense
[48:46] because it's not necessary for our use case.
[48:50] We can ignore the version message.
[48:51] However, having a version parser
[48:56] puts us in a good position for tests and debugging
[48:59] because without a version parser,
[49:02] we can't parse our version message
[49:05] to make sure that it looks the way
[49:07] that we expected it to look.
[49:09] So I did implement the version parser
[49:13] and then I've tested it here to make sure that...
[49:17] It's working as I would expect.
[49:23] Okay, so this is where...
[49:30] (soft music)
[49:34] (soft music)
[49:37] I'm expecting...
[49:43] I'll put this down below for now
[49:45] 'cause we need to test it first.
[49:47] But I'm expecting that we're gonna be able
[49:49] to write the version, the acknowledgement,
[49:53] and the query all in one go.
[50:01] And as long as they haven't done anything...
[50:06] super shortcutty on their side,
[50:10] which in C it's kind of hard to write network socket code
[50:14] in a shortcut way.
[50:16] So I'm suspecting that it's probably...
[50:21] gonna work out.
[50:29] Okay, so...
[50:31] (soft music)
[50:33] So let's just do this first.
[50:42] So we send our version message,
[50:45] we wait for their version message.
[50:48] We see send our version acknowledgement,
[50:52] and then they will send their version acknowledgement.
[50:58] That's the idea of how this is gonna work.
[51:01] So this will resolve,
[51:03] and then this will resolve,
[51:06] and I do need some way to clean up messages
[51:08] that have been read, that have been handled.
[51:12] But this should allow us to...
[51:17] ignore the messages that we don't want,
[51:22] and just listen for the messages that we do want.
[51:27] And in particular, if I do it this way...
[51:30] Yeah.
[51:35] And we just do a little bit of cleanup here.
[51:39] And do the cleanup here as well.
[51:55] Oh, and I guess I could simplify that to just be...
[51:59] Nah.
[52:01] We'll get there, we'll figure it out.
[52:06] (soft music)
[52:08] (soft music)
[52:10] (soft music)
[52:12] (soft music)
[52:14] (soft music)
[52:17] (soft music)
[52:20] (soft music)
[52:23] (soft music)
[52:26] (soft music)
[52:29] (soft music)
[52:32] (soft music)
[52:35] (soft music)
[52:38] (soft music)
[52:41] (soft music)
[52:43] (soft music)
[52:46] (soft music)
[52:49] (soft music)
[52:52] (soft music)
[52:55] (soft music)
[52:58] Right.
[53:01] So that, we don't need to do that anymore.
[53:04] We can get rid of that now.
[53:06] (soft music)
[53:10] (soft music)
[53:12] (soft music)
[53:15] (soft music)
[53:18] (soft music)
[53:21] (soft music)
[53:24] (soft music)
[53:27] (soft music)
[53:30] (soft music)
[53:33] (soft music)
[53:36] (soft music)
[53:39] (soft music)
[53:41] (soft music)
[53:44] (soft music)
[53:47] (soft music)
[53:50] (soft music)
[53:53] (soft music)
[53:56] (soft music)
[53:59] (soft music)
[54:02] (soft music)
[54:05] (soft music)
[54:08] (soft music)
[54:10] (soft music)
[54:13] (soft music)
[54:16] (soft music)
[54:19] (soft music)
[54:22] (soft music)
[54:25] (soft music)
[54:28] (soft music)
[54:31] (soft music)
[54:34] (soft music)
[54:37] (soft music)
[54:39] (soft music)
[54:42] (soft music)
[54:45] (soft music)
[54:48] (soft music)
[54:51] (soft music)
[54:54] (soft music)
[54:57] And I think I can test this now.
[55:00] (soft music)
[55:03] (soft music)
[55:06] (soft music)
[55:08] (soft music)
[55:11] (soft music)
[55:14] There's our payload.
[55:17] (soft music)
[55:20] (soft music)
[55:22] There's their header back.
[55:25] And why did we fail on this?
[55:28] (soft music)
[55:31] (soft music)
[55:35] (soft music)
[55:37] (soft music)
[55:40] (soft music)
[55:43] (soft music)
[55:46] (soft music)
[55:49] (soft music)
[55:52] (soft music)
[55:55] (soft music)
[55:58] (soft music)
[56:01] (soft music)
[56:04] (soft music)
[56:06] (soft music)
[56:09] (soft music)
[56:12] (soft music)
[56:15] (soft music)
[56:18] (soft music)
[56:21] Okay.
[56:24] (soft music)
[56:27] Hmm.
[56:30] (soft music)
[56:33] Message.
[56:35] (soft music)
[56:38] (soft music)
[56:41] (soft music)
[56:44] (soft music)
[56:47] (soft music)
[56:50] (soft music)
[56:53] (soft music)
[56:56] (soft music)
[56:59] I don't understand.
[57:02] (soft music)
[57:04] (soft music)
[57:07] (soft music)
[57:10] (soft music)
[57:13] (soft music)
[57:16] Undefined.
[57:19] That doesn't seem likely.
[57:22] (soft music)
[57:25] (soft music)
[57:28] Okay.
[57:31] (soft music)
[57:33] (soft music)
[57:36] (soft music)
[57:39] (soft music)
[57:42] Okay. I'm a little confused.
[57:45] A little confused.
[57:48] Because...
[57:51] There's the resolve. It resolves the data.
[57:54] So let me go back up here.
[57:58] Read message should definitely have a message.
[58:00] (soft music)
[58:03] (soft music)
[58:06] And this is just something silly is going on.
[58:09] That's all that this is.
[58:12] So read message. There's the resolve to the promise.
[58:15] (soft music)
[58:18] Ah!
[58:21] Yes, yes, yes, yes, yes.
[58:24] Okay.
[58:27] Because we've got a double promise thing going on here.
[58:29] A promise to the promise.
[58:32] So this is where it might be better
[58:35] if I were to take this.
[58:38] So I could take this and I could do...
[58:41] I think this would be simpler.
[58:44] I think I'm going to go with it.
[58:47] So we do this.
[58:50] (soft music)
[58:53] And we...
[58:56] (soft music)
[58:58] Get it?
[59:01] (soft music)
[59:04] (soft music)
[59:06] (soft music)
[59:09] (soft music)
[59:12] (soft music)
[59:15] (soft music)
[59:18] (soft music)
[59:21] (soft music)
[59:24] (soft music)
[59:27] Okay. So we do that.
[59:30] (soft music)
[59:33] (soft music)
[59:35] (soft music)
[59:38] (soft music)
[59:41] (soft music)
[59:44] (soft music)
[59:47] (soft music)
[59:50] (soft music)
[59:53] (soft music)
[59:56] (soft music)
[60:00] (soft music)
[60:02] (soft music)
[60:05] (soft music)
[60:08] (soft music)
[60:11] (soft music)
[60:14] (soft music)
[60:17] (soft music)
[60:20] (soft music)
[60:23] (soft music)
[60:26] (soft music)
[60:29] (soft music)
[60:31] (soft music)
[60:34] (soft music)
[60:37] (soft music)
[60:40] (soft music)
[60:43] (soft music)
[60:46] (soft music)
[60:49] (soft music)
[60:52] (soft music)
[60:55] (soft music)
[60:58] (soft music)
[61:00] (soft music)
[61:03] (soft music)
[61:06] (soft music)
[61:09] (soft music)
[61:12] (soft music)
[61:15] (soft music)
[61:18] (soft music)
[61:21] (soft music)
[61:24] (soft music)
[61:27] (soft music)
[61:29] (soft music)
[61:32] (soft music)
[61:35] (soft music)
[61:38] (soft music)
[61:41] (soft music)
[61:44] (soft music)
[61:47] (soft music)
[61:50] (soft music)
[61:53] (soft music)
[61:56] (soft music)
[61:58] (soft music)
[62:01] (soft music)
[62:04] (soft music)
[62:07] (soft music)
[62:10] (soft music)
[62:13] (soft music)
[62:16] (soft music)
[62:19] (soft music)
[62:22] (soft music)
[62:25] (soft music)
[62:27] (soft music)
[62:30] (soft music)
[62:33] (soft music)
[62:36] (soft music)
[62:39] (soft music)
[62:42] (soft music)
[62:45] (soft music)
[62:48] (soft music)
[62:51] (soft music)
[62:54] You can't make a TCP connection in the browser.
[62:56] I think using something like libp2p is just plain stupid because then you're passing a
[63:00] message around the whole internet and doing, you know, you're just doing a bunch of gymnastics
[63:05] for something that's very simple and easy to do, right?
[63:08] And there's already signatures in these messages.
[63:12] So if you just, you know, first of all, you pass to a server that you trust, just like
[63:17] with Insight, right?
[63:18] So we stand up a server.
[63:20] It's a server that we trust.
[63:22] You can, anybody can run the server.
[63:23] They can run their own server.
[63:24] They can run alongside a full node.
[63:26] Every master node should run this program.
[63:28] That's the bottom line.
[63:30] Every single master node should be running the suite of tools that are necessary for
[63:35] the web platform.
[63:38] So anyway, so, you know, pick your master node, connect to it.
[63:41] That's the ideal.
[63:42] That's what it should be when we get there.
[63:45] In the interim, doesn't matter, set up a server anywhere.
[63:48] It just connects to the master node and then transmits the packets back and forth and relays
[63:53] them.
[63:55] And you, you have the ability to verify the signatures even in the browser.
[64:02] So if, if somehow, which in this case it doesn't even matter because it's CoinJoin, but if
[64:07] somehow the, you know, the server that you trusted were to become malicious, it doesn't
[64:11] matter because you still can verify the signatures if you need to.
[64:17] But yes, this, this will run in the browser.
[64:20] Not all, some of the components must exist elsewhere, but the, the, all of the message,
[64:30] all of the, the, the, the messages and everything can be constructed in the browser, passed
[64:35] via HTTP to a proxy server, and then passed to a master node.
[64:40] And if, if things are done right, then the master nodes will just expose this as part
[64:46] of their, you know, dash mate setup.
[64:48] That's, that's, that's where this needs to go, um, you know, ultimately.
[64:54] So, okay, why, what is going on?
[65:01] Parse Verak.
[65:04] Ah, yes, yes, yes, yes, yes.
[65:14] Okay.
[65:15] So what we're going to do is we're going to say that this is bytes.
[65:25] We're going to do buffer dot from bytes, let buffer equals, and this will be taken out.
[65:35] This is just for debugging purposes, because it's a little bit easier than the other tools,
[65:39] so that that'll be taken out.
[65:48] Let's run this again.
[65:52] See what we get.
[66:08] I may take that out of the loop or getting this a little bit further.
[66:13] Okay.
[66:14] Readable payload, read message, and payload is in there.
[66:18] Great.
[66:19] So this one, the payload's in there, commands there, but message dot command, invalid archetype,
[66:25] uh, receive instance of object.
[66:27] Okay.
[66:28] Okay.
[66:29] I think I understand what's going on.
[66:34] So this is going to be dev RPC 307.
[66:38] I think I'm passing in the wrong object.
[66:39] I think it should be passing in, whoops, let's try it again, 307, uh, should be passing in
[66:46] message dot payload was passing in message.
[66:52] Now I think this is going to get, um, where it's supposed to be, right?
[66:59] Chunk byte length.
[67:00] Okay.
[67:01] We need to go check that.
[67:02] I kind of know why that is.
[67:08] Okay.
[67:09] Yeah.
[67:10] I think I know exactly what that problem is.
[67:12] Nope.
[67:15] Chunks zero.
[67:18] So on payload, if not chunk, console dot warn.
[67:36] Okay.
[67:58] Okay.
[68:15] What happened?
[68:37] What did I do?
[68:40] What great sin have I committed?
[68:43] Okay.
[68:49] Unexpected token.
[68:50] Oh, there we go.
[68:51] Okay.
[68:52] So I'm going to go ahead and run this again.
[68:53] Okay.
[68:54] So I'm going to run this again.
[68:55] I'm going to run this again.
[68:56] I'm going to run this again.
[68:57] I'm going to run this again.
[68:58] I'm going to run this again.
[68:59] I'm going to run this again.
[69:00] I'm going to run this again.
[69:01] I'm going to run this again.
[69:02] I'm going to run this again.
[69:03] I'm going to run this again.
[69:04] I'm going to run this again.
[69:05] I'm going to run this again.
[69:06] I'm going to run this again.
[69:07] I'm going to run this again.
[69:08] I'm going to run this again.
[69:09] I'm going to run this again.
[69:10] I'm going to run this again.
[69:11] I'm going to run this again.
[69:14] I'm going to run this again.
[69:15] I'm going to run this again.
[69:16] I'm going to run this again.
[69:17] I'm going to run this again.
[69:18] I'm going to run this again.
[69:19] I'm going to run this again.
[69:20] I'm going to run this again.
[69:21] I'm going to run this again.
[69:22] I'm going to run this again.
[69:23] I'm going to run this again.
[69:24] I'm going to run this again.
[69:25] I'm going to run this again.
[69:26] I'm going to run this again.
[69:27] I'm going to run this again.
[69:28] I'm going to run this again.
[69:29] I'm going to run this again.
[69:30] I'm going to run this again.
[69:31] I'm going to run this again.
[69:32] I'm going to run this again.
[69:33] I'm going to run this again.
[69:34] I'm going to run this again.
[69:36] I'm going to run this again.
[69:37] I'm going to run this again.
[69:38] I'm going to run this again.
[69:39] I'm going to run this again.
[69:40] I'm going to run this again.
[69:41] I'm going to run this again.
[69:42] I'm going to run this again.
[69:43] I'm going to run this again.
[69:44] I'm going to run this again.
[69:45] I'm going to run this again.
[69:46] I'm going to run this again.
[69:47] I'm going to run this again.
[69:48] I'm going to run this again.
[69:49] I'm going to run this again.
[69:50] I'm going to run this again.
[69:51] I'm going to run this again.
[69:52] I'm going to run this again.
[69:53] I'm going to run this again.
[69:54] I'm going to run this again.
[69:55] I'm going to run this again.
[69:56] I'm going to run this again.
[69:57] I'm going to run this again.
[69:58] Yes, we actually have to do, definitely, we have to do yield delete.
[70:06] I'm going to run this again.
[70:12] I'm going to run this again.
[70:18] I'm going to run this again.
[70:24] I'm going to run this again.
[70:29] I'm going to run this again.
[70:34] I'm going to run this again.
[70:39] I'm going to run this again.
[70:44] I'm going to run this again.
[70:49] I'm going to run this again.
[70:54] I'm going to run this again.
[71:01] I'm going to run this again.
[71:04] I'm going to run this again.
[71:07] I'm going to run this again.
[71:10] I'm going to run this again.
[71:13] I'm going to run this again.
[71:16] I'm going to run this again.
[71:19] I'm going to run this again.
[71:22] I'm going to run this again.
[71:25] I'm going to run this again.
[71:28] I'm going to run this again.
[71:31] I'm going to run this again.
[71:34] I'm going to run this again.
[71:37] I'm going to run this again.
[71:40] I'm going to run this again.
[71:43] I'm going to run this again.
[71:46] I'm going to run this again.
[71:49] I'm going to run this again.
[71:52] I'm going to run this again.
[71:55] Okay.
[72:15] Adder messages.
[72:19] Send Adder V2.
[72:21] Adder V2 messages.
[72:24] Adder V2 messages.
[72:27] Adder V2 messages.
[72:30] Adder V2 messages.
[72:33] Adder V2 messages.
[72:36] Adder V2 messages.
[72:39] Adder V2 messages.
[72:42] Adder V2 messages.
[72:45] Adder V2 messages.
[72:48] This is conspiracy level garbage.
[72:51] Prevent anyone from trying to use the network to disrupt non-DASH services that run on other ports.
[72:57] No. No. No. No. No. No. No. No. No. No.
[73:01] No. No. No. No. No. No. No. No.
[73:03] That, like, the...
[73:05] It should just run on whatever port it says.
[73:09] And this is also false in that it's not a last resort.
[73:14] It doesn't work.
[73:16] Well, depending on which layer of the application.
[73:19] I've not worked in the part of the application that handles this message.
[73:23] But I know that other parts of the application do not.
[73:26] They purposefully and intentionally drop support.
[73:32] Because there might be good reasons.
[73:35] Quote.
[73:37] Because there might be good reasons.
[73:40] Because this was asked.
[73:42] I mean, and...
[73:45] Yeah, the person who was answering didn't know the answer.
[73:49] The person who might have known the answer wasn't present to answer.
[73:54] And so they just answered with, "There might be good reasons."
[73:57] I think that it's legacy stuff.
[73:59] I think that somewhere, sometime, somebody said something.
[74:03] And, you know, it's like a lot of technology.
[74:07] Once somebody introduces it, no one knows what it's there for.
[74:11] And then people, they don't intellectually investigate.
[74:17] And they just assume that the person who did it must have been smarter than them.
[74:21] And knew more than them.
[74:23] When in reality, they forgot to change it.
[74:26] They were investigating something and they never finished.
[74:31] Okay, anyway.
[74:33] Relays. Connection information for peers on the network.
[74:36] Just like the outer message of the sender. Allow gossiping of longer node addresses.
[74:43] Okay.
[74:45] So I actually, I still don't understand what this is good for.
[75:00] There is no payload.
[75:04] So why is the message sent so many times?
[75:16] Or maybe I'm just, because of the debug, the way that I've got the debugging,
[75:19] I may just be printing it out.
[75:21] Yeah, that's what it is.
[75:23] So it prints out the header.
[75:25] Okay. Send header V2. Okay.
[75:29] Okay.
[75:31] All right. So we're going to ignore that message.
[75:36] We will have a listener for that type of message.
[75:46] That just deletes it or something.
[75:49] I don't know.
[75:52] Okay.
[75:54] Okay.
[75:57] Okay.
[75:59] Okay.
[76:01] Okay.
[76:03] Okay.
[76:05] Okay.
[76:07] Okay.
[76:10] Okay.
[76:12] Okay.
[76:14] Okay.
[76:25] Okay.
[76:27] Okay.
[76:29] Okay.
[76:32] Okay.
[76:35] Okay.
[76:38] Okay.
[76:41] Okay.
[76:44] Okay.
[76:46] (gentle music)
[76:48] (gentle music continues)
[76:52] (gentle music continues)
[76:55] (gentle music continues)
[76:59] (gentle music continues)
[77:02] - Let's see.
[77:27] So, all right.
[77:31] So now we get into the fun stuff, I think.
[77:33] I think this is where we actually get into our DSA request.
[77:37] So I'm gonna go ahead and commit this.
[77:45] (gentle music)
[77:48] (gentle music continues)
[77:52] So we can read full messages now.
[78:17] And then we should create our packer.
[78:20] And then this whole thing we can put out
[78:26] into a network file later.
[78:28] So our parser should be separate.
[78:32] That's separate in the previous one.
[78:33] So hopefully the packer that I don't remember
[78:38] if it's under network util or CoinJoin
[78:40] or whatever it's under,
[78:41] but our DSA packer should be separate.
[78:47] Our DSA packer should be in here.
[78:48] So let's see, rep packet, source network.js.
[78:54] Okay, DSA.
[78:56] So this one should be where we take...
[78:59] Yeah, this is the DSA packer
[79:04] network denomination collateral.
[79:06] Okay.
[79:10] And this one, we're gonna change it up slightly.
[79:15] (gentle music)
[79:17] Because we're gonna use amount to denomination.
[79:22] I'm not really worried about that one.
[79:24] Where is the TX?
[79:26] Total size TX, TX collateral.
[79:30] Chosen network, okay.
[79:32] Collateral, where did collateral come from?
[79:35] Collateral, okay, collateral.
[79:39] This is the collateral transaction.
[79:43] Okay, so the collateral transactions work
[79:48] because it's gonna look up the amount.
[79:59] Why do we need denomination then?
[80:03] Let's take a look at this.
[80:05] Is standard denomination, amount to denomination,
[80:08] encoded denom, denomination for,
[80:12] I don't know what that means.
[80:14] Oh no, that's the size of the denomination.
[80:16] Oh, okay, this is their request.
[80:19] Okay, so I want to join in on,
[80:22] that gets me every time.
[80:26] So it's what denomination I am requesting.
[80:32] Okay, got it.
[80:33] And so this one, it looks like we're just gonna
[80:39] write that collateral offset.
[80:43] Let's see.
[80:43] Wait, why is there 000 here?
[80:52] That doesn't seem right.
[80:54] Encoded denom, amount to denominate.
[80:58] Okay, let's take a look at this.
[81:02] Oh no, is this where we get into the bit mask magic?
[81:10] (sniffs)
[81:12] Okay, it's this one.
[81:17] Amount to denominate.
[81:22] Oops.
[81:22] Okay.
[81:27] Input amount.
[81:31] (soft music)
[81:34] (soft music)
[81:36] Shift that many times.
[81:47] I am a little confused.
[81:56] (soft music)
[81:59] (soft music)
[82:01] Okay.
[82:12] So we're gonna shift one.
[82:19] Is it the bit mask?
[82:22] (soft music)
[82:24] (soft music)
[82:26] Okay, I think I see what's going on here, yeah.
[82:36] (soft music)
[82:38] Okay.
[82:46] (soft music)
[82:49] (soft music)
[82:51] Okay, so I'm not 100% sure on that one.
[82:57] I'm gonna try to look that up in the documentation.
[83:00] That one is called, that's DSA, right?
[83:03] DSA.
[83:03] Data messages, DSA.
[83:09] Go and join messages, DSA.
[83:11] Okay, so denom int.
[83:18] Why it's four.
[83:20] I wish it was used exclusively.
[83:24] So it's not clear to me what denom int is.
[83:37] My guess.
[83:41] (soft music)
[83:43] From what I'm seeing there with the one shifting by I,
[83:55] is that these are listed from greatest to least.
[84:05] That's kind of weird.
[84:09] So we're saying, I mean, just to be clear here,
[84:11] one, shift zero is one, shift one is two,
[84:14] shift two is four.
[84:16] So this is the same as doing exponents of two,
[84:18] doing the shift bit.
[84:21] But then if we were to do this to string,
[84:24] then you would see, oops, two, sorry.
[84:27] That's what the binary would look like.
[84:33] But that's kind of confusing to me.
[84:35] (soft music)
[84:38] So this is kind of just,
[84:45] this is dropping off the lower.
[84:53] I don't get this.
[84:57] Maybe I should read the documentation here.
[85:04] Zero if none was found, okay.
[85:06] And this is starting, let's make sure here.
[85:17] Ah, pre-increment.
[85:18] Ah, ah.
[85:21] So there's a one.
[85:24] What?
[85:27] I am so confused.
[85:32] So.
[85:33] Oh, somebody's just being clever.
[85:44] People that use plus plus,
[85:50] that should be at least like a misdemeanor.
[86:02] Oh my goodness.
[86:03] It is hot in the shed today.
[86:07] It went from being cold yesterday in the '60s
[86:11] to now being nearly 80.
[86:13] Utah.
[86:16] Actually, I think I'm gonna open up the door
[86:21] and then prop it open with some water jugs.
[86:24] Okay.
[86:28] (soft music)
[86:30] I mean, the good news is that there's the potential
[86:37] for a bunch of denominations.
[86:39] The bad news is that rather than just specifying
[86:43] the denomination, they're doing this bit shift madness.
[86:47] It should have just been, look,
[86:49] I mean, you're gonna dedicate four bytes to it.
[86:52] Okay, that's 32 bits.
[86:53] That means that you can pick any arbitrary number
[86:55] between zero and four billion.
[86:58] All right.
[86:59] Well, it should be uint, not int.
[87:01] I don't know what that negative is all about, but whatever.
[87:06] So you can pick anything you like,
[87:10] but then they wanna turn into a bit shift instead.
[87:12] And so, I mean, I guess if you were to say
[87:17] if that byte is 255,
[87:22] then you ignore that byte and use the other three bytes
[87:26] and that's more than enough.
[87:28] You don't need to worry about anything outside of that.
[87:31] There's just a lot of strange constraints
[87:40] that didn't need to be constraints.
[87:42] They're completely artificial constraints.
[87:47] And that's what bugs me.
[87:51] (soft music)
[87:54] It's totally fine to say, okay,
[88:03] here's a list of allowed numbers.
[88:04] But to use the same amount of storage
[88:09] that you need for any number.
[88:12] So you're saying, well,
[88:13] potentially we're gonna allow arbitrary numbers.
[88:16] Potentially, or not arbitrary,
[88:17] but potentially we're gonna have an arbitrary set
[88:20] of numbers to choose from.
[88:21] We'll just use the number.
[88:25] It's an abstraction over the number
[88:30] that's the same size as the number.
[88:33] Just use the number.
[88:35] And then you can compare it by the number.
[88:40] You don't have to go through a list and just...
[88:44] Whatever, okay.
[88:48] But so, yeah, I'm a little confused by this
[88:51] because it looks like it's starting at zero.
[88:54] I think the plus plus doesn't actually...
[88:57] Well, let's just try this out real quick.
[88:59] So in a for loop, let I equals zero,
[89:02] I less than 10 plus plus I console.log I.
[89:08] The question is, will this loop start at zero
[89:13] or will it start at one?
[89:16] (computer beeping)
[89:19] Oops.
[89:20] Okay, and it does start at zero.
[89:24] So, yeah, the person who put the plus plus
[89:29] in front of the I really, really does deserve
[89:31] just a little bit of jail time, just enough.
[89:33] Oh, zero if none was found.
[89:40] Okay, so we're not bit shifting zero.
[89:42] Got it, okay.
[89:43] So yeah, we're doing this weird reverse order thing.
[89:46] So we're saying we're gonna take the coin
[89:49] plus 1,000 plus 100 plus...
[89:51] This is just weird and this is just Rube Goldberg-ing it.
[89:56] But okay, moving on, moving on.
[90:00] I needed to understand what was going on here.
[90:02] Now I understand what's going on here.
[90:12] So is there a better way to get this number
[90:17] shift by the number of ones or something?
[90:22] Let me see if I can find a way to do this real quick.
[90:25] 'Cause I do...
[90:27] Stop being clever people, stop.
[90:31] So one, two, three, four, five, six, seven, eight.
[90:37] One, two, three, four plus one.
[90:41] Okay, so there's this.
[90:43] All right, so if I just do one, two, three, four.
[90:48] No.
[90:52] Is there any way for me to use that?
[91:00] (soft music)
[91:02] The math.log, this divided by math.log 10, right?
[91:21] Is that how we get it?
[91:24] No?
[91:25] Is it math 10 divided by that?
[91:26] Math.log 10?
[91:28] No, that shouldn't be it.
[91:29] So math.log.
[91:31] How do I say I wanna find what hour of 10 this is?
[91:36] Math.log.
[91:42] No, it's not math.log 10 divided by this number, right?
[91:45] No, that's not right.
[91:49] That's not right.
[91:50] Oh, whoops.
[91:52] Hold on.
[91:56] (soft music)
[91:59] Four, okay, that's it.
[92:06] So that tells us how many zeros there are.
[92:08] So if we do math.floor of this,
[92:18] then that will give us our basis, right?
[92:22] So because if we were to add one more
[92:27] and divide by one less, that gives us five.
[92:32] And if we were to do this, that gives us six,
[92:35] and then that gives us seven, and then that gives us eight,
[92:39] and then this gives us nine, and then this gives us 10.
[92:48] Okay.
[92:51] (soft music)
[92:53] So if I just take the number,
[93:18] but the bit shift.
[93:19] So that, okay, we're not doing that though.
[93:25] We're doing at most this, right?
[93:27] One, whoops, one, two.
[93:30] I put in one extra zero there somehow.
[93:33] Okay.
[93:34] So this is our max.
[93:37] So it should be nine minus?
[93:38] Eight minus?
[93:43] No.
[93:45] 10 minus?
[93:48] (soft music)
[93:50] So that would be one,
[93:57] and then this would be two, three, four, five, six.
[94:02] (soft music)
[94:05] (soft music)
[94:08] Nine.
[94:18] Oh, that's not working out the way that I thought.
[94:24] Okay, nevermind.
[94:26] I'm gonna abandon that.
[94:27] So we're just gonna have to have
[94:34] (soft music)
[94:36] Here we go.
[94:45] (soft music)
[95:01] And then it's just gonna have to be
[95:03] zero B,
[95:09] two, three, four, five, six, seven, eight.
[95:14] Is it really like this?
[95:26] (soft music)
[95:29] But I'm not bitter.
[95:33] (soft music)
[95:46] (soft music)
[95:49] (soft music)
[95:51] (soft music)
[95:57] (soft music)
[96:00] (soft music)
[96:02] (soft music)
[96:32] Wait,
[96:32] that's not right.
[96:34] And I see why.
[96:38] Because these are all off by one.
[96:42] Because these are all off by one.
[96:44] 'Cause these are all off by one.
[96:46] (humming)
[96:50] 'Cause they're all off by one.
[96:54] 'Cause they're all off by one.
[96:56] 'Cause they're all off by one.
[96:59] (humming)
[97:01] Yeah, this is very strange to me.
[97:05] I'm not, I gotta read that again.
[97:07] But this just doesn't make sense.
[97:09] Okay, one, two, three, four, five, six, seven.
[97:20] No, one, two, three, four, five, six, seven, eight.
[97:24] Okay, that's correct.
[97:25] That's wrong.
[97:29] Right?
[97:30] One, two, three, four.
[97:32] Okay.
[97:33] So one, two, three, four, five.
[97:40] Okay, so we started up at 10,
[97:46] and then we go, so 10 is one,
[97:49] and then one is two,
[97:53] and then point one is four,
[97:57] and point zero one is eight.
[98:00] No, point zero, zero, one.
[98:03] Hold on.
[98:04] Whatever.
[98:05] I think this is it.
[98:06] I'm confused by it, but this is where we're going.
[98:23] We could say, we could say,
[98:25] okay, here's a way that we could retrofit this.
[98:29] The first 255 can be weird denominations.
[98:42] Above that, the denomination must have at least,
[98:51] must be at least 1,000.
[98:56] So it's something like that.
[99:00] Okay.
[99:08] The denomination above that can't have anything down
[99:11] in the last three zeros or something like that.
[99:12] That's a way we could fix this.
[99:15] Then we could have arbitrary amounts,
[99:17] but you couldn't specify doing a coin join on a dust amount.
[99:22] Sitting here, my belt's digging into my tummy again.
[99:28] Okay.
[99:38] Okay, I think that's it.
[99:42] (soft ambient music)
[99:45] Standard denomination masks.
[99:52] Okay.
[99:52] Well, let's go back to,
[99:55] call it a dark sign, but I'm gonna call it Packer.
[100:00.30] (soft ambient music)
[100:04.42] (soft ambient music continues)
[100:32.50] Okay, so when we go to pack this,
[100:34.90] we're gonna take some of that code and bring it back over.
[100:42.42] Okay.
[100:48.26] So,
[101:00.90] darksign.dsa.
[101:03.10] Wow.
[101:06.70] Okay, so we're gonna have denomination.
[101:25.34] We're gonna have network.
[101:26.58] And then we're gonna have
[101:30.54] (soft ambient music)
[101:33.62] transaction.
[101:38.82] Okay, and then we're gonna have denomination masks.
[101:49.62] Is gonna work like this.
[101:55.22] (soft ambient music)
[101:58.58] (soft ambient music continues)
[102:02.42] (soft ambient music continues)
[102:31.34] And then if we do it this way.
[102:32.94] Yeah, okay.
[102:35.50] And we don't need this anywhere else,
[102:40.98] which we probably don't,
[102:42.06] then we might move this.
[102:45.46] A little copying is better than a little dependency.
[102:47.42] And a little moving is better than a little dependency.
[102:49.74] Okay.
[102:51.82] (soft ambient music)
[102:54.90] Okay.
[103:02.98] There we go.
[103:06.18] (soft ambient music)
[103:10.26] (soft ambient music continues)
[103:14.18] (soft ambient music continues)
[103:18.10] (soft ambient music continues)
[103:22.02] (soft ambient music continues)
[103:25.94] (soft ambient music continues)
[103:29.98] (soft ambient music continues)
[103:33.82] (soft ambient music continues)
[103:37.74] (soft ambient music continues)
[104:07.26] There we go.
[104:08.26] So there's that.
[104:12.46] The network and then the transaction.
[104:14.50] And I'm gonna go with chosen network for now,
[104:27.22] just to follow the same as the other one,
[104:29.38] but then we'll switch it later.
[104:30.94] Yeah, we need to be consistent between our functions.
[104:37.26] (soft ambient music)
[104:40.34] (soft ambient music)
[105:03.38] (soft ambient music continues)
[105:07.30] Okay, let's go back and check the other implementation.
[105:27.42] (soft ambient music)
[105:32.90] (soft ambient music continues)
[105:36.82] Oh, okay.
[105:48.58] So yeah, this message was a little bit more
[105:50.06] than just that.
[105:50.90] Got it.
[106:01.74] Three.
[106:02.86] (soft ambient music)
[106:06.30] Okay.
[106:07.14] (soft ambient music)
[106:10.42] (soft ambient music continues)
[106:14.34] (soft ambient music continues)
[106:18.42] (soft ambient music continues)
[106:22.34] (soft ambient music continues)
[106:26.42] (soft ambient music continues)
[106:30.34] (soft ambient music continues)
[106:59.58] (soft ambient music continues)
[107:03.50] Length.
[107:10.70] (soft ambient music continues)
[107:14.54] Offset is zero.
[107:15.94] Okay.
[107:18.38] Agreed.
[107:19.22] (soft ambient music continues)
[107:23.14] (soft ambient music continues)
[107:27.06] All right.
[107:43.58] And then encoded denom.
[107:45.10] Yeah, that's just denom mask.
[107:49.10] (soft ambient music continues)
[107:53.10] (soft ambient music continues)
[107:57.02] Cannot re-declare block scope variable.
[108:02.70] What you talking about, Willis?
[108:05.22] What you talking about, Willis?
[108:08.18] Oh, let's do payload equals.
[108:12.14] There we go.
[108:12.98] (soft ambient music continues)
[108:16.82] (soft ambient music continues)
[108:20.66] Don't need to comment if we just call it payload.
[108:28.54] (soft ambient music continues)
[108:32.46] (soft ambient music continues)
[108:36.38] Maybe we could call it collateral TX.
[108:53.90] (soft ambient music continues)
[108:57.82] (soft ambient music continues)
[109:01.74] I think I'll do that.
[109:09.78] (soft ambient music continues)
[109:13.86] (soft ambient music continues)
[109:17.78] (soft ambient music continues)
[109:44.34] (soft ambient music continues)
[109:48.26] All right, good.
[109:50.78] I like it.
[109:51.62] (soft ambient music continues)
[109:55.54] Okay.
[109:59.98] (soft ambient music continues)
[110:02.06] So this is our request to be allowed.
[110:04.18] (soft ambient music continues)
[110:06.54] And then it's gonna come back
[110:07.38] with a status update and some other stuff.
[110:09.30] (soft ambient music continues)
[110:13.22] (soft ambient music continues)
[110:17.14] Part of me wants to use a data view here.
[110:26.10] I think I'm gonna let that part of me win.
[110:28.06] (soft ambient music continues)
[110:31.98] Come on, where's my db equals?
[110:36.10] (soft ambient music continues)
[110:40.02] (soft ambient music continues)
[110:44.10] (soft ambient music continues)
[110:48.18] (soft ambient music continues)
[110:52.14] (soft ambient music continues)
[110:55.98] (soft ambient music continues)
[110:59.90] Orbit, sorry.
[111:23.86] Sorry.
[111:24.70] Sorry.
[111:25.82] Okay.
[111:26.66] I made a mistake earlier.
[111:27.82] Eight plus eight, 16.
[111:31.10] No, no, no.
[111:31.94] I was right.
[111:32.78] Set uint.
[111:33.62] Set uint 32.
[111:34.46] It is a 32.
[111:35.46] Yeah, four bytes.
[111:37.90] That would be, that should,
[111:41.18] I don't understand why it says int there.
[111:42.62] It should be uint.
[111:43.78] You're not gonna have negative denomination.
[111:49.94] It should be a uint 32.
[111:51.42] Here it says int.
[111:54.98] That's weird.
[111:56.42] That's weird.
[111:57.26] I don't know what that means.
[111:58.10] I don't know what that data type means.
[111:59.74] (soft ambient music continues)
[112:03.66] Okay.
[112:24.14] Oh.
[112:24.98] Here we go.
[112:31.02] So we will shortly.
[112:35.74] Yeah, I'm just gonna change chosen network to network.
[112:42.18] Everywhere, real quick.
[112:43.34] (soft ambient music continues)
[112:47.26] (soft ambient music continues)
[112:51.18] (soft ambient music continues)
[112:55.10] All right.
[113:18.18] Route packet.
[113:19.02] (soft ambient music continues)
[113:22.94] Yeah.
[113:23.78] And then here, we'll change net to network as well.
[113:28.94] Whoops.
[113:34.26] Let's change that in a case-sensitive way.
[113:37.22] Yes, yes.
[113:43.38] That's it.
[113:44.22] (soft ambient music continues)
[113:48.14] (soft ambient music continues)
[113:52.06] All right.
[113:59.78] Let's do this.
[114:00.62] We're gonna change command name to command.
[114:01.90] (soft ambient music continues)
[114:05.82] 'Cause command's already in now.
[114:12.70] (soft ambient music continues)
[114:16.62] (soft ambient music continues)
[114:20.54] (soft ambient music continues)
[114:24.46] Change packet to payload.
[114:49.38] (soft ambient music continues)
[114:53.34] (soft ambient music continues)
[114:57.18] (soft ambient music continues)
[115:01.06] (soft ambient music continues)
[115:05.18] (soft ambient music continues)
[115:09.18] (soft ambient music continues)
[115:13.10] (soft ambient music continues)
[115:41.22] I guess that should be message.
[115:43.26] (soft ambient music continues)
[115:47.18] (soft ambient music continues)
[115:51.10] (soft ambient music continues)
[115:55.02] (soft ambient music continues)
[115:59.06] (soft ambient music continues)
[116:02.94] (soft ambient music continues)
[116:06.78] (soft ambient music continues)
[116:10.70] (soft ambient music continues)
[116:22.54] (soft ambient music continues)
[116:26.46] (soft ambient music continues)
[116:48.38] (soft ambient music continues)
[116:52.30] Okay, there we go.
[117:01.10] (soft ambient music continues)
[117:05.02] (soft ambient music continues)
[117:08.94] (soft ambient music continues)
[117:12.86] (soft ambient music continues)
[117:40.86] Okay, so the next thing that we need to do
[117:43.78] is we need to
[117:45.90] generate, we need to generate a wallet.
[117:56.38] So here's what we're gonna do, we're gonna do.
[118:00.86] (soft ambient music continues)
[118:04.78] Dash phrase CLI.
[118:14.30] Dash keys CLI.
[118:21.26] Dash HD CLI.
[118:25.90] (soft ambient music continues)
[118:29.82] Okay, so let's do that.
[118:41.50] (soft ambient music continues)
[118:45.42] (soft ambient music continues)
[118:49.34] (soft ambient music continues)
[118:53.26] (soft ambient music continues)
[118:57.18] (soft ambient music continues)
[119:23.74] We might even need a dash TX CLI.
[119:28.74] Not sure if that's gonna work out at all,
[119:33.90] we're gonna give it a try.
[119:35.94] Let me try that real quick.
[119:37.74] (soft ambient music continues)
[119:52.50] Okay, dash TX CLI is not a thing yet, we'll get there.
[119:56.94] (soft ambient music continues)
[120:00.86] (soft ambient music continues)
[120:05.06] (soft ambient music continues)
[120:08.98] (soft ambient music continues)
[120:22.94] (soft ambient music continues)
[120:26.78] (soft ambient music continues)
[120:53.70] Okay, let's make sure that that's correct.
[120:57.74] That's correct.
[120:59.94] Okay, cool.
[121:04.90] So we'll go with this.
[121:06.42] (soft ambient music continues)
[121:10.34] (soft ambient music continues)
[121:14.26] So let's try dash phrase, help.
[121:29.54] Gen dash O, seed phrase dot TXT.
[121:38.70] (soft ambient music continues)
[121:42.62] Okay.
[121:46.50] And then dash phrase,
[121:56.14] seed.
[122:05.02] (soft ambient music continues)
[122:08.94] Seed dot hex.
[122:13.66] Okay.
[122:16.50] Toot, toot, toot.
[122:22.42] All right, and that's all we need there.
[122:27.98] And then we can use dash HD.
[122:30.06] (soft ambient music continues)
[122:33.98] (soft ambient music continues)
[122:49.58] (soft ambient music continues)
[122:53.50] (soft ambient music continues)
[122:57.42] (soft ambient music continues)
[123:25.86] What did I, what have I done?
[123:28.86] (soft ambient music continues)
[123:32.70] Let's do this.
[123:49.06] There we go.
[123:54.62] (soft ambient music continues)
[123:58.54] Hmm.
[124:15.50] Interesting.
[124:16.34] (soft ambient music continues)
[124:20.26] (coughing)
[124:28.46] (coughing)
[124:33.26] Ah, yes.
[124:40.62] Okay, got it.
[124:41.46] (soft ambient music continues)
[124:46.26] (soft ambient music continues)
[124:48.50] And then, problem is I need to modify this
[124:52.50] to do a test net.
[124:57.50] Whoops.
[124:59.30] I might need to do that now.
[125:09.50] (soft ambient music continues)
[125:14.78] (soft ambient music continues)
[125:18.90] (soft ambient music continues)
[125:22.98] (soft ambient music continues)
[125:26.90] (soft ambient music continues)
[125:31.82] (soft ambient music continues)
[125:35.74] (soft ambient music continues)
[125:59.42] (soft ambient music continues)
[126:03.34] (soft ambient music continues)
[126:08.26] (soft ambient music continues)
[126:12.18] (soft ambient music continues)
[126:25.50] (soft ambient music continues)
[126:34.94] (soft ambient music continues)
[126:38.86] Okay, so this one, the coin type,
[126:54.62] I don't think we have a separate coin type
[126:57.86] for the test addresses.
[127:01.98] I'm not sure.
[127:04.34] Do we have a separate coin type?
[127:05.94] Dash test net coin type.
[127:11.06] Let me check the dash HD documentation.
[127:22.14] (soft ambient music continues)
[127:26.06] One for test net.
[127:52.02] Okay.
[127:52.86] (soft ambient music continues)
[127:59.30] (soft ambient music continues)
[128:03.94] (soft ambient music continues)
[128:08.14] (soft ambient music continues)
[128:12.06] (soft ambient music continues)
[128:16.98] (soft ambient music continues)
[128:20.90] (soft ambient music continues)
[128:24.82] (soft ambient music continues)
[128:47.82] Okay, so now I've got some addresses to work with,
[128:51.70] some receive addresses and some change addresses.
[128:54.26] Load some dash onto the test.
[129:00.86] Okay.
[129:03.58] (sighs)
[129:09.14] (soft ambient music continues)
[129:13.06] (soft ambient music continues)
[129:16.98] (soft ambient music continues)
[129:20.90] (soft ambient music continues)
[129:24.82] (soft ambient music continues)
[129:45.90] (soft ambient music continues)
[129:49.82] (soft ambient music continues)
[129:53.74] Okay, so we generate
[130:18.18] (soft ambient music continues)
[130:19.90] the test net addresses.
[130:21.62] So I need to implement a test net command for this.
[130:28.74] Okay.
[130:42.38] (soft ambient music continues)
[130:46.30] All right, so let's go, let's go solve that.
[130:51.86] Let me go ahead and submit this documentation real quick.
[130:54.90] This, I don't think this is gonna be too big of an issue.
[131:05.98] Famous last words, as always.
[131:09.54] (soft ambient music continues)
[131:13.46] Okay.
[131:24.74] Going into the CLI, let's pop out of that.
[131:27.14] Let's do,
[131:27.98] let's see, let's just,
[131:31.06] (soft ambient music continues)
[131:34.90] one type.
[131:56.02] (soft ambient music continues)
[132:25.54] From seed, derive path,
[132:27.86] to with.
[132:31.54] All right, to with is where we need to pass in something.
[132:35.78] So let me go check under this, node modules.
[132:38.54] Should have done NPMCI, there we go.
[132:49.62] Uh-oh.
[132:51.82] (soft ambient music continues)
[132:55.62] Mosquito.
[132:56.46] How do we have mosquitoes in the desert?
[133:01.46] 'Cause there's a little pond not too far away, that's how.
[133:06.26] (soft ambient music continues)
[133:10.18] (soft ambient music continues)
[133:14.02] Okay, so we need to have version.
[133:29.62] Yes?
[133:31.70] (soft ambient music continues)
[133:35.62] (soft ambient music continues)
[133:39.54] (soft ambient music continues)
[133:43.86] Okay.
[133:44.70] (soft ambient music continues)
[134:12.98] Hmm.
[134:13.82] I'm a little confused about that,
[134:19.94] but let's follow that down the rabbit hole for a moment.
[134:23.94] (soft ambient music continues)
[134:27.86] (soft ambient music continues)
[134:31.78] Hmm.
[134:57.22] Non-stop version.
[134:58.54] Okay, we don't specifically need to solve this right now.
[135:07.82] (soft ambient music continues)
[135:26.74] (soft ambient music continues)
[135:31.26] (soft ambient music continues)
[135:35.54] (soft ambient music continues)
[135:39.46] (soft ambient music continues)
[135:43.38] Okay.
[136:08.46] (soft ambient music continues)
[136:12.38] Okay, version is T-Print, got it.
[136:16.50] Okay, so I did, I committed a sin here.
[136:19.50] I changed the type of version.
[136:22.78] So that's my own,
[136:26.18] my own sin.
[136:29.94] (soft ambient music continues)
[136:33.86] (soft ambient music continues)
[136:37.30] Version, main net, test net.
[136:40.02] And code PKH, version, main net, test net.
[136:46.50] Okay, so the version that I should be providing
[136:49.86] is in fact...
[136:52.62] Okay, so if we, we'll just modify this locally
[136:59.66] for the time being.
[137:02.10] (soft ambient music continues)
[137:06.02] This is buffer.
[137:26.66] (soft ambient music continues)
[137:30.58] What does this say?
[137:50.38] (soft ambient music continues)
[137:55.30] (soft ambient music continues)
[137:58.34] Okay.
[137:59.18] (soft ambient music continues)
[138:03.10] (soft ambient music continues)
[138:16.82] (soft ambient music continues)
[138:20.74] What's going on here?
[138:33.94] No, we won't worry about it.
[138:36.50] (soft ambient music continues)
[138:40.42] (soft ambient music continues)
[138:44.34] Okay, so that's how we're going to pass the options through.
[139:06.46] (soft ambient music continues)
[139:10.38] (soft ambient music continues)
[139:14.30] Okay, so this one, that's just a bug.
[139:25.14] (soft ambient music continues)
[139:31.06] (soft ambient music continues)
[139:34.98] Okay, so not a big deal to fix that.
[139:44.22] Let's go, we'll go fix that as well.
[139:47.38] Well, let me just do it in line with what I'm doing here.
[139:50.38] (soft ambient music continues)
[139:54.30] (soft ambient music continues)
[139:58.22] (soft ambient music continues)
[140:02.14] (soft ambient music continues)
[140:24.42] (soft ambient music continues)
[140:28.34] (soft ambient music continues)
[140:46.34] Hmm.
[140:49.38] (soft ambient music continues)
[140:51.70] I don't like that.
[140:52.74] (soft ambient music continues)
[140:56.82] (soft ambient music continues)
[141:01.30] (soft ambient music continues)
[141:05.26] (soft ambient music continues)
[141:09.10] (soft ambient music continues)
[141:13.02] (soft ambient music continues)
[141:16.94] (soft ambient music continues)
[141:20.86] (soft ambient music continues)
[141:24.78] (soft ambient music continues)
[141:28.70] (soft ambient music continues)
[141:58.30] (soft ambient music continues)
[142:02.22] Hmm.
[142:04.06] (soft ambient music continues)
[142:06.94] Number.
[142:07.78] (soft ambient music continues)
[142:10.38] I don't know if that's right.
[142:11.22] Let me, yeah, I think that's gonna be...
[142:14.14] (soft ambient music continues)
[142:18.06] (soft ambient music continues)
[142:21.90] Oops.
[142:35.90] I mixed types.
[142:38.78] My bad.
[142:39.62] (soft ambient music continues)
[142:43.46] (soft ambient music continues)
[142:47.30] (soft ambient music continues)
[142:51.14] (soft ambient music continues)
[142:54.98] (soft ambient music continues)
[142:58.82] (soft ambient music continues)
[143:02.66] (soft ambient music continues)
[143:32.30] How many bytes?
[143:33.98] Four bytes.
[143:34.82] You went 32?
[143:35.66] Okay.
[143:36.50] (soft ambient music continues)
[143:40.42] (soft ambient music continues)
[143:44.26] (soft ambient music continues)
[143:48.10] (soft ambient music continues)
[143:51.94] (soft ambient music continues)
[143:55.86] (yawns)
[144:20.34] (soft ambient music continues)
[144:24.26] (soft ambient music continues)
[144:38.66] Okay.
[144:44.70] Let's go ahead and open up this one.
[144:48.94] (soft ambient music continues)
[144:51.22] XPRIV and TPRIV
[144:54.38] are accepted as strings.
[145:00.38] Other XKey versions are accepted as UINT32.
[145:07.54] Testnet is accepted.
[145:17.02] (soft ambient music continues)
[145:20.94] PKH and WIF version are passed through without inspection.
[145:26.78] (soft ambient music continues)
[145:34.54] (soft ambient music continues)
[145:38.38] (soft ambient music continues)
[145:43.02] (soft ambient music continues)
[145:46.94] (soft ambient music continues)
[145:50.86] (soft ambient music continues)
[145:54.78] Okay.
[146:19.90] (soft ambient music continues)
[146:23.54] That's good.
[146:24.38] Wait.
[146:25.22] Dash hive to dash hive.
[146:29.34] Okay. Yes, yes.
[146:30.58] We'll get both of these on that.
[146:33.58] I'm going to put this in another window
[146:37.30] that's nearby for these PRs.
[146:43.30] Okay. So that one we'll take.
[146:46.14] And then this one.
[146:50.30] So if we just delete dash HD and we make a new dash HD,
[146:56.78] let's just paste the contents of this into that.
[147:03.46] Okay.
[147:14.06] And then same thing here.
[147:15.34] We'll do a dash HD.
[147:17.02] Well, this is dash HD CLI, yes?
[147:19.58] Yes. Okay.
[147:20.42] So we need to bring this back a layer.
[147:23.22] (soft ambient music continues)
[147:29.50] (soft ambient music continues)
[147:58.22] Uh-oh.
[147:59.06] I don't know what happened here.
[148:01.46] Maybe it's doing an insert.
[148:04.10] Maybe it's locked up.
[148:05.22] Hmm. I'll have to check on that later.
[148:15.86] Let that other stupid thing for a minute.
[148:19.94] Wait, what's that control Q?
[148:25.06] (soft ambient music continues)
[148:28.98] Nope. Okay.
[148:31.22] Let me just...
[148:32.06] Kill all of them.
[148:37.74] Kill all BI.
[148:43.50] (soft ambient music continues)
[148:47.42] (soft ambient music continues)
[148:51.34] (soft ambient music continues)
[148:55.26] (soft ambient music continues)
[148:59.82] (soft ambient music continues)
[149:03.66] (soft ambient music continues)
[149:10.94] (soft ambient music continues)
[149:14.86] Okay, let me try paste special next time.
[149:36.70] (soft ambient music continues)
[149:40.62] Paste special, advanced paste.
[149:44.38] Paste slowly.
[149:46.98] (soft ambient music continues)
[149:52.58] Oh, uh-oh.
[149:53.42] Okay, let's try that again.
[150:00.78] (soft ambient music continues)
[150:04.70] Set paste.
[150:08.98] Paste slowly.
[150:13.30] Okay, so we'll let that...
[150:30.78] Paste out slowly, and we'll just continue work over here.
[150:33.94] (soft ambient music continues)
[150:37.86] We can do...
[151:02.66] (soft ambient music continues)
[151:06.50] X key version.
[151:09.70] And we can do...
[151:22.42] (soft ambient music continues)
[151:26.34] (soft ambient music continues)
[151:30.26] Just that.
[151:42.70] (soft ambient music continues)
[151:53.74] (soft ambient music continues)
[151:58.10] I think we have a remove option.
[152:01.86] Let me double check on that.
[152:08.14] Yeah.
[152:15.66] (soft ambient music continues)
[152:19.58] No, I should probably have a capture option
[152:27.18] and check option.
[152:28.10] If I was gonna turn this into a library,
[152:30.10] I might do that.
[152:32.50] (soft ambient music continues)
[152:37.90] (soft ambient music continues)
[152:42.14] (soft ambient music continues)
[152:46.06] (soft ambient music continues)
[152:50.02] (soft ambient music continues)
[152:53.98] (soft ambient music continues)
[152:57.82] (soft ambient music continues)
[153:18.22] (soft ambient music continues)
[153:22.14] (soft ambient music continues)
[153:26.06] (soft ambient music continues)
[153:29.98] (soft ambient music continues)
[153:34.02] (soft ambient music continues)
[153:37.94] (soft ambient music continues)
[153:55.94] (soft ambient music continues)
[153:59.86] Not known X key versions.
[154:06.34] (soft ambient music continues)
[154:10.26] (soft ambient music continues)
[154:37.78] (soft ambient music continues)
[154:41.70] Okay, there we go.
[154:59.58] (soft ambient music continues)
[155:03.50] (soft ambient music continues)
[155:15.90] Actually, that one's just fine.
[155:18.86] So, add a version.
[155:22.22] (soft ambient music continues)
[155:26.74] (soft ambient music continues)
[155:30.66] Okay.
[155:45.74] (soft ambient music continues)
[155:53.98] I think we just let those pass through.
[155:56.42] Otherwise.
[155:59.86] (soft ambient music continues)
[156:03.78] I don't think we do anything.
[156:09.94] (soft ambient music continues)
[156:13.86] (soft ambient music continues)
[156:17.78] (soft ambient music continues)
[156:45.26] Why allow it to be an integer?
[156:50.18] It should allow hex as well.
[156:51.90] Yeah.
[156:54.58] Let me make sure I'm allowing hex as well over here.
[156:57.22] (soft ambient music continues)
[157:01.14] So, what if I am allowing hex?
[157:05.62] Dead beef, not to string.
[157:11.38] Yeah, okay.
[157:14.18] (soft ambient music continues)
[157:18.18] Yeah.
[157:19.02] It'll still work.
[157:21.26] Got it.
[157:22.10] (soft ambient music continues)
[157:26.02] (soft ambient music continues)
[157:29.94] And there we go.
[157:54.50] (soft ambient music continues)
[157:58.42] Let's see.
[158:16.10] (soft ambient music continues)
[158:19.94] (soft ambient music continues)
[158:23.86] Okay, so I don't think there's anything we need to do there.
[158:37.42] (soft ambient music continues)
[158:41.34] (soft ambient music continues)
[158:45.26] (soft ambient music continues)
[159:00.66] (soft ambient music continues)
[159:04.58] Okay.
[159:13.42] (soft ambient music continues)
[159:17.34] (soft ambient music continues)
[159:21.18] (soft ambient music continues)
[159:25.14] (soft ambient music continues)
[159:28.98] (soft ambient music continues)
[159:32.90] (soft ambient music continues)
[159:36.82] Okay.
[160:00.98] Okay.
[160:01.82] (soft ambient music continues)
[160:05.78] (soft ambient music continues)
[160:09.62] (soft ambient music continues)
[160:13.46] (soft ambient music continues)
[160:17.30] (soft ambient music continues)
[160:21.14] (soft ambient music continues)
[160:25.02] (soft ambient music continues)
[160:28.86] (soft ambient music continues)
[160:33.54] (soft ambient music continues)
[160:37.38] (soft ambient music continues)
[160:41.22] (soft ambient music continues)
[160:45.54] (soft ambient music continues)
[160:50.22] (soft ambient music continues)
[160:54.06] (soft ambient music continues)
[160:57.90] (soft ambient music continues)
[161:01.82] (soft ambient music continues)
[161:05.66] (soft ambient music continues)
[161:22.70] (soft ambient music continues)
[161:26.62] Oops.
[161:51.38] (soft ambient music continues)
[161:55.38] (soft ambient music continues)
[161:59.22] (soft ambient music continues)
[162:22.26] (soft ambient music continues)
[162:26.18] Oh, nope.
[162:46.38] Wrong one.
[162:47.22] (soft ambient music continues)
[162:51.14] (soft ambient music continues)
[162:55.06] Okay.
[163:01.22] Let's see.
[163:02.06] I'm trying to do this a different way.
[163:03.54] (soft ambient music continues)
[163:07.46] (soft ambient music continues)
[163:11.30] (soft ambient music continues)
[163:40.34] (soft ambient music continues)
[163:44.18] (soft ambient music continues)
[163:48.02] (soft ambient music continues)
[163:52.86] (soft ambient music continues)
[163:56.70] (soft ambient music continues)
[164:00.54] (soft ambient music continues)
[164:04.38] (soft ambient music continues)
[164:09.06] (soft ambient music continues)
[164:12.90] (soft ambient music continues)
[164:16.82] Don't bother.
[164:41.54] (soft ambient music continues)
[164:46.06] (soft ambient music continues)
[164:49.98] (soft ambient music continues)
[164:53.82] (soft ambient music continues)
[164:57.74] X key.
[165:23.42] (soft ambient music continues)
[165:27.34] What?
[165:31.34] X key.
[165:34.98] (soft ambient music continues)
[165:40.34] I'll have to go look at that.
[165:47.62] (soft ambient music continues)
[165:51.54] (soft ambient music continues)
[165:55.46] Oh, bother.
[166:08.18] (soft ambient music continues)
[166:12.10] (soft ambient music continues)
[166:15.94] (soft ambient music continues)
[166:19.78] (soft ambient music continues)
[166:23.66] (soft ambient music continues)
[166:27.50] (soft ambient music continues)
[166:55.14] (soft ambient music continues)
[166:59.06] All right, where am I at?
[167:04.62] (soft ambient music continues)
[167:08.46] (soft ambient music continues)
[167:12.30] (soft ambient music continues)
[167:16.14] (soft ambient music continues)
[167:19.98] (soft ambient music continues)
[167:49.22] Oh, string or undefined number
[167:51.06] is not assignable to type number.
[167:53.58] All right, let's go check the type on this.
[167:55.58] (soft ambient music continues)
[167:59.50] (soft ambient music continues)
[168:03.34] (soft ambient music continues)
[168:07.22] (soft ambient music continues)
[168:11.06] (soft ambient music continues)
[168:14.94] (soft ambient music continues)
[168:18.78] (soft ambient music continues)
[168:23.46] (soft ambient music continues)
[168:27.30] (soft ambient music continues)
[168:31.14] (soft ambient music continues)
[168:57.94] Okay, so that's now passing through on both sides,
[169:02.46] which wasn't doing, it wasn't doing that before.
[169:04.98] Okay, encode XP.
[169:08.14] (soft ambient music continues)
[169:11.98] Okay.
[169:17.90] (soft ambient music continues)
[169:25.26] Let's go ahead and maybe copy that.
[169:30.26] This is local, so that should be nice and fast.
[169:34.94] Excellent.
[169:35.78] And this one, we can just repeat the same process on.
[169:39.86] Delete it.
[169:40.70] And then paste slowly.
[169:44.26] There we go.
[169:47.58] No!
[169:49.86] Cancel, cancel.
[169:54.18] Set paste first.
[169:55.42] Oh, darn it.
[170:01.26] There we go.
[170:13.42] Okay.
[170:14.38] (soft ambient music continues)
[170:18.30] (soft ambient music continues)
[170:22.22] (soft ambient music continues)
[170:26.14] (soft ambient music continues)
[170:30.06] (soft ambient music continues)
[170:33.98] (soft ambient music continues)
[170:37.90] (soft ambient music continues)
[170:41.82] (soft ambient music continues)
[170:45.74] (soft ambient music continues)
[170:49.66] (soft ambient music continues)
[171:07.66] (soft ambient music continues)
[171:35.82] Okay, so XPUB version, XPRIV, XPUB.
[171:40.82] And then we need to let that go into wherever it goes into.
[171:48.10] From seed, and then derive path.
[171:53.38] HDPath.
[171:55.78] Entries, wait, where are we going here?
[172:01.06] (soft ambient music continues)
[172:04.94] (soft ambient music continues)
[172:08.78] (soft ambient music continues)
[172:12.70] Possible child.
[172:38.50] Next, okay, from seed, that's wallet key.
[172:43.22] Wallet key, derive path.
[172:47.82] So it's from seed, it's never going to need
[172:52.10] the XPUB version, okay.
[172:53.74] Derive.
[172:57.14] Oh, wait, there we go.
[173:07.18] So now it will need versions, or version,
[173:11.78] and then XPRIV version.
[173:15.34] XPUB version.
[173:26.10] Okay, let's see if that's just undocumented behavior.
[173:32.02] (soft ambient music continues)
[173:35.94] HDKey, ops, ops, code XPRIV, code XPRIV, okay.
[173:43.66] So we're taking the ops version there.
[174:01.74] And we're doing that to XPRIV.
[174:04.50] To XPRIV, HD to XPRIV.
[174:11.06] HD to XPRIV.
[174:24.26] Yes.
[174:29.58] (soft ambient music continues)
[174:33.50] Oops, no, I did not mean oops.
[174:54.54] That was an oopsie, oopsie.
[174:58.98] All right.
[174:59.82] (soft ambient music continues)
[175:05.62] (soft ambient music continues)
[175:09.54] (soft ambient music continues)
[175:13.74] (soft ambient music continues)
[175:18.22] (soft ambient music continues)
[175:45.98] Thank goodness for type JS.
[175:47.94] Typed JS, JS with types.
[175:53.50] Can't say type JS, JS with types.
[175:56.14] Thank goodness for JS with types.
[175:57.82] Saving idiots from themselves since right now.
[176:10.34] (soft ambient music continues)
[176:14.26] Okay, so now.
[176:22.62] Oh, not what I wanted to do.
[176:33.22] Okay.
[176:39.22] (soft ambient music continues)
[176:41.62]  Quiet down now 
[176:44.10] (humming)
[176:46.26] (humming)
[176:48.42] (humming)
[176:50.58] (humming)
[176:53.26] (humming)
[176:55.42] (humming)
[176:58.74] (humming)
[177:11.94] (humming)
[177:21.98] (humming)
[177:24.14] (humming)
[177:32.26] (humming)
[177:36.54] (humming)
[177:42.70] (humming)
[177:48.86] (humming)
[177:51.02] (humming)
[177:55.22] (humming)
[177:57.50] (humming)
[177:59.66] (humming)
[178:01.82] (humming)
[178:08.66] (coughing)
[178:17.42] (soft ambient music continues)
[178:21.34] Okay.
[178:26.22] (soft ambient music continues)
[178:30.14] (soft ambient music continues)
[178:34.06] (humming)
[178:53.34] (humming)
[178:55.50] (humming)
[178:58.66] (humming)
[179:11.38] (humming)
[179:15.46] (humming)
[179:21.90] (humming)
[179:24.06] Okay.
[179:26.86] I think this is all correct.
[179:28.26] (humming)
[179:33.78] (humming)
[179:38.34] (humming)
[179:49.34] (humming)
[179:51.50] I need to go check out what this from X key is.
[179:55.82] From X key.
[180:00.02] X key ops.
[180:01.74] Okay.
[180:02.90] HD from X key.
[180:05.50] And then X key from X key ops.
[180:11.58] Uh, what?
[180:15.14] (soft ambient music continues)
[180:19.06] What does normalize public key do?
[180:30.70] (soft ambient music continues)
[180:35.62] (soft ambient music continues)
[180:39.54] (soft ambient music continues)
[180:43.46] (soft ambient music continues)
[180:47.38] Hmm.
[181:10.46] Did I mean that?
[181:12.42] I don't know if I meant that.
[181:13.82] (soft ambient music continues)
[181:17.74] Oh, I'll leave that like this for now.
[181:23.62] (soft ambient music continues)
[181:27.54] (soft ambient music continues)
[181:31.46] Hmm.
[181:45.50] (soft ambient music continues)
[181:49.42] Okay.
[181:57.50] (soft ambient music continues)
[181:58.58] So another one that we've got here is going to be...
[182:02.22] (soft ambient music continues)
[182:06.14] (soft ambient music continues)
[182:34.98] (soft ambient music continues)
[182:38.90] (soft ambient music continues)
[182:42.82] (soft ambient music continues)
[182:46.74] There we go.
[183:12.02] Now I can switch between the three of these.
[183:14.22] Okay.
[183:16.30] So let's get back to this one.
[183:17.82] (soft ambient music continues)
[183:21.26] And it doesn't like that the version of, let's see.
[183:26.26] (soft ambient music continues)
[183:31.06] Huh.
[183:37.22] Okay, so that one, it really wants that one to be
[183:41.82] a number.
[183:42.78] (soft ambient music continues)
[184:10.70] Yeah, I'm not sure about this.
[184:12.14] I don't know where that's coming from, but I don't like it.
[184:16.46] I don't like it.
[184:17.82] (soft ambient music continues)
[184:21.74] (soft ambient music continues)
[184:25.58] Okay.
[184:47.78] (soft ambient music continues)
[184:51.70] (soft ambient music continues)
[184:55.62] (soft ambient music continues)
[184:59.54] (soft ambient music continues)
[185:03.62] (soft ambient music continues)
[185:07.74] (soft ambient music continues)
[185:35.22] (soft ambient music continues)
[185:39.14] (soft ambient music continues)
[185:59.34] (soft ambient music continues)
[186:03.26] Okay, versions.
[186:10.94] (soft ambient music continues)
[186:28.98] Okay, so number or string.
[186:33.18] (soft ambient music continues)
[186:37.10] HD versions.
[186:50.82] (soft ambient music continues)
[186:55.78] (soft ambient music continues)
[186:59.70] (soft ambient music continues)
[187:27.98] U at 32.
[187:29.82] (soft ambient music continues)
[187:33.66] (soft ambient music continues)
[187:37.58] (soft ambient music continues)
[187:41.50] So we're gonna change this one as well.
[188:07.78] (mumbles)
[188:09.94] Okay, so this is, it's making it,
[188:19.74] I wish that I designed this slightly differently
[188:22.50] when I first done it, but when I had first done it,
[188:24.62] but I don't know how I would have done better
[188:27.34] in this particular case.
[188:28.82] Okay, so if it's that or that,
[188:32.14] then
[188:34.34] (soft ambient music continues)
[188:38.26] X priv X equals.
[188:42.94] (soft ambient music continues)
[188:46.86] (soft ambient music continues)
[188:51.70] (soft ambient music continues)
[189:17.50] (soft ambient music continues)
[189:21.34] Do I really want to bring this down to this level?
[189:46.46] I kind of have to.
[189:47.54] (soft ambient music continues)
[190:15.22] The cat is deciding whether to come into the shed or not.
[190:18.30] He'd never come in before.
[190:19.62] And she decided not to, which is a good choice.
[190:25.62] (soft ambient music continues)
[190:29.58] (soft ambient music continues)
[190:33.70] (soft ambient music continues)
[190:37.54] (soft ambient music continues)
[191:07.26] All right.
[191:08.14] (soft ambient music continues)
[191:11.98] (soft ambient music continues)
[191:15.90] (soft ambient music continues)
[191:19.82] (soft ambient music continues)
[191:24.06] (soft ambient music continues)
[191:27.98] (soft ambient music continues)
[191:40.90] (soft ambient music continues)
[191:44.82] Hmm.
[192:03.22] (soft ambient music continues)
[192:07.14] (soft ambient music continues)
[192:11.06] (soft ambient music continues)
[192:32.42] (soft ambient music continues)
[192:36.46] (soft ambient music continues)
[192:40.38] (soft ambient music continues)
[193:06.62] (soft ambient music continues)
[193:10.54] Oh, bother.
[193:34.82] (soft ambient music continues)
[193:38.74] Oh, this is a number.
[193:41.30] Oh, darn.
[193:42.14] Uh, ooh, okay.
[193:43.46] That is a number.
[193:45.74] (soft ambient music continues)
[193:49.66] (soft ambient music continues)
[193:53.50] (soft ambient music continues)
[194:12.66] (soft ambient music continues)
[194:16.58] (soft ambient music continues)
[194:37.02] (soft ambient music continues)
[194:40.94] (soft ambient music continues)
[194:50.78] (soft ambient music continues)
[194:54.70] Hmm.
[195:08.66] Okay.
[195:10.82] (soft ambient music continues)
[195:12.94] Let's see, what's going on here?
[195:14.54] Well, now we're in a bit of a pickle, aren't we?
[195:19.10] (soft ambient music continues)
[195:23.02] (soft ambient music continues)
[195:26.94] (soft ambient music continues)
[195:31.66] (soft ambient music continues)
[195:35.50] (soft ambient music continues)
[195:39.34] Let's see.
[196:03.22] (soft ambient music continues)
[196:07.06] (soft ambient music continues)
[196:10.90] (soft ambient music continues)
[196:14.74] (soft ambient music continues)
[196:18.58] (soft ambient music continues)
[196:22.50] (soft ambient music continues)
[196:26.50] (soft ambient music continues)
[196:30.42] (soft ambient music continues)
[196:44.02] (soft ambient music continues)
[196:47.86] (soft ambient music continues)
[197:00.82] (soft ambient music continues)
[197:04.66] Okay, I think in all of these cases,
[197:22.86] if I'm not mistaken,
[197:24.18] let's see.
[197:29.62] (soft ambient music continues)
[197:33.46] (soft ambient music continues)
[197:37.30] (soft ambient music continues)
[197:41.14] (soft ambient music continues)
[197:45.06] All right, so we're expecting that it's gonna be
[198:11.86] (soft ambient music continues)
[198:15.78] great.
[198:19.26] If it's main net,
[198:20.30] if it's test net,
[198:23.98] if it's
[198:26.58] other net.
[198:31.38] (soft ambient music continues)
[198:36.54] (soft ambient music continues)
[198:40.38] Okay.
[199:02.66] (soft ambient music continues)
[199:06.58] And then we're gonna do the whole thing again,
[199:12.46] but we're just gonna redo it for XPUB.
[199:14.70] (soft ambient music continues)
[199:20.18] And
[199:27.58] TPUB.
[199:29.86] (soft ambient music continues)
[199:33.78] Public.
[199:54.26] (soft ambient music continues)
[199:59.82] (soft ambient music continues)
[200:03.74] (soft ambient music continues)
[200:07.94] (soft ambient music continues)
[200:11.86] (soft ambient music continues)
[200:16.78] (soft ambient music continues)
[200:21.62] (soft ambient music continues)
[200:25.54] (soft ambient music continues)
[200:53.90] What is this?
[200:55.06] Key info dot version.
[200:57.94] So that's gonna end up being an int.
[201:11.90] (soft ambient music continues)
[201:16.82] (soft ambient music continues)
[201:20.74] (soft ambient music continues)
[201:24.66] (soft ambient music continues)
[201:28.58] (soft ambient music continues)
[201:32.50] Okay, cool.
[201:55.58] Versions.
[201:56.82] (soft ambient music continues)
[202:00.74] (soft ambient music continues)
[202:04.66] (soft ambient music continues)
[202:08.58] (soft ambient music continues)
[202:12.50] (soft ambient music continues)
[202:16.42] (soft ambient music continues)
[202:41.86] Okay, so now I think that this is correct.
[202:44.46] Because versions will always be...
[202:49.38] Okay, no, that's right.
[202:52.86] So if it was hex, it doesn't break it.
[202:55.62] If it's not hex, if it's a number, it becomes hex.
[202:58.70] Then we make sure that we assign the right version.
[203:02.50] Okay, and then we have a very similar thing here
[203:06.70] with
[203:07.54] (soft ambient music continues)
[203:11.46] versions dot public
[203:26.42] xpubhex.
[203:30.18] And then we need to do something like this
[203:34.54] so that we're not accidentally
[203:36.54] (soft ambient music continues)
[203:40.46] leaking.
[203:47.02] So that way I can't make a typo, essentially.
[203:49.66] Or at least it's more difficult to make a typo.
[203:54.62] (soft ambient music continues)
[204:06.26] I couldn't accidentally use xprib here.
[204:08.70] Yeah, okay.
[204:11.50] All right, so assert version equals versions dot public.
[204:18.70] (soft ambient music continues)
[204:30.26] All right, there is one thing I don't like about this.
[204:32.42] (soft ambient music continues)
[204:36.34] There we go.
[205:02.14] And we're gonna swap this out.
[205:03.74] (soft ambient music continues)
[205:07.70] (soft ambient music continues)
[205:11.54] (soft ambient music continues)
[205:15.46] (soft ambient music continues)
[205:19.38] (soft ambient music continues)
[205:43.98] (soft ambient music continues)
[205:47.90] (soft ambient music continues)
[205:55.54] (soft ambient music continues)
[206:13.78] (soft ambient music continues)
[206:17.70] I'll try this, actually.
[206:40.86] What if I do,
[206:42.98] (soft ambient music continues)
[206:46.90] will that work?
[206:51.22] Yeah, that will work.
[206:53.10] So we'll declare it this way.
[206:56.34] Whoa, holy bejeebies, coming out of nowhere.
[206:59.82] - So scared.
[207:02.02] - Yeah.
[207:03.38] - Well, we're gonna go to the gym.
[207:05.78] - Okay.
[207:07.22] Oh crap, it's almost time for me to go, isn't it?
[207:09.46] - Yes, well, it's five.
[207:12.02] 17, as you can see.
[207:13.54] - Yeah, all right.
[207:14.38] Well, I'll have to go if you don't see me.
[207:15.22] - But, we're gonna be leaving.
[207:16.46] I thought you need some smoochkins and stuff.
[207:20.34] - Okay.
[207:21.18] - For everybody, because the kids won't see you.
[207:24.22] - All right.
[207:25.82] Hey, buddy.
[207:26.66] It's not doing anything right now, buddy.
[207:30.94] (soft ambient music continues)
[207:34.86] (soft ambient music continues)
[207:38.78] (soft ambient music continues)
[207:42.70] (soft ambient music continues)
[207:46.62] (soft ambient music continues)
[207:50.54] (soft ambient music continues)
[207:54.46] (soft ambient music continues)
[207:58.38] (soft ambient music continues)
[208:02.30] (soft ambient music continues)
[208:06.22] (soft ambient music continues)
[208:31.82] (soft ambient music continues)
[208:35.74] - Muting.
[208:41.78] Unmuted.
[208:42.62] Okay, so missing semicolon somewhere.
[208:50.46] I don't really care much about that.
[208:52.22] Okay, so.
[208:59.90] Xprev.
[209:00.74] So, if I get rid of these two, there's my trick.
[209:08.46] Nothing in there lights up, good.
[209:11.90] That means I'm not using that wrong.
[209:13.98] And if I get rid of these two,
[209:15.50] then nothing up here lights up, and that's good.
[209:21.74] Okay.
[209:22.58] All right, so, yeah, that's a little obnoxious,
[209:27.66] but it's the way that it is.
[209:30.10] And now I need to, instead of versions.public,
[209:35.10] I have xpub_uint32.
[209:38.06] And then xprev_uint32.
[209:45.70] Okay.
[209:59.06] (soft ambient music continues)
[210:00.10] All right, that should work.
[210:01.46] All right, so now, yeah, that whole bit was just,
[210:14.66] it's really public cert.
[210:18.58] If public, I mean,
[210:25.62] I guess we could have thrown all of this in there.
[210:27.78] That actually would make me feel a little bit better
[210:32.14] if we were using this guard right here.
[210:36.58] But is that all we need it for?
[210:40.74] 'Cause this is, yeah, this is just asserting
[210:44.14] that it is what we expect it to be.
[210:46.50] Okay, and then I don't think
[210:52.58] that it makes much sense to nest this,
[210:54.66] but then, you know, see, now we've got this big block
[210:58.94] and you know me, I don't believe in big if else blocks.
[211:02.82] So I'm gonna make an exception to the rule for now
[211:08.02] because I am.
[211:09.14] Because,
[211:17.06] I mean, I guess,
[211:22.78] (soft ambient music continues)
[211:25.78] I mean, I could do like a, I don't know.
[211:30.50] I'll try one thing.
[211:31.54] I'll try one thing.
[211:32.54] (soft ambient music continues)
[211:48.10] (soft ambient music continues)
[211:52.02] See, I just don't know.
[212:15.62] (soft ambient music continues)
[212:19.62] Well, we'll give it a try.
[212:25.22] We can always back out of it if we don't like it.
[212:34.30] (soft ambient music continues)
[212:38.22] (soft ambient music continues)
[212:50.06] (soft ambient music continues)
[212:53.98] (soft ambient music continues)
[213:22.18] (indistinct)
[213:23.66] All right, so we're gonna need to pass in
[213:26.18] versions.public.
[213:28.10] All right, let's see what happens if we do this.
[213:35.30] (soft ambient music continues)
[213:40.22] (soft ambient music continues)
[213:44.14] (soft ambient music continues)
[213:48.06] (soft ambient music continues)
[213:51.98] (soft ambient music continues)
[213:55.90] (soft ambient music continues)
[214:13.82] (soft ambient music continues)
[214:17.74] Okay, we might,
[214:25.66] we might just keep this private for the time being.
[214:41.50] Version to
[214:42.74] tuple.
[214:49.70] We'll call it version to tuple and we will return.
[214:55.34] (soft ambient music continues)
[215:07.02] (soft ambient music continues)
[215:10.94] (soft ambient music continues)
[215:14.86] (soft ambient music continues)
[215:41.98] Inver, testver.
[215:43.14] (soft ambient music continues)
[215:48.94] (soft ambient music continues)
[216:04.22] (soft ambient music continues)
[216:08.14] Version, version.
[216:17.46] Version, version.
[216:21.66] Version, version.
[216:26.46] And this would be
[216:32.82] popent.
[216:33.66] Whoops.
[216:36.74] This would be
[216:38.98] mainent, testent.
[216:41.90] So this would be
[216:45.10] mainent, testent.
[216:47.70] Mainster, testster.
[216:59.78] And then it would be back to versions.
[217:03.02] Version to tuple.
[217:11.54] Okay.
[217:24.78] Version, public.
[217:29.54] Mainster would be xpub
[217:31.42] and then tpub
[217:35.66] and then -hd.versions, no.
[217:42.70] Mainnet.public.
[217:46.10] (soft ambient music continues)
[217:50.02] Testnet.public.
[218:12.86] You know, it cleans it up a little bit, meh.
[218:16.10] I kind of want to readjust it to be this way.
[218:25.42] What could possibly go wrong?
[218:30.18] Actually, I think that will help it be easier
[218:32.46] to do the type checking on.
[218:33.86] So @param
[218:39.66] string or number.
[218:43.54] And then @param string
[218:45.78] and then @param number
[218:48.86] and then @param string number.
[218:52.46] So
[218:53.30] X
[218:58.50] prove.
[219:01.22] (soft ambient music continues)
[219:05.14] You prove tpub.
[219:17.82] Wait.
[219:26.66] (soft ambient music continues)
[219:30.58] There we go.
[219:54.94] Version.
[219:55.78] Mainster.
[219:58.02] Mainent.
[220:00.70] Tester.
[220:04.02] Testnet.
[220:06.38] Okay.
[220:07.22] (mumbles)
[220:10.94] All right.
[220:16.94] So
[220:17.78] (soft ambient music continues)
[220:21.70] HD versions.
[220:34.94] (soft ambient music continues)
[220:38.94] (soft ambient music continues)
[220:42.86] Okay.
[220:57.06] So that has to be a number or a string
[220:59.38] and that's not assignable to type number.
[221:01.78] So this is going to be @type
[221:05.26] number
[221:07.02] (soft ambient music continues)
[221:10.62] Just, just trust me, bro.
[221:12.62] This is a trust me, bro.
[221:15.78] There we go.
[221:20.98] (soft ambient music continues)
[221:26.22] (soft ambient music continues)
[221:30.14] Hey buddy.
[221:44.86] What's up, son?
[221:48.70] Okay. This is where I'm confused.
[221:53.18] How is this one?
[221:54.10] Okay.
[221:55.30] (soft ambient music continues)
[221:57.38] But the other one's not.
[221:58.58] All right.
[222:04.38] (soft ambient music continues)
[222:09.38] (soft ambient music continues)
[222:13.30] I don't understand.
[222:38.90] Why does it know that
[222:40.30] that one is
[222:42.82] but it doesn't know this one.
[222:50.10] That's kind of strange to me.
[222:51.58] I wonder if it's glitching out.
[222:56.42] So string or number, string, number, string, number.
[223:00.02] That returns.
[223:06.54] (soft ambient music continues)
[223:10.46] String, number.
[223:14.62] (soft ambient music continues)
[223:18.54] (soft ambient music continues)
[223:47.78] X key, X key, X key, X key, X key.
[223:50.86] Okay.
[223:56.66] So now we will properly handle versions.
[223:59.98] And here, this one's not as big of a deal
[224:03.26] 'cause it's just a check.
[224:04.86] Version mismatch.
[224:12.22] Where's the assert on this one?
[224:16.74] (soft ambient music continues)
[224:20.66] Let's prove.
[224:29.66] Okay, public, public, public, private, private, private,
[224:38.58] private, private.
[224:39.58] (soft ambient music continues)
[224:45.34] Okay, so this was all just for checking anyway,
[224:48.02] but now we've got
[224:49.02] the code that will
[224:52.42] get this to the right state.
[224:58.46] So since we're exposing it, yeah.
[225:01.62] (soft ambient music continues)
[225:07.26] (soft ambient music continues)
[225:11.18] Why is that?
[225:23.58] I'm just, I'm confused as to why we're getting an error here,
[225:36.50] but not here.
[225:37.66] It seems like we should get an error of both or neither.
[225:40.38] But we're gonna go with it.
[225:52.02] (soft ambient music continues)
[225:55.94] Okay.
[226:19.42] (soft ambient music continues)
[226:23.42] Right, so.
[226:28.22] (soft ambient music continues)
[226:46.94] (soft ambient music continues)
[226:50.86] All right, let's go back up to the top and see.
[227:14.50] So, first of all.
[227:16.18] Interesting.
[227:39.50] I don't know what it's pointing out,
[227:42.46] but it's not detecting it as an error.
[227:44.18] It's not allowing me to do a quick fix jump.
[227:46.90] Let's see if we see.
[227:51.54] Okay, what is it griping about right here?
[227:53.70] Argument of string or number.
[227:56.82] Two XPUB bytes.
[228:00.42] Okay, two XPUB bytes.
[228:07.22] (soft ambient music continues)
[228:11.14] (soft ambient music continues)
[228:15.38] (soft ambient music continues)
[228:19.42] (soft ambient music continues)
[228:23.34] (soft ambient music continues)
[228:51.10] (soft ambient music continues)
[228:55.02] (soft ambient music continues)
[229:12.46] (soft ambient music continues)
[229:16.38] (soft ambient music continues)
[229:39.78] (soft ambient music continues)
[229:43.70] That's the way that goes, though.
[229:52.82] You know, that's just how it goes.
[229:56.82] (soft ambient music continues)
[230:00.74] Okay.
[230:25.70] So, JSON ignore line.
[230:29.02] (soft ambient music continues)
[230:33.82] Okay, so.
[230:56.26] (soft ambient music continues)
[230:58.54] What do you mean?
[230:59.94] (soft ambient music continues)
[231:03.86] (soft ambient music continues)
[231:07.78] Okay, do we have anything else?
[231:29.14] No.
[231:32.10] (soft ambient music continues)
[231:36.18] (soft ambient music continues)
[231:40.10] (soft ambient music continues)
[231:44.02] (soft ambient music continues)
[231:47.94] Okay.
[232:12.78] (soft ambient music continues)
[232:16.70] Okay.
[232:35.46] So.
[232:37.62] Hopefully that's all fixed.
[232:43.74] I'm going to have to continue with this later.
[232:46.26] And it...
[233:06.06] Pastes slowly.
[233:09.26] All right.
[233:10.10] (soft ambient music continues)
[233:14.02] Stringer numbers, not the violins.
[233:20.78] It's a type stringer number.
[233:21.62] (indistinct)
[233:24.02] All right, fine.
[233:28.58] (soft ambient music continues)
[233:33.34] (soft ambient music continues)
[233:37.26] Okay.
[233:41.54] So, what was this type?
[233:43.86] Versions.
[233:46.66] (soft ambient music continues)
[233:50.58] (soft ambient music continues)
[234:18.86] Okay, we might need HD versions option.
[234:22.78] (soft ambient music continues)
[234:28.02] And say, look, HD versions is this.
[234:45.06] (soft ambient music continues)
[234:49.02] HD versions option.
[234:50.86] (soft ambient music continues)
[234:54.86] Is that.
[234:56.66] (soft ambient music continues)
[235:00.58] No, this is HD versions.
[235:04.94] (soft ambient music continues)
[235:09.02] (soft ambient music continues)
[235:12.94] (soft ambient music continues)
[235:16.86] (soft ambient music continues)
[235:46.38] Okay, there we go.
[235:47.58] Finally.
[235:48.42] (soft ambient music continues)
[235:53.34] Okay, so now this will accept the options.
[236:04.54] Now let's see what else is broken in it here.
[236:07.30] Okay.
[236:09.34] Two XPRIV.
[236:10.98] So that should in fact be optional.
[236:14.70] (soft ambient music continues)
[236:16.94] HD2XPRIV.
[236:20.74] Options should be optional.
[236:22.58] Here, options should be optional.
[236:26.30] (soft ambient music continues)
[236:30.90] Will I regret that?
[236:31.82] Maybe.
[236:32.66] I don't know.
[236:33.50] (soft ambient music continues)
[236:37.50] Okay.
[236:39.82] (soft ambient music continues)
[236:44.58] (soft ambient music continues)
[236:48.50] All right.
[236:55.62] (soft ambient music continues)
[236:59.74] All right.
[237:00.58] What is it griping about me now?
[237:02.82] (soft ambient music continues)
[237:06.78] All right.
[237:07.62] It's something that for whatever reason counts.
[237:10.70] It's in the error list, but it's not an error.
[237:14.46] Cyclomatic complexity is too high.
[237:16.06] Okay, fine.
[237:17.10] Fine, we'll bump it up to 30.
[237:19.06] Okay.
[237:20.14] We'll bump it up.
[237:21.18] (soft ambient music continues)
[237:25.10] (soft ambient music continues)
[237:29.10] (soft ambient music continues)
[237:33.10] (soft ambient music continues)
[237:37.10] (soft ambient music continues)
[237:55.10] (soft ambient music continues)
[237:59.10] So what do we have here?
[238:13.10] We've got test net,
[238:16.10] XPUB version,
[238:20.94] XPRIV version,
[238:23.10] (soft ambient music continues)
[238:26.10] WIF version,
[238:27.10] (soft ambient music continues)
[238:29.10] Adder version.
[238:30.10] (soft ambient music continues)
[238:34.10] (soft ambient music continues)
[238:39.10] (soft ambient music continues)
[238:44.10] (soft ambient music continues)
[238:50.10] (soft ambient music continues)
[238:54.10] (soft ambient music continues)
[238:59.10] (soft ambient music continues)
[239:04.10] (soft ambient music continues)
[239:09.10] (soft ambient music continues)
[239:15.10] (soft ambient music continues)
[239:19.10] (soft ambient music continues)
[239:24.10] (soft ambient music continues)
[239:29.10] (soft ambient music continues)
[239:34.10] (soft ambient music continues)
[239:40.10] XPUB, TPUB, main net, test net, hex.
[239:45.10] (soft ambient music continues)
[239:48.10] And this would be main net, test net, hex.
[239:52.10] And this is the same.
[239:54.10] (soft ambient music continues)
[239:59.10] (soft ambient music continues)
[240:04.10] (soft ambient music continues)
[240:09.10] (soft ambient music continues)
[240:13.10] There we go.
[240:15.10] Okay, so I'll actually need to update the documentation for that,
[240:19.10] but that's where we're at.
[240:21.10] So, yeah, it went down a different path,
[240:24.10] but this is probably the right time to go down it.
[240:30.10] (soft ambient music continues)
[240:36.10] (soft ambient music continues)
[240:40.10] (soft ambient music continues)
[240:43.10] Okay, so this is something that Jojo would probably like to know about.
[240:48.10] I'm actually curious, he said that he did this.
[240:54.10] How did you do Dogecoin without these?
[241:02.10] (soft ambient music continues)
[241:06.10] (soft ambient music continues)
[241:11.10] (soft ambient music continues)
[241:16.10] (soft ambient music continues)
[241:21.10] (soft ambient music continues)
[241:27.10] (soft ambient music continues)
[241:32.10] (soft ambient music continues)
[241:37.10] (soft ambient music continues)
[241:41.10] Okay, cool.
[241:42.10] So, key takeaway here.
[241:47.10] Now I've got the Dash HD,
[241:50.10] which it looked like Dash Keys was already good.
[241:53.10] Dash HD was not already good.
[241:56.10] But now Dash HD is good where we can use Testnet
[242:00.10] and pass through Magic Bytes.
[242:03.10] And, you know, maybe he was using it with Dash Keys directly
[242:07.10] rather than Dash HD.
[242:09.10] But anyway, so now we have the ability
[242:14.10] to do the stuff we need to do with the wallet
[242:17.10] to carry on with the other stuff we were doing.
[242:23.10] And so I will get back to that other stuff.
[242:27.10] That other stuff, whatever that was from light years ago.
[242:32.10] Okay.
[242:34.10] So I will have to manually update these
[242:37.10] and go ahead and run them and, you know,
[242:39.10] go through the paces with them and make sure they actually work.
[242:41.10] But now we should have the Testnet option
[242:43.10] so we should be able to do what we need to do.
[242:52.10] Um...
[242:53.10] Yeah, I gotta go.
[242:57.10] But, yeah, now that we have the Testnet option,
[243:00.10] now we can load up the addresses with money
[243:05.10] and then we can send our transactions and our DSA.
[243:11.10] And there might be an update that I need to make to Dash TX,
[243:15.10] which JoJo's got some update that he needs in Dash TX as well,
[243:19.10] so that'll be a good time to do that.
[243:22.10] But I gotta head out to a meet-up.
[243:24.10] I will catch you later.
[243:25.10] Thanks for tuning in.
[243:26.10] Like, sub, follow if you want to.
[243:28.10] Let the one who guides you.
[243:29.10] And I'll catch you next time.
[243:32.10] Adios.